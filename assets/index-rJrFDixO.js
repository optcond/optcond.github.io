const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-BYK2usvF.js","assets/query-Df61bAsc.js","assets/react-uYZGv8Ap.js","assets/recharts-wdVATIY2.js","assets/lucide-DvnUXODX.js","assets/supabase-CskpBK-R.js","assets/SystemState-BLsfjars.js","assets/PriceFeedHistory-MH7BXeAy.js","assets/tabs-BEtS51iv.js","assets/RiskAnalysis-BaOpAB9r.js","assets/LatestActivity-QzZqozvT.js","assets/AllTroves-v1B2VZH5.js","assets/PersonalWalletStats-Bw3S8Q9H.js"])))=>i.map(i=>d[i]);
var sA=Object.defineProperty;var Vm=t=>{throw TypeError(t)};var iA=(t,e,n)=>e in t?sA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>iA(t,typeof e!="symbol"?e+"":e,n),Af=(t,e,n)=>e.has(t)||Vm("Cannot "+n);var v=(t,e,n)=>(Af(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>e.has(t)?Vm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),C=(t,e,n,r)=>(Af(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),J=(t,e,n)=>(Af(t,e,"access private method"),n);var Xa=(t,e,n,r)=>({set _(s){C(t,e,s,n)},get _(){return v(t,e,r)}});import{j as g,u as oA,Q as aA,a as cA}from"./query-Df61bAsc.js";import{b as gd,r as w,R as W,d as Yb,e as r0}from"./react-uYZGv8Ap.js";import{c as Zb}from"./recharts-wdVATIY2.js";import{X as Xb,L as Mu,A as lA,S as uA,a as dA,T as fA,b as pA,U as hA,M as mA,P as yA}from"./lucide-DvnUXODX.js";import{_ as Ls,c as gA}from"./supabase-CskpBK-R.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ew,Wm=gd;ew=Wm.createRoot,Wm.hydrateRoot;const bA=1,wA=1e6;let Ef=0;function vA(){return Ef=(Ef+1)%Number.MAX_SAFE_INTEGER,Ef.toString()}const Tf=new Map,qm=t=>{if(Tf.has(t))return;const e=setTimeout(()=>{Tf.delete(t),yc({type:"REMOVE_TOAST",toastId:t})},wA);Tf.set(t,e)},xA=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,bA)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?qm(n):t.toasts.forEach(r=>{qm(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},yu=[];let gu={toasts:[]};function yc(t){gu=xA(gu,t),yu.forEach(e=>{e(gu)})}function AA({...t}){const e=vA(),n=s=>yc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>yc({type:"DISMISS_TOAST",toastId:e});return yc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function tw(){const[t,e]=w.useState(gu);return w.useEffect(()=>(yu.push(e),()=>{const n=yu.indexOf(e);n>-1&&yu.splice(n,1)}),[t]),{...t,toast:AA,dismiss:n=>yc({type:"DISMISS_TOAST",toastId:n})}}function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Qm(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nw(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Qm(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Qm(t[s],null)}}}}function $e(...t){return w.useCallback(nw(...t),t)}function EA(t,e){const n=w.createContext(e),r=i=>{const{children:o,...a}=i,c=w.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function _a(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),c=n.length;n=[...n,o];const l=d=>{var b;const{scope:p,children:f,...m}=d,h=((b=p==null?void 0:p[t])==null?void 0:b[c])||a,y=w.useMemo(()=>m,Object.values(m));return g.jsx(h.Provider,{value:y,children:f})};l.displayName=i+"Provider";function u(d,p){var h;const f=((h=p==null?void 0:p[t])==null?void 0:h[c])||a,m=w.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,TA(s,...e)]}function TA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)[`__scope${l}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ac(t){const e=CA(t),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,a=w.Children.toArray(i),c=a.find(NA);if(c){const l=c.props.children,u=a.map(d=>d===c?w.Children.count(l)>1?w.Children.only(null):w.isValidElement(l)?l.props.children:null:d);return g.jsx(e,{...o,ref:s,children:w.isValidElement(l)?w.cloneElement(l,void 0,u):null})}return g.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var PA=Ac("Slot");function CA(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=IA(s),a=RA(i,s.props);return s.type!==w.Fragment&&(a.ref=r?nw(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rw=Symbol("radix.slottable");function SA(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=rw,e}function NA(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rw}function RA(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function IA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function BA(t){const e=t+"CollectionProvider",[n,r]=_a(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:y,children:b}=h,E=W.useRef(null),x=W.useRef(new Map).current;return g.jsx(s,{scope:y,itemMap:x,collectionRef:E,children:b})};o.displayName=e;const a=t+"CollectionSlot",c=Ac(a),l=W.forwardRef((h,y)=>{const{scope:b,children:E}=h,x=i(a,b),A=$e(y,x.collectionRef);return g.jsx(c,{ref:A,children:E})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=Ac(u),f=W.forwardRef((h,y)=>{const{scope:b,children:E,...x}=h,A=W.useRef(null),T=$e(y,A),P=i(u,b);return W.useEffect(()=>(P.itemMap.set(A,{ref:A,...x}),()=>void P.itemMap.delete(A))),g.jsx(p,{[d]:"",ref:T,children:E})});f.displayName=u;function m(h){const y=i(t+"CollectionConsumer",h);return W.useCallback(()=>{const E=y.collectionRef.current;if(!E)return[];const x=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((P,S)=>x.indexOf(P.ref.current)-x.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},m,r]}var OA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=OA.reduce((t,e)=>{const n=Ac(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function sw(t,e){t&&gd.flushSync(()=>t.dispatchEvent(e))}function nt(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function kA(t,e=globalThis==null?void 0:globalThis.document){const n=nt(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var MA="DismissableLayer",Np="dismissableLayer.update",DA="dismissableLayer.pointerDownOutside",LA="dismissableLayer.focusOutside",Km,iw=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bd=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,l=w.useContext(iw),[u,d]=w.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=w.useState({}),m=$e(e,S=>d(S)),h=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=h.indexOf(y),E=u?h.indexOf(u):-1,x=l.layersWithOutsidePointerEventsDisabled.size>0,A=E>=b,T=_A(S=>{const R=S.target,M=[...l.branches].some(F=>F.contains(R));!A||M||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},p),P=UA(S=>{const R=S.target;[...l.branches].some(F=>F.contains(R))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},p);return kA(S=>{E===l.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},p),w.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Km=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Jm(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Km)}},[u,p,n,l]),w.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Jm())},[u,l]),w.useEffect(()=>{const S=()=>f({});return document.addEventListener(Np,S),()=>document.removeEventListener(Np,S)},[]),g.jsx(Pe.div,{...c,ref:m,style:{pointerEvents:x?A?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,P.onFocusCapture),onBlurCapture:we(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,T.onPointerDownCapture)})});bd.displayName=MA;var FA="DismissableLayerBranch",ow=w.forwardRef((t,e)=>{const n=w.useContext(iw),r=w.useRef(null),s=$e(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(Pe.div,{...t,ref:s})});ow.displayName=FA;function _A(t,e=globalThis==null?void 0:globalThis.document){const n=nt(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){aw(DA,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function UA(t,e=globalThis==null?void 0:globalThis.document){const n=nt(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&aw(LA,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jm(){const t=new CustomEvent(Np);document.dispatchEvent(t)}function aw(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sw(s,i):s.dispatchEvent(i)}var jA=bd,$A=ow,tr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},zA="Portal",s0=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=w.useState(!1);tr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Yb.createPortal(g.jsx(Pe.div,{...r,ref:e}),o):null});s0.displayName=zA;function HA(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var ir=t=>{const{present:e,children:n}=t,r=GA(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=$e(r.ref,VA(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};ir.displayName="Presence";function GA(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,c]=HA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const l=ql(r.current);i.current=a==="mounted"?l:"none"},[a]),tr(()=>{const l=r.current,u=s.current;if(u!==t){const p=i.current,f=ql(l);t?c("MOUNT"):f==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),tr(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=f=>{const h=ql(r.current).includes(CSS.escape(f.animationName));if(f.target===e&&h&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},p=f=>{f.target===e&&(i.current=ql(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function ql(t){return(t==null?void 0:t.animationName)||"none"}function VA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var WA=r0[" useInsertionEffect ".trim().toString()]||tr;function cw({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=qA({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const u=w.useRef(t!==void 0);w.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const l=w.useCallback(u=>{var d;if(a){const p=QA(u)?u(t):u;p!==t&&((d=o.current)==null||d.call(o,p))}else i(u)},[a,t,i,o]);return[c,l]}function qA({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),i=w.useRef(e);return WA(()=>{i.current=e},[e]),w.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function QA(t){return typeof t=="function"}var KA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JA="VisuallyHidden",wd=w.forwardRef((t,e)=>g.jsx(Pe.span,{...t,ref:e,style:{...KA,...t.style}}));wd.displayName=JA;var YA=wd,i0="ToastProvider",[o0,ZA,XA]=BA("Toast"),[lw]=_a("Toast",[XA]),[eE,vd]=lw(i0),uw=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=w.useState(null),[l,u]=w.useState(0),d=w.useRef(!1),p=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${i0}\`. Expected non-empty \`string\`.`),g.jsx(o0.Provider,{scope:e,children:g.jsx(eE,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:l,viewport:a,onViewportChange:c,onToastAdd:w.useCallback(()=>u(f=>f+1),[]),onToastRemove:w.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};uw.displayName=i0;var dw="ToastViewport",tE=["F8"],Rp="toast.viewportPause",Ip="toast.viewportResume",fw=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=tE,label:s="Notifications ({hotkey})",...i}=t,o=vd(dw,n),a=ZA(n),c=w.useRef(null),l=w.useRef(null),u=w.useRef(null),d=w.useRef(null),p=$e(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;w.useEffect(()=>{const y=b=>{var x;r.length!==0&&r.every(A=>b[A]||b.code===A)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),w.useEffect(()=>{const y=c.current,b=d.current;if(m&&y&&b){const E=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Rp);b.dispatchEvent(P),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Ip);b.dispatchEvent(P),o.isClosePausedRef.current=!1}},A=P=>{!y.contains(P.relatedTarget)&&x()},T=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",E),y.addEventListener("focusout",A),y.addEventListener("pointermove",E),y.addEventListener("pointerleave",T),window.addEventListener("blur",E),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",E),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",E),y.removeEventListener("pointerleave",T),window.removeEventListener("blur",E),window.removeEventListener("focus",x)}}},[m,o.isClosePausedRef]);const h=w.useCallback(({tabbingDirection:y})=>{const E=a().map(x=>{const A=x.ref.current,T=[A,...hE(A)];return y==="forwards"?T:T.reverse()});return(y==="forwards"?E.reverse():E).flat()},[a]);return w.useEffect(()=>{const y=d.current;if(y){const b=E=>{var T,P,S;const x=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!x){const R=document.activeElement,M=E.shiftKey;if(E.target===y&&M){(T=l.current)==null||T.focus();return}const D=h({tabbingDirection:M?"backwards":"forwards"}),$=D.findIndex(z=>z===R);Pf(D.slice($+1))?E.preventDefault():M?(P=l.current)==null||P.focus():(S=u.current)==null||S.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[a,h]),g.jsxs($A,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&g.jsx(Bp,{ref:l,onFocusFromOutsideViewport:()=>{const y=h({tabbingDirection:"forwards"});Pf(y)}}),g.jsx(o0.Slot,{scope:n,children:g.jsx(Pe.ol,{tabIndex:-1,...i,ref:p})}),m&&g.jsx(Bp,{ref:u,onFocusFromOutsideViewport:()=>{const y=h({tabbingDirection:"backwards"});Pf(y)}})]})});fw.displayName=dw;var pw="ToastFocusProxy",Bp=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=vd(pw,n);return g.jsx(wd,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var l;const a=o.relatedTarget;!((l=i.viewport)!=null&&l.contains(a))&&r()}})});Bp.displayName=pw;var xl="Toast",nE="toast.swipeStart",rE="toast.swipeMove",sE="toast.swipeCancel",iE="toast.swipeEnd",hw=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=cw({prop:r,defaultProp:s??!0,onChange:i,caller:xl});return g.jsx(ir,{present:n||a,children:g.jsx(cE,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:nt(t.onPause),onResume:nt(t.onResume),onSwipeStart:we(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:we(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});hw.displayName=xl;var[oE,aE]=lw(xl,{onClose(){}}),cE=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:f,...m}=t,h=vd(xl,n),[y,b]=w.useState(null),E=$e(e,z=>b(z)),x=w.useRef(null),A=w.useRef(null),T=s||h.duration,P=w.useRef(0),S=w.useRef(T),R=w.useRef(0),{onToastAdd:M,onToastRemove:F}=h,B=nt(()=>{var N;(y==null?void 0:y.contains(document.activeElement))&&((N=h.viewport)==null||N.focus()),o()}),D=w.useCallback(z=>{!z||z===1/0||(window.clearTimeout(R.current),P.current=new Date().getTime(),R.current=window.setTimeout(B,z))},[B]);w.useEffect(()=>{const z=h.viewport;if(z){const N=()=>{D(S.current),l==null||l()},I=()=>{const U=new Date().getTime()-P.current;S.current=S.current-U,window.clearTimeout(R.current),c==null||c()};return z.addEventListener(Rp,I),z.addEventListener(Ip,N),()=>{z.removeEventListener(Rp,I),z.removeEventListener(Ip,N)}}},[h.viewport,T,c,l,D]),w.useEffect(()=>{i&&!h.isClosePausedRef.current&&D(T)},[i,T,h.isClosePausedRef,D]),w.useEffect(()=>(M(),()=>F()),[M,F]);const $=w.useMemo(()=>y?xw(y):null,[y]);return h.viewport?g.jsxs(g.Fragment,{children:[$&&g.jsx(lE,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:$}),g.jsx(oE,{scope:n,onClose:B,children:gd.createPortal(g.jsx(o0.ItemSlot,{scope:n,children:g.jsx(jA,{asChild:!0,onEscapeKeyDown:we(a,()=>{h.isFocusedToastEscapeKeyDownRef.current||B(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Pe.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":h.swipeDirection,...m,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:we(t.onPointerDown,z=>{z.button===0&&(x.current={x:z.clientX,y:z.clientY})}),onPointerMove:we(t.onPointerMove,z=>{if(!x.current)return;const N=z.clientX-x.current.x,I=z.clientY-x.current.y,U=!!A.current,k=["left","right"].includes(h.swipeDirection),L=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,G=k?L(0,N):0,q=k?0:L(0,I),K=z.pointerType==="touch"?10:2,te={x:G,y:q},Q={originalEvent:z,delta:te};U?(A.current=te,Ql(rE,d,Q,{discrete:!1})):Ym(te,h.swipeDirection,K)?(A.current=te,Ql(nE,u,Q,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(N)>K||Math.abs(I)>K)&&(x.current=null)}),onPointerUp:we(t.onPointerUp,z=>{const N=A.current,I=z.target;if(I.hasPointerCapture(z.pointerId)&&I.releasePointerCapture(z.pointerId),A.current=null,x.current=null,N){const U=z.currentTarget,k={originalEvent:z,delta:N};Ym(N,h.swipeDirection,h.swipeThreshold)?Ql(iE,f,k,{discrete:!0}):Ql(sE,p,k,{discrete:!0}),U.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),lE=t=>{const{__scopeToast:e,children:n,...r}=t,s=vd(xl,e),[i,o]=w.useState(!1),[a,c]=w.useState(!1);return fE(()=>o(!0)),w.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),a?null:g.jsx(s0,{asChild:!0,children:g.jsx(wd,{...r,children:i&&g.jsxs(g.Fragment,{children:[s.label," ",n]})})})},uE="ToastTitle",mw=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Pe.div,{...r,ref:e})});mw.displayName=uE;var dE="ToastDescription",yw=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Pe.div,{...r,ref:e})});yw.displayName=dE;var gw="ToastAction",bw=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(vw,{altText:n,asChild:!0,children:g.jsx(a0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gw}\`. Expected non-empty \`string\`.`),null)});bw.displayName=gw;var ww="ToastClose",a0=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=aE(ww,n);return g.jsx(vw,{asChild:!0,children:g.jsx(Pe.button,{type:"button",...r,ref:e,onClick:we(t.onClick,s.onClose)})})});a0.displayName=ww;var vw=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return g.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function xw(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),pE(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...xw(r))}}),e}function Ql(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sw(s,i):s.dispatchEvent(i)}var Ym=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function fE(t=()=>{}){const e=nt(t);tr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function pE(t){return t.nodeType===t.ELEMENT_NODE}function hE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Pf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mE=uw,Aw=fw,Ew=hw,Tw=mw,Pw=yw,Cw=bw,Sw=a0;const Zm=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Xm=Zb,Al=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Xm(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(l=>{const u=n==null?void 0:n[l],d=i==null?void 0:i[l];if(u===null)return null;const p=Zm(u)||Zm(d);return s[l][p]}),a=n&&Object.entries(n).reduce((l,u)=>{let[d,p]=u;return p===void 0||(l[d]=p),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:d,className:p,...f}=u;return Object.entries(f).every(m=>{let[h,y]=m;return Array.isArray(y)?y.includes({...i,...a}[h]):{...i,...a}[h]===y})?[...l,d,p]:l},[]);return Xm(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},c0="-",yE=t=>{const e=bE(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(c0);return a[0]===""&&a.length!==1&&a.shift(),Nw(a,e)||gE(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},Nw=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Nw(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(c0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ey=/^\[(.+)\]$/,gE=t=>{if(ey.test(t)){const e=ey.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},bE=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return vE(Object.entries(t.classGroups),n).forEach(([i,o])=>{Op(o,r,i,e)}),r},Op=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ty(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(wE(s)){Op(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Op(o,ty(e,i),n,r)})})},ty=(t,e)=>{let n=t;return e.split(c0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wE=t=>t.isThemeGetter,vE=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,xE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Rw="!",AE=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let l=0,u=0,d;for(let y=0;y<a.length;y++){let b=a[y];if(l===0){if(b===s&&(r||a.slice(y,y+i)===e)){c.push(a.slice(u,y)),u=y+i;continue}if(b==="/"){d=y;continue}}b==="["?l++:b==="]"&&l--}const p=c.length===0?a:a.substring(u),f=p.startsWith(Rw),m=f?p.substring(1):p,h=d&&d>u?d-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}};return n?a=>n({className:a,parseClassName:o}):o},EE=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},TE=t=>({cache:xE(t.cacheSize),parseClassName:AE(t),...yE(t)}),PE=/\s+/,CE=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(PE);let a="";for(let c=o.length-1;c>=0;c-=1){const l=o[c],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:f}=n(l);let m=!!f,h=r(m?p.substring(0,f):p);if(!h){if(!m){a=l+(a.length>0?" "+a:a);continue}if(h=r(p),!h){a=l+(a.length>0?" "+a:a);continue}m=!1}const y=EE(u).join(":"),b=d?y+Rw:y,E=b+h;if(i.includes(E))continue;i.push(E);const x=s(h,m);for(let A=0;A<x.length;++A){const T=x[A];i.push(b+T)}a=l+(a.length>0?" "+a:a)}return a};function SE(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Iw(e))&&(r&&(r+=" "),r+=n);return r}const Iw=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Iw(t[r]))&&(n&&(n+=" "),n+=e);return n};function NE(t,...e){let n,r,s,i=o;function o(c){const l=e.reduce((u,d)=>d(u),t());return n=TE(l),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=CE(c,n);return s(c,u),u}return function(){return i(SE.apply(null,arguments))}}const Ne=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Bw=/^\[(?:([a-z-]+):)?(.+)\]$/i,RE=/^\d+\/\d+$/,IE=new Set(["px","full","screen"]),BE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ME=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cr=t=>Eo(t)||IE.has(t)||RE.test(t),Jr=t=>Ua(t,"length",HE),Eo=t=>!!t&&!Number.isNaN(Number(t)),Cf=t=>Ua(t,"number",Eo),ec=t=>!!t&&Number.isInteger(Number(t)),LE=t=>t.endsWith("%")&&Eo(t.slice(0,-1)),ue=t=>Bw.test(t),Yr=t=>BE.test(t),FE=new Set(["length","size","percentage"]),_E=t=>Ua(t,FE,Ow),UE=t=>Ua(t,"position",Ow),jE=new Set(["image","url"]),$E=t=>Ua(t,jE,VE),zE=t=>Ua(t,"",GE),tc=()=>!0,Ua=(t,e,n)=>{const r=Bw.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},HE=t=>OE.test(t)&&!kE.test(t),Ow=()=>!1,GE=t=>ME.test(t),VE=t=>DE.test(t),WE=()=>{const t=Ne("colors"),e=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),s=Ne("borderColor"),i=Ne("borderRadius"),o=Ne("borderSpacing"),a=Ne("borderWidth"),c=Ne("contrast"),l=Ne("grayscale"),u=Ne("hueRotate"),d=Ne("invert"),p=Ne("gap"),f=Ne("gradientColorStops"),m=Ne("gradientColorStopPositions"),h=Ne("inset"),y=Ne("margin"),b=Ne("opacity"),E=Ne("padding"),x=Ne("saturate"),A=Ne("scale"),T=Ne("sepia"),P=Ne("skew"),S=Ne("space"),R=Ne("translate"),M=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",ue,e],D=()=>[ue,e],$=()=>["",cr,Jr],z=()=>["auto",Eo,ue],N=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ue],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Eo,ue];return{cacheSize:500,separator:":",theme:{colors:[tc],spacing:[cr,Jr],blur:["none","",Yr,ue],brightness:q(),borderColor:[t],borderRadius:["none","","full",Yr,ue],borderSpacing:D(),borderWidth:$(),contrast:q(),grayscale:L(),hueRotate:q(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[LE,Jr],inset:B(),margin:B(),opacity:q(),padding:D(),saturate:q(),scale:q(),sepia:L(),skew:q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Yr]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...N(),ue]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ec,ue]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",ec,ue]}],"grid-cols":[{"grid-cols":[tc]}],"col-start-end":[{col:["auto",{span:["full",ec,ue]},ue]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[tc]}],"row-start-end":[{row:["auto",{span:[ec,ue]},ue]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Yr]},Yr]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Yr,Jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cf]}],"font-family":[{font:[tc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Eo,Cf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cr,Jr]}],"underline-offset":[{"underline-offset":["auto",cr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...N(),UE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_E]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$E]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[cr,ue]}],"outline-w":[{outline:[cr,Jr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[cr,Jr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yr,zE]}],"shadow-color":[{shadow:[tc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yr,ue]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[ec,ue]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[cr,Jr,Cf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qE=NE(WE);function xe(...t){return qE(Zb(t))}const QE=mE,kw=w.forwardRef(({className:t,...e},n)=>g.jsx(Aw,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));kw.displayName=Aw.displayName;const KE=Al("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Mw=w.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(Ew,{ref:r,className:xe(KE({variant:e}),t),...n}));Mw.displayName=Ew.displayName;const JE=w.forwardRef(({className:t,...e},n)=>g.jsx(Cw,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));JE.displayName=Cw.displayName;const Dw=w.forwardRef(({className:t,...e},n)=>g.jsx(Sw,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(Xb,{className:"h-4 w-4"})}));Dw.displayName=Sw.displayName;const Lw=w.forwardRef(({className:t,...e},n)=>g.jsx(Tw,{ref:n,className:xe("text-sm font-semibold",t),...e}));Lw.displayName=Tw.displayName;const Fw=w.forwardRef(({className:t,...e},n)=>g.jsx(Pw,{ref:n,className:xe("text-sm opacity-90",t),...e}));Fw.displayName=Pw.displayName;function YE(){const{toasts:t}=tw();return g.jsxs(QE,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return g.jsxs(Mw,{...i,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(Lw,{children:n}),r&&g.jsx(Fw,{children:r})]}),s,g.jsx(Dw,{})]},e)}),g.jsx(kw,{})]})}var ny=["light","dark"],ZE="(prefers-color-scheme: dark)",XE=w.createContext(void 0),eT={setTheme:t=>{},themes:[]},tT=()=>{var t;return(t=w.useContext(XE))!=null?t:eT};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let l=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?ny.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(m,h=!1,y=!0)=>{let b=o?o[m]:m,E=h?m+"|| ''":`'${b}'`,x="";return s&&y&&!h&&ny.includes(m)&&(x+=`d.style.colorScheme = '${m}';`),n==="class"?h||b?x+=`c.add(${E})`:x+="null":b&&(x+=`d[s](n,${E})`),x},f=t?`!function(){${u}${p(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${l})){var t='${ZE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${l?"":"else{"+p(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${d}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var nT=t=>{switch(t){case"success":return iT;case"info":return aT;case"warning":return oT;case"error":return cT;default:return null}},rT=Array(12).fill(0),sT=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},rT.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),iT=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oT=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aT=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cT=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lT=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uT=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},kp=1,dT=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:kp++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],W.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(pT(c)&&!c.ok){s=!1;let l=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:l,description:u})}else if(e.success!==void 0){s=!1;let l=typeof e.success=="function"?await e.success(c):e.success,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:l,description:u})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){s=!1;let l=typeof e.error=="function"?await e.error(c):e.error,u=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:l,description:u})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,l)=>o.then(()=>i[0]==="reject"?l(i[1]):c(i[1])).catch(l));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||kp++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},xt=new dT,fT=(t,e)=>{let n=(e==null?void 0:e.id)||kp++;return xt.addToast({title:t,...e,id:n}),n},pT=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",hT=fT,mT=()=>xt.toasts,yT=()=>xt.getActiveToasts();Object.assign(hT,{success:xt.success,info:xt.info,warning:xt.warning,error:xt.error,custom:xt.custom,message:xt.message,promise:xt.promise,dismiss:xt.dismiss,loading:xt.loading},{getHistory:mT,getToasts:yT});function gT(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}gT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kl(t){return t.label!==void 0}var bT=3,wT="32px",vT="16px",ry=4e3,xT=356,AT=14,ET=20,TT=200;function un(...t){return t.filter(Boolean).join(" ")}function PT(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var CT=t=>{var e,n,r,s,i,o,a,c,l,u,d;let{invert:p,toast:f,unstyled:m,interacting:h,setHeights:y,visibleToasts:b,heights:E,index:x,toasts:A,expanded:T,removeToast:P,defaultRichColors:S,closeButton:R,style:M,cancelButtonStyle:F,actionButtonStyle:B,className:D="",descriptionClassName:$="",duration:z,position:N,gap:I,loadingIcon:U,expandByDefault:k,classNames:L,icons:G,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:K}=t,[te,Q]=W.useState(null),[se,le]=W.useState(null),[ie,Ce]=W.useState(!1),[Te,Re]=W.useState(!1),[ze,Ie]=W.useState(!1),[Y,ae]=W.useState(!1),[He,_e]=W.useState(!1),[Ji,Ya]=W.useState(0),[Yi,Um]=W.useState(0),Za=W.useRef(f.duration||z||ry),jm=W.useRef(null),js=W.useRef(null),K2=x===0,J2=x+1<=b,Wt=f.type,Zi=f.dismissible!==!1,Y2=f.className||"",Z2=f.descriptionClassName||"",Wl=W.useMemo(()=>E.findIndex(ce=>ce.toastId===f.id)||0,[E,f.id]),X2=W.useMemo(()=>{var ce;return(ce=f.closeButton)!=null?ce:R},[f.closeButton,R]),$m=W.useMemo(()=>f.duration||z||ry,[f.duration,z]),vf=W.useRef(0),Xi=W.useRef(0),zm=W.useRef(0),eo=W.useRef(null),[eA,tA]=N.split("-"),Hm=W.useMemo(()=>E.reduce((ce,Ae,Be)=>Be>=Wl?ce:ce+Ae.height,0),[E,Wl]),Gm=uT(),nA=f.invert||p,xf=Wt==="loading";Xi.current=W.useMemo(()=>Wl*I+Hm,[Wl,Hm]),W.useEffect(()=>{Za.current=$m},[$m]),W.useEffect(()=>{Ce(!0)},[]),W.useEffect(()=>{let ce=js.current;if(ce){let Ae=ce.getBoundingClientRect().height;return Um(Ae),y(Be=>[{toastId:f.id,height:Ae,position:f.position},...Be]),()=>y(Be=>Be.filter(an=>an.toastId!==f.id))}},[y,f.id]),W.useLayoutEffect(()=>{if(!ie)return;let ce=js.current,Ae=ce.style.height;ce.style.height="auto";let Be=ce.getBoundingClientRect().height;ce.style.height=Ae,Um(Be),y(an=>an.find(cn=>cn.toastId===f.id)?an.map(cn=>cn.toastId===f.id?{...cn,height:Be}:cn):[{toastId:f.id,height:Be,position:f.position},...an])},[ie,f.title,f.description,y,f.id]);let qr=W.useCallback(()=>{Re(!0),Ya(Xi.current),y(ce=>ce.filter(Ae=>Ae.toastId!==f.id)),setTimeout(()=>{P(f)},TT)},[f,P,y,Xi]);W.useEffect(()=>{if(f.promise&&Wt==="loading"||f.duration===1/0||f.type==="loading")return;let ce;return T||h||K&&Gm?(()=>{if(zm.current<vf.current){let Ae=new Date().getTime()-vf.current;Za.current=Za.current-Ae}zm.current=new Date().getTime()})():Za.current!==1/0&&(vf.current=new Date().getTime(),ce=setTimeout(()=>{var Ae;(Ae=f.onAutoClose)==null||Ae.call(f,f),qr()},Za.current)),()=>clearTimeout(ce)},[T,h,f,Wt,K,Gm,qr]),W.useEffect(()=>{f.delete&&qr()},[qr,f.delete]);function rA(){var ce,Ae,Be;return G!=null&&G.loading?W.createElement("div",{className:un(L==null?void 0:L.loader,(ce=f==null?void 0:f.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":Wt==="loading"},G.loading):U?W.createElement("div",{className:un(L==null?void 0:L.loader,(Ae=f==null?void 0:f.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":Wt==="loading"},U):W.createElement(sT,{className:un(L==null?void 0:L.loader,(Be=f==null?void 0:f.classNames)==null?void 0:Be.loader),visible:Wt==="loading"})}return W.createElement("li",{tabIndex:0,ref:js,className:un(D,Y2,L==null?void 0:L.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Wt],(n=f==null?void 0:f.classNames)==null?void 0:n[Wt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ie,"data-promise":!!f.promise,"data-swiped":He,"data-removed":Te,"data-visible":J2,"data-y-position":eA,"data-x-position":tA,"data-index":x,"data-front":K2,"data-swiping":ze,"data-dismissible":Zi,"data-type":Wt,"data-invert":nA,"data-swipe-out":Y,"data-swipe-direction":se,"data-expanded":!!(T||k&&ie),style:{"--index":x,"--toasts-before":x,"--z-index":A.length-x,"--offset":`${Te?Ji:Xi.current}px`,"--initial-height":k?"auto":`${Yi}px`,...M,...f.style},onDragEnd:()=>{Ie(!1),Q(null),eo.current=null},onPointerDown:ce=>{xf||!Zi||(jm.current=new Date,Ya(Xi.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(Ie(!0),eo.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Ae,Be,an;if(Y||!Zi)return;eo.current=null;let cn=Number(((ce=js.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qr=Number(((Ae=js.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$s=new Date().getTime()-((Be=jm.current)==null?void 0:Be.getTime()),ln=te==="x"?cn:Qr,Kr=Math.abs(ln)/$s;if(Math.abs(ln)>=ET||Kr>.11){Ya(Xi.current),(an=f.onDismiss)==null||an.call(f,f),le(te==="x"?cn>0?"right":"left":Qr>0?"down":"up"),qr(),ae(!0),_e(!1);return}Ie(!1),Q(null)},onPointerMove:ce=>{var Ae,Be,an,cn;if(!eo.current||!Zi||((Ae=window.getSelection())==null?void 0:Ae.toString().length)>0)return;let Qr=ce.clientY-eo.current.y,$s=ce.clientX-eo.current.x,ln=(Be=t.swipeDirections)!=null?Be:PT(N);!te&&(Math.abs($s)>1||Math.abs(Qr)>1)&&Q(Math.abs($s)>Math.abs(Qr)?"x":"y");let Kr={x:0,y:0};te==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&Qr<0||ln.includes("bottom")&&Qr>0)&&(Kr.y=Qr):te==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&$s<0||ln.includes("right")&&$s>0)&&(Kr.x=$s),(Math.abs(Kr.x)>0||Math.abs(Kr.y)>0)&&_e(!0),(an=js.current)==null||an.style.setProperty("--swipe-amount-x",`${Kr.x}px`),(cn=js.current)==null||cn.style.setProperty("--swipe-amount-y",`${Kr.y}px`)}},X2&&!f.jsx?W.createElement("button",{"aria-label":q,"data-disabled":xf,"data-close-button":!0,onClick:xf||!Zi?()=>{}:()=>{var ce;qr(),(ce=f.onDismiss)==null||ce.call(f,f)},className:un(L==null?void 0:L.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:lT):null,f.jsx||w.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:W.createElement(W.Fragment,null,Wt||f.icon||f.promise?W.createElement("div",{"data-icon":"",className:un(L==null?void 0:L.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||rA():null,f.type!=="loading"?f.icon||(G==null?void 0:G[Wt])||nT(Wt):null):null,W.createElement("div",{"data-content":"",className:un(L==null?void 0:L.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:un(L==null?void 0:L.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?W.createElement("div",{"data-description":"",className:un($,Z2,L==null?void 0:L.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),w.isValidElement(f.cancel)?f.cancel:f.cancel&&Kl(f.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||F,onClick:ce=>{var Ae,Be;Kl(f.cancel)&&Zi&&((Be=(Ae=f.cancel).onClick)==null||Be.call(Ae,ce),qr())},className:un(L==null?void 0:L.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,w.isValidElement(f.action)?f.action:f.action&&Kl(f.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||B,onClick:ce=>{var Ae,Be;Kl(f.action)&&((Be=(Ae=f.action).onClick)==null||Be.call(Ae,ce),!ce.defaultPrevented&&qr())},className:un(L==null?void 0:L.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function sy(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ST(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?vT:wT;function c(l){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof l=="number"?`${l}px`:l})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(l=>{r[l]===void 0?n[`${o}-${l}`]=a:n[`${o}-${l}`]=typeof r[l]=="number"?`${r[l]}px`:r[l]}):c(a)}),n}var NT=w.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:l,theme:u="light",richColors:d,duration:p,style:f,visibleToasts:m=bT,toastOptions:h,dir:y=sy(),gap:b=AT,loadingIcon:E,icons:x,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:T}=t,[P,S]=W.useState([]),R=W.useMemo(()=>Array.from(new Set([r].concat(P.filter(K=>K.position).map(K=>K.position)))),[P,r]),[M,F]=W.useState([]),[B,D]=W.useState(!1),[$,z]=W.useState(!1),[N,I]=W.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=W.useRef(null),k=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=W.useRef(null),G=W.useRef(!1),q=W.useCallback(K=>{S(te=>{var Q;return(Q=te.find(se=>se.id===K.id))!=null&&Q.delete||xt.dismiss(K.id),te.filter(({id:se})=>se!==K.id)})},[]);return W.useEffect(()=>xt.subscribe(K=>{if(K.dismiss){S(te=>te.map(Q=>Q.id===K.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{Yb.flushSync(()=>{S(te=>{let Q=te.findIndex(se=>se.id===K.id);return Q!==-1?[...te.slice(0,Q),{...te[Q],...K},...te.slice(Q+1)]:[K,...te]})})})}),[]),W.useEffect(()=>{if(u!=="system"){I(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:te})=>{I(te?"dark":"light")})}catch{K.addListener(({matches:Q})=>{try{I(Q?"dark":"light")}catch(se){console.error(se)}})}},[u]),W.useEffect(()=>{P.length<=1&&D(!1)},[P]),W.useEffect(()=>{let K=te=>{var Q,se;s.every(le=>te[le]||te.code===le)&&(D(!0),(Q=U.current)==null||Q.focus()),te.code==="Escape"&&(document.activeElement===U.current||(se=U.current)!=null&&se.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[s]),W.useEffect(()=>{if(U.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,G.current=!1)}},[U.current]),W.createElement("section",{ref:e,"aria-label":`${A} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((K,te)=>{var Q;let[se,le]=K.split("-");return P.length?W.createElement("ol",{key:K,dir:y==="auto"?sy():y,tabIndex:-1,ref:U,className:a,"data-sonner-toaster":!0,"data-theme":N,"data-y-position":se,"data-lifted":B&&P.length>1&&!i,"data-x-position":le,style:{"--front-toast-height":`${((Q=M[0])==null?void 0:Q.height)||0}px`,"--width":`${xT}px`,"--gap":`${b}px`,...f,...ST(c,l)},onBlur:ie=>{G.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(G.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||G.current||(G.current=!0,L.current=ie.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{$||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},P.filter(ie=>!ie.position&&te===0||ie.position===K).map((ie,Ce)=>{var Te,Re;return W.createElement(CT,{key:ie.id,icons:x,index:Ce,toast:ie,defaultRichColors:d,duration:(Te=h==null?void 0:h.duration)!=null?Te:p,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:n,visibleToasts:m,closeButton:(Re=h==null?void 0:h.closeButton)!=null?Re:o,interacting:$,position:K,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:q,toasts:P.filter(ze=>ze.position==ie.position),heights:M.filter(ze=>ze.position==ie.position),setHeights:F,expandByDefault:i,gap:b,loadingIcon:E,expanded:B,pauseWhenPageIsHidden:T,swipeDirections:t.swipeDirections})})):null}))});const RT=({...t})=>{const{theme:e="system"}=tT();return g.jsx(NT,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var IT=r0[" useId ".trim().toString()]||(()=>{}),BT=0;function Sf(t){const[e,n]=w.useState(IT());return tr(()=>{n(r=>r??String(BT++))},[t]),t||(e?`radix-${e}`:"")}const OT=["top","right","bottom","left"],Ns=Math.min,jt=Math.max,Du=Math.round,Jl=Math.floor,Zn=t=>({x:t,y:t}),kT={left:"right",right:"left",bottom:"top",top:"bottom"},MT={start:"end",end:"start"};function Mp(t,e,n){return jt(t,Ns(e,n))}function Fr(t,e){return typeof t=="function"?t(e):t}function _r(t){return t.split("-")[0]}function ja(t){return t.split("-")[1]}function l0(t){return t==="x"?"y":"x"}function u0(t){return t==="y"?"height":"width"}const DT=new Set(["top","bottom"]);function Kn(t){return DT.has(_r(t))?"y":"x"}function d0(t){return l0(Kn(t))}function LT(t,e,n){n===void 0&&(n=!1);const r=ja(t),s=d0(t),i=u0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Lu(o)),[o,Lu(o)]}function FT(t){const e=Lu(t);return[Dp(t),e,Dp(e)]}function Dp(t){return t.replace(/start|end/g,e=>MT[e])}const iy=["left","right"],oy=["right","left"],_T=["top","bottom"],UT=["bottom","top"];function jT(t,e,n){switch(t){case"top":case"bottom":return n?e?oy:iy:e?iy:oy;case"left":case"right":return e?_T:UT;default:return[]}}function $T(t,e,n,r){const s=ja(t);let i=jT(_r(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Dp)))),i}function Lu(t){return t.replace(/left|right|bottom|top/g,e=>kT[e])}function zT(t){return{top:0,right:0,bottom:0,left:0,...t}}function _w(t){return typeof t!="number"?zT(t):{top:t,right:t,bottom:t,left:t}}function Fu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ay(t,e,n){let{reference:r,floating:s}=t;const i=Kn(e),o=d0(e),a=u0(o),c=_r(e),l=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let f;switch(c){case"top":f={x:u,y:r.y-s.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-s.width,y:d};break;default:f={x:r.x,y:r.y}}switch(ja(e)){case"start":f[o]-=p*(n&&l?-1:1);break;case"end":f[o]+=p*(n&&l?-1:1);break}return f}const HT=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=ay(l,r,c),p=r,f={},m=0;for(let h=0;h<a.length;h++){const{name:y,fn:b}=a[h],{x:E,y:x,data:A,reset:T}=await b({x:u,y:d,initialPlacement:r,placement:p,strategy:s,middlewareData:f,rects:l,platform:o,elements:{reference:t,floating:e}});u=E??u,d=x??d,f={...f,[y]:{...f[y],...A}},T&&m<=50&&(m++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(l=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):T.rects),{x:u,y:d}=ay(l,p,c)),h=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:f}};async function Ec(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=Fr(e,t),m=_w(f),y=a[p?d==="floating"?"reference":"floating":d],b=Fu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),E=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},T=Fu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:x,strategy:c}):E);return{top:(b.top-T.top+m.top)/A.y,bottom:(T.bottom-b.bottom+m.bottom)/A.y,left:(b.left-T.left+m.left)/A.x,right:(T.right-b.right+m.right)/A.x}}const GT=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=Fr(t,e)||{};if(l==null)return{};const d=_w(u),p={x:n,y:r},f=d0(s),m=u0(f),h=await o.getDimensions(l),y=f==="y",b=y?"top":"left",E=y?"bottom":"right",x=y?"clientHeight":"clientWidth",A=i.reference[m]+i.reference[f]-p[f]-i.floating[m],T=p[f]-i.reference[f],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let S=P?P[x]:0;(!S||!await(o.isElement==null?void 0:o.isElement(P)))&&(S=a.floating[x]||i.floating[m]);const R=A/2-T/2,M=S/2-h[m]/2-1,F=Ns(d[b],M),B=Ns(d[E],M),D=F,$=S-h[m]-B,z=S/2-h[m]/2+R,N=Mp(D,z,$),I=!c.arrow&&ja(s)!=null&&z!==N&&i.reference[m]/2-(z<D?F:B)-h[m]/2<0,U=I?z<D?z-D:z-$:0;return{[f]:p[f]+U,data:{[f]:N,centerOffset:z-N-U,...I&&{alignmentOffset:U}},reset:I}}}),VT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...y}=Fr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=_r(s),E=Kn(a),x=_r(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(l.floating)),T=p||(x||!h?[Lu(a)]:FT(a)),P=m!=="none";!p&&P&&T.push(...$T(a,h,m,A));const S=[a,...T],R=await Ec(e,y),M=[];let F=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&M.push(R[b]),d){const z=LT(s,o,A);M.push(R[z[0]],R[z[1]])}if(F=[...F,{placement:s,overflows:M}],!M.every(z=>z<=0)){var B,D;const z=(((B=i.flip)==null?void 0:B.index)||0)+1,N=S[z];if(N&&(!(d==="alignment"?E!==Kn(N):!1)||F.every(k=>Kn(k.placement)===E?k.overflows[0]>0:!0)))return{data:{index:z,overflows:F},reset:{placement:N}};let I=(D=F.filter(U=>U.overflows[0]<=0).sort((U,k)=>U.overflows[1]-k.overflows[1])[0])==null?void 0:D.placement;if(!I)switch(f){case"bestFit":{var $;const U=($=F.filter(k=>{if(P){const L=Kn(k.placement);return L===E||L==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(L=>L>0).reduce((L,G)=>L+G,0)]).sort((k,L)=>k[1]-L[1])[0])==null?void 0:$[0];U&&(I=U);break}case"initialPlacement":I=a;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function cy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ly(t){return OT.some(e=>t[e]>=0)}const WT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Fr(t,e);switch(r){case"referenceHidden":{const i=await Ec(e,{...s,elementContext:"reference"}),o=cy(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ly(o)}}}case"escaped":{const i=await Ec(e,{...s,altBoundary:!0}),o=cy(i,n.floating);return{data:{escapedOffsets:o,escaped:ly(o)}}}default:return{}}}}},Uw=new Set(["left","top"]);async function qT(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=_r(n),a=ja(n),c=Kn(n)==="y",l=Uw.has(o)?-1:1,u=i&&c?-1:1,d=Fr(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),c?{x:f*u,y:p*l}:{x:p*l,y:f*u}}const QT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await qT(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},KT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:b,y:E}=y;return{x:b,y:E}}},...c}=Fr(t,e),l={x:n,y:r},u=await Ec(e,c),d=Kn(_r(s)),p=l0(d);let f=l[p],m=l[d];if(i){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",E=f+u[y],x=f-u[b];f=Mp(E,f,x)}if(o){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",E=m+u[y],x=m-u[b];m=Mp(E,m,x)}const h=a.fn({...e,[p]:f,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[p]:i,[d]:o}}}}}},JT=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Fr(t,e),u={x:n,y:r},d=Kn(s),p=l0(d);let f=u[p],m=u[d];const h=Fr(a,e),y=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const x=p==="y"?"height":"width",A=i.reference[p]-i.floating[x]+y.mainAxis,T=i.reference[p]+i.reference[x]-y.mainAxis;f<A?f=A:f>T&&(f=T)}if(l){var b,E;const x=p==="y"?"width":"height",A=Uw.has(_r(s)),T=i.reference[d]-i.floating[x]+(A&&((b=o.offset)==null?void 0:b[d])||0)+(A?0:y.crossAxis),P=i.reference[d]+i.reference[x]+(A?0:((E=o.offset)==null?void 0:E[d])||0)-(A?y.crossAxis:0);m<T?m=T:m>P&&(m=P)}return{[p]:f,[d]:m}}}},YT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...l}=Fr(t,e),u=await Ec(e,l),d=_r(s),p=ja(s),f=Kn(s)==="y",{width:m,height:h}=i.floating;let y,b;d==="top"||d==="bottom"?(y=d,b=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,y=p==="end"?"top":"bottom");const E=h-u.top-u.bottom,x=m-u.left-u.right,A=Ns(h-u[y],E),T=Ns(m-u[b],x),P=!e.middlewareData.shift;let S=A,R=T;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=E),P&&!p){const F=jt(u.left,0),B=jt(u.right,0),D=jt(u.top,0),$=jt(u.bottom,0);f?R=m-2*(F!==0||B!==0?F+B:jt(u.left,u.right)):S=h-2*(D!==0||$!==0?D+$:jt(u.top,u.bottom))}await c({...e,availableWidth:R,availableHeight:S});const M=await o.getDimensions(a.floating);return m!==M.width||h!==M.height?{reset:{rects:!0}}:{}}}};function xd(){return typeof window<"u"}function $a(t){return jw(t)?(t.nodeName||"").toLowerCase():"#document"}function zt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function or(t){var e;return(e=(jw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jw(t){return xd()?t instanceof Node||t instanceof zt(t).Node:!1}function An(t){return xd()?t instanceof Element||t instanceof zt(t).Element:!1}function nr(t){return xd()?t instanceof HTMLElement||t instanceof zt(t).HTMLElement:!1}function uy(t){return!xd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof zt(t).ShadowRoot}const ZT=new Set(["inline","contents"]);function El(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=En(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ZT.has(s)}const XT=new Set(["table","td","th"]);function eP(t){return XT.has($a(t))}const tP=[":popover-open",":modal"];function Ad(t){return tP.some(e=>{try{return t.matches(e)}catch{return!1}})}const nP=["transform","translate","scale","rotate","perspective"],rP=["transform","translate","scale","rotate","perspective","filter"],sP=["paint","layout","strict","content"];function f0(t){const e=p0(),n=An(t)?En(t):t;return nP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||rP.some(r=>(n.willChange||"").includes(r))||sP.some(r=>(n.contain||"").includes(r))}function iP(t){let e=Rs(t);for(;nr(e)&&!wa(e);){if(f0(e))return e;if(Ad(e))return null;e=Rs(e)}return null}function p0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oP=new Set(["html","body","#document"]);function wa(t){return oP.has($a(t))}function En(t){return zt(t).getComputedStyle(t)}function Ed(t){return An(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Rs(t){if($a(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uy(t)&&t.host||or(t);return uy(e)?e.host:e}function $w(t){const e=Rs(t);return wa(e)?t.ownerDocument?t.ownerDocument.body:t.body:nr(e)&&El(e)?e:$w(e)}function Tc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=$w(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=zt(s);if(i){const a=Lp(o);return e.concat(o,o.visualViewport||[],El(s)?s:[],a&&n?Tc(a):[])}return e.concat(s,Tc(s,[],n))}function Lp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zw(t){const e=En(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=nr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Du(n)!==i||Du(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function h0(t){return An(t)?t:t.contextElement}function To(t){const e=h0(t);if(!nr(e))return Zn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=zw(e);let o=(i?Du(n.width):n.width)/r,a=(i?Du(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const aP=Zn(0);function Hw(t){const e=zt(t);return!p0()||!e.visualViewport?aP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==zt(t)?!1:e}function Ni(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=h0(t);let o=Zn(1);e&&(r?An(r)&&(o=To(r)):o=To(t));const a=cP(i,n,r)?Hw(i):Zn(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const p=zt(i),f=r&&An(r)?zt(r):r;let m=p,h=Lp(m);for(;h&&r&&f!==m;){const y=To(h),b=h.getBoundingClientRect(),E=En(h),x=b.left+(h.clientLeft+parseFloat(E.paddingLeft))*y.x,A=b.top+(h.clientTop+parseFloat(E.paddingTop))*y.y;c*=y.x,l*=y.y,u*=y.x,d*=y.y,c+=x,l+=A,m=zt(h),h=Lp(m)}}return Fu({width:u,height:d,x:c,y:l})}function Td(t,e){const n=Ed(t).scrollLeft;return e?e.left+n:Ni(or(t)).left+n}function Gw(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Td(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function lP(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=or(r),a=e?Ad(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Zn(1);const u=Zn(0),d=nr(r);if((d||!d&&!i)&&(($a(r)!=="body"||El(o))&&(c=Ed(r)),nr(r))){const f=Ni(r);l=To(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const p=o&&!d&&!i?Gw(o,c):Zn(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+p.x,y:n.y*l.y-c.scrollTop*l.y+u.y+p.y}}function uP(t){return Array.from(t.getClientRects())}function dP(t){const e=or(t),n=Ed(t),r=t.ownerDocument.body,s=jt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=jt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Td(t);const a=-n.scrollTop;return En(r).direction==="rtl"&&(o+=jt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const dy=25;function fP(t,e){const n=zt(t),r=or(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=p0();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const l=Td(r);if(l<=0){const u=r.ownerDocument,d=u.body,p=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,m=Math.abs(r.clientWidth-d.clientWidth-f);m<=dy&&(i-=m)}else l<=dy&&(i+=l);return{width:i,height:o,x:a,y:c}}const pP=new Set(["absolute","fixed"]);function hP(t,e){const n=Ni(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=nr(t)?To(t):Zn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function fy(t,e,n){let r;if(e==="viewport")r=fP(t,n);else if(e==="document")r=dP(or(t));else if(An(e))r=hP(e,n);else{const s=Hw(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Fu(r)}function Vw(t,e){const n=Rs(t);return n===e||!An(n)||wa(n)?!1:En(n).position==="fixed"||Vw(n,e)}function mP(t,e){const n=e.get(t);if(n)return n;let r=Tc(t,[],!1).filter(a=>An(a)&&$a(a)!=="body"),s=null;const i=En(t).position==="fixed";let o=i?Rs(t):t;for(;An(o)&&!wa(o);){const a=En(o),c=f0(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&pP.has(s.position)||El(o)&&!c&&Vw(t,o))?r=r.filter(u=>u!==o):s=a,o=Rs(o)}return e.set(t,r),r}function yP(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Ad(e)?[]:mP(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=fy(e,u,s);return l.top=jt(d.top,l.top),l.right=Ns(d.right,l.right),l.bottom=Ns(d.bottom,l.bottom),l.left=jt(d.left,l.left),l},fy(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gP(t){const{width:e,height:n}=zw(t);return{width:e,height:n}}function bP(t,e,n){const r=nr(e),s=or(e),i=n==="fixed",o=Ni(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Zn(0);function l(){c.x=Td(s)}if(r||!r&&!i)if(($a(e)!=="body"||El(s))&&(a=Ed(e)),r){const f=Ni(e,!0,i,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else s&&l();i&&!r&&s&&l();const u=s&&!r&&!i?Gw(s,a):Zn(0),d=o.left+a.scrollLeft-c.x-u.x,p=o.top+a.scrollTop-c.y-u.y;return{x:d,y:p,width:o.width,height:o.height}}function Nf(t){return En(t).position==="static"}function py(t,e){if(!nr(t)||En(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return or(t)===n&&(n=n.ownerDocument.body),n}function Ww(t,e){const n=zt(t);if(Ad(t))return n;if(!nr(t)){let s=Rs(t);for(;s&&!wa(s);){if(An(s)&&!Nf(s))return s;s=Rs(s)}return n}let r=py(t,e);for(;r&&eP(r)&&Nf(r);)r=py(r,e);return r&&wa(r)&&Nf(r)&&!f0(r)?n:r||iP(t)||n}const wP=async function(t){const e=this.getOffsetParent||Ww,n=this.getDimensions,r=await n(t.floating);return{reference:bP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vP(t){return En(t).direction==="rtl"}const xP={convertOffsetParentRelativeRectToViewportRelativeRect:lP,getDocumentElement:or,getClippingRect:yP,getOffsetParent:Ww,getElementRects:wP,getClientRects:uP,getDimensions:gP,getScale:To,isElement:An,isRTL:vP};function qw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function AP(t,e){let n=null,r;const s=or(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=t.getBoundingClientRect(),{left:u,top:d,width:p,height:f}=l;if(a||e(),!p||!f)return;const m=Jl(d),h=Jl(s.clientWidth-(u+p)),y=Jl(s.clientHeight-(d+f)),b=Jl(u),x={rootMargin:-m+"px "+-h+"px "+-y+"px "+-b+"px",threshold:jt(0,Ns(1,c))||1};let A=!0;function T(P){const S=P[0].intersectionRatio;if(S!==c){if(!A)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!qw(l,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(T,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,x)}n.observe(t)}return o(!0),i}function EP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=h0(t),u=s||i?[...l?Tc(l):[],...Tc(e)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const d=l&&a?AP(l,n):null;let p=-1,f=null;o&&(f=new ResizeObserver(b=>{let[E]=b;E&&E.target===l&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(e)})),n()}),l&&!c&&f.observe(l),f.observe(e));let m,h=c?Ni(t):null;c&&y();function y(){const b=Ni(t);h&&!qw(h,b)&&n(),h=b,m=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),d==null||d(),(b=f)==null||b.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const TP=QT,PP=KT,CP=VT,SP=YT,NP=WT,hy=GT,RP=JT,IP=(t,e,n)=>{const r=new Map,s={platform:xP,...n},i={...s.platform,_c:r};return HT(t,e,{...s,platform:i})};var BP=typeof document<"u",OP=function(){},bu=BP?w.useLayoutEffect:OP;function _u(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_u(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_u(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Qw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function my(t,e){const n=Qw(t);return Math.round(e*n)/n}function Rf(t){const e=w.useRef(t);return bu(()=>{e.current=t}),e}function kP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,d]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=w.useState(r);_u(p,r)||f(r);const[m,h]=w.useState(null),[y,b]=w.useState(null),E=w.useCallback(k=>{k!==P.current&&(P.current=k,h(k))},[]),x=w.useCallback(k=>{k!==S.current&&(S.current=k,b(k))},[]),A=i||m,T=o||y,P=w.useRef(null),S=w.useRef(null),R=w.useRef(u),M=c!=null,F=Rf(c),B=Rf(s),D=Rf(l),$=w.useCallback(()=>{if(!P.current||!S.current)return;const k={placement:e,strategy:n,middleware:p};B.current&&(k.platform=B.current),IP(P.current,S.current,k).then(L=>{const G={...L,isPositioned:D.current!==!1};z.current&&!_u(R.current,G)&&(R.current=G,gd.flushSync(()=>{d(G)}))})},[p,e,n,B,D]);bu(()=>{l===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[l]);const z=w.useRef(!1);bu(()=>(z.current=!0,()=>{z.current=!1}),[]),bu(()=>{if(A&&(P.current=A),T&&(S.current=T),A&&T){if(F.current)return F.current(A,T,$);$()}},[A,T,$,F,M]);const N=w.useMemo(()=>({reference:P,floating:S,setReference:E,setFloating:x}),[E,x]),I=w.useMemo(()=>({reference:A,floating:T}),[A,T]),U=w.useMemo(()=>{const k={position:n,left:0,top:0};if(!I.floating)return k;const L=my(I.floating,u.x),G=my(I.floating,u.y);return a?{...k,transform:"translate("+L+"px, "+G+"px)",...Qw(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:G}},[n,a,I.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:$,refs:N,elements:I,floatingStyles:U}),[u,$,N,I,U])}const MP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?hy({element:r.current,padding:s}).fn(n):{}:r?hy({element:r,padding:s}).fn(n):{}}}},DP=(t,e)=>({...TP(t),options:[t,e]}),LP=(t,e)=>({...PP(t),options:[t,e]}),FP=(t,e)=>({...RP(t),options:[t,e]}),_P=(t,e)=>({...CP(t),options:[t,e]}),UP=(t,e)=>({...SP(t),options:[t,e]}),jP=(t,e)=>({...NP(t),options:[t,e]}),$P=(t,e)=>({...MP(t),options:[t,e]});var zP="Arrow",Kw=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return g.jsx(Pe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kw.displayName=zP;var HP=Kw;function GP(t){const[e,n]=w.useState(void 0);return tr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Jw="Popper",[Yw,Zw]=_a(Jw),[K_,Xw]=Yw(Jw),e1="PopperAnchor",t1=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Xw(e1,n),o=w.useRef(null),a=$e(e,o),c=w.useRef(null);return w.useEffect(()=>{const l=c.current;c.current=(r==null?void 0:r.current)||o.current,l!==c.current&&i.onAnchorChange(c.current)}),r?null:g.jsx(Pe.div,{...s,ref:a})});t1.displayName=e1;var m0="PopperContent",[VP,WP]=Yw(m0),n1=w.forwardRef((t,e)=>{var ie,Ce,Te,Re,ze,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:m,...h}=t,y=Xw(m0,n),[b,E]=w.useState(null),x=$e(e,Y=>E(Y)),[A,T]=w.useState(null),P=GP(A),S=(P==null?void 0:P.width)??0,R=(P==null?void 0:P.height)??0,M=r+(i!=="center"?"-"+i:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},B=Array.isArray(l)?l:[l],D=B.length>0,$={padding:F,boundary:B.filter(QP),altBoundary:D},{refs:z,floatingStyles:N,placement:I,isPositioned:U,middlewareData:k}=kP({strategy:"fixed",placement:M,whileElementsMounted:(...Y)=>EP(...Y,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[DP({mainAxis:s+R,alignmentAxis:o}),c&&LP({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?FP():void 0,...$}),c&&_P({...$}),UP({...$,apply:({elements:Y,rects:ae,availableWidth:He,availableHeight:_e})=>{const{width:Ji,height:Ya}=ae.reference,Yi=Y.floating.style;Yi.setProperty("--radix-popper-available-width",`${He}px`),Yi.setProperty("--radix-popper-available-height",`${_e}px`),Yi.setProperty("--radix-popper-anchor-width",`${Ji}px`),Yi.setProperty("--radix-popper-anchor-height",`${Ya}px`)}}),A&&$P({element:A,padding:a}),KP({arrowWidth:S,arrowHeight:R}),p&&jP({strategy:"referenceHidden",...$})]}),[L,G]=i1(I),q=nt(m);tr(()=>{U&&(q==null||q())},[U,q]);const K=(ie=k.arrow)==null?void 0:ie.x,te=(Ce=k.arrow)==null?void 0:Ce.y,Q=((Te=k.arrow)==null?void 0:Te.centerOffset)!==0,[se,le]=w.useState();return tr(()=>{b&&le(window.getComputedStyle(b).zIndex)},[b]),g.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...N,transform:U?N.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(Re=k.transformOrigin)==null?void 0:Re.x,(ze=k.transformOrigin)==null?void 0:ze.y].join(" "),...((Ie=k.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(VP,{scope:n,placedSide:L,onArrowChange:T,arrowX:K,arrowY:te,shouldHideArrow:Q,children:g.jsx(Pe.div,{"data-side":L,"data-align":G,...h,ref:x,style:{...h.style,animation:U?void 0:"none"}})})})});n1.displayName=m0;var r1="PopperArrow",qP={top:"bottom",right:"left",bottom:"top",left:"right"},s1=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=WP(r1,r),o=qP[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(HP,{...s,ref:n,style:{...s.style,display:"block"}})})});s1.displayName=r1;function QP(t){return t!==null}var KP=t=>({name:"transformOrigin",options:t,fn(e){var y,b,E;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[l,u]=i1(n),d={start:"0%",center:"50%",end:"100%"}[u],p=(((b=s.arrow)==null?void 0:b.x)??0)+a/2,f=(((E=s.arrow)==null?void 0:E.y)??0)+c/2;let m="",h="";return l==="bottom"?(m=o?d:`${p}px`,h=`${-c}px`):l==="top"?(m=o?d:`${p}px`,h=`${r.floating.height+c}px`):l==="right"?(m=`${-c}px`,h=o?d:`${f}px`):l==="left"&&(m=`${r.floating.width+c}px`,h=o?d:`${f}px`),{data:{x:m,y:h}}}});function i1(t){const[e,n="center"]=t.split("-");return[e,n]}var JP=t1,YP=n1,ZP=s1,[Pd]=_a("Tooltip",[Zw]),y0=Zw(),o1="TooltipProvider",XP=700,yy="tooltip.open",[eC,a1]=Pd(o1),c1=t=>{const{__scopeTooltip:e,delayDuration:n=XP,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=w.useRef(!0),a=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),g.jsx(eC,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(l=>{a.current=l},[]),disableHoverableContent:s,children:i})};c1.displayName=o1;var l1="Tooltip",[J_,Cd]=Pd(l1),Fp="TooltipTrigger",tC=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Cd(Fp,n),i=a1(Fp,n),o=y0(n),a=w.useRef(null),c=$e(e,a,s.onTriggerChange),l=w.useRef(!1),u=w.useRef(!1),d=w.useCallback(()=>l.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),g.jsx(JP,{asChild:!0,...o,children:g.jsx(Pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:we(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:we(t.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:we(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:we(t.onBlur,s.onClose),onClick:we(t.onClick,s.onClose)})})});tC.displayName=Fp;var nC="TooltipPortal",[Y_,rC]=Pd(nC,{forceMount:void 0}),va="TooltipContent",u1=w.forwardRef((t,e)=>{const n=rC(va,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Cd(va,t.__scopeTooltip);return g.jsx(ir,{present:r||o.open,children:o.disableHoverableContent?g.jsx(d1,{side:s,...i,ref:e}):g.jsx(sC,{side:s,...i,ref:e})})}),sC=w.forwardRef((t,e)=>{const n=Cd(va,t.__scopeTooltip),r=a1(va,t.__scopeTooltip),s=w.useRef(null),i=$e(e,s),[o,a]=w.useState(null),{trigger:c,onClose:l}=n,u=s.current,{onPointerInTransitChange:d}=r,p=w.useCallback(()=>{a(null),d(!1)},[d]),f=w.useCallback((m,h)=>{const y=m.currentTarget,b={x:m.clientX,y:m.clientY},E=lC(b,y.getBoundingClientRect()),x=uC(b,E),A=dC(h.getBoundingClientRect()),T=pC([...x,...A]);a(T),d(!0)},[d]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(c&&u){const m=y=>f(y,u),h=y=>f(y,c);return c.addEventListener("pointerleave",m),u.addEventListener("pointerleave",h),()=>{c.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",h)}}},[c,u,f,p]),w.useEffect(()=>{if(o){const m=h=>{const y=h.target,b={x:h.clientX,y:h.clientY},E=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),x=!fC(b,o);E?p():x&&(p(),l())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,u,o,l,p]),g.jsx(d1,{...t,ref:i})}),[iC,oC]=Pd(l1,{isInside:!1}),aC=SA("TooltipContent"),d1=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Cd(va,n),l=y0(n),{onClose:u}=c;return w.useEffect(()=>(document.addEventListener(yy,u),()=>document.removeEventListener(yy,u)),[u]),w.useEffect(()=>{if(c.trigger){const d=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,u]),g.jsx(bd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:g.jsxs(YP,{"data-state":c.stateAttribute,...l,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(aC,{children:r}),g.jsx(iC,{scope:n,isInside:!0,children:g.jsx(YA,{id:c.contentId,role:"tooltip",children:s||r})})]})})});u1.displayName=va;var f1="TooltipArrow",cC=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=y0(n);return oC(f1,n).isInside?null:g.jsx(ZP,{...s,...r,ref:e})});cC.displayName=f1;function lC(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uC(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function dC(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function fC(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],l=a.x,u=a.y,d=c.x,p=c.y;u>r!=p>r&&n<(d-l)*(r-u)/(p-u)+l&&(s=!s)}return s}function pC(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),hC(e)}function hC(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var mC=c1,p1=u1;const yC=mC,gC=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(p1,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));gC.displayName=p1.displayName;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}var Es;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Es||(Es={}));const gy="popstate";function bC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return _p("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Uu(s)}return vC(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function h1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wC(){return Math.random().toString(36).substr(2,8)}function by(t,e){return{usr:t.state,key:t.key,idx:e}}function _p(t,e,n,r){return n===void 0&&(n=null),Pc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?za(e):e,{state:n,key:e&&e.key||r||wC()})}function Uu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function za(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Es.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(Pc({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Es.Pop;let y=u(),b=y==null?null:y-l;l=y,c&&c({action:a,location:h.location,delta:b})}function p(y,b){a=Es.Push;let E=_p(h.location,y,b);l=u()+1;let x=by(E,l),A=h.createHref(E);try{o.pushState(x,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(A)}i&&c&&c({action:a,location:h.location,delta:1})}function f(y,b){a=Es.Replace;let E=_p(h.location,y,b);l=u();let x=by(E,l),A=h.createHref(E);o.replaceState(x,"",A),i&&c&&c({action:a,location:h.location,delta:0})}function m(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof y=="string"?y:Uu(y);return E=E.replace(/ $/,"%20"),We(b,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,b)}let h={get action(){return a},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(gy,d),c=y,()=>{s.removeEventListener(gy,d),c=null}},createHref(y){return e(s,y)},createURL:m,encodeLocation(y){let b=m(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:f,go(y){return o.go(y)}};return h}var wy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wy||(wy={}));function xC(t,e,n){return n===void 0&&(n="/"),AC(t,e,n)}function AC(t,e,n,r){let s=typeof e=="string"?za(e):e,i=g0(s.pathname||"/",n);if(i==null)return null;let o=m1(t);EC(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=DC(i);a=OC(o[c],l)}return a}function m1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Ts([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),m1(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:IC(l,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of y1(i.path))s(i,o,c)}),e}function y1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=y1(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function EC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TC=/^:[\w-]+$/,PC=3,CC=2,SC=1,NC=10,RC=-2,vy=t=>t==="*";function IC(t,e){let n=t.split("/"),r=n.length;return n.some(vy)&&(r+=RC),e&&(r+=CC),n.filter(s=>!vy(s)).reduce((s,i)=>s+(TC.test(i)?PC:i===""?SC:NC),r)}function BC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function OC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=kC({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),p=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ts([i,d.pathname]),pathnameBase:UC(Ts([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Ts([i,d.pathnameBase]))}return o}function kC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let h=a[d]||"";o=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?l[p]=void 0:l[p]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function MC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),h1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function DC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return h1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function g0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?za(t):t;return{pathname:n?n.startsWith("/")?n:FC(n,e):e,search:jC(r),hash:$C(s)}}function FC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function If(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _C(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function g1(t,e){let n=_C(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b1(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=za(t):(s=Pc({},t),We(!s.pathname||!s.pathname.includes("?"),If("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),If("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),If("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?e[d]:"/"}let c=LC(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Ts=t=>t.join("/").replace(/\/\/+/g,"/"),UC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$C=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const w1=["post","put","patch","delete"];new Set(w1);const HC=["get",...w1];new Set(HC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}const b0=w.createContext(null),GC=w.createContext(null),$i=w.createContext(null),Sd=w.createContext(null),zi=w.createContext({outlet:null,matches:[],isDataRoute:!1}),v1=w.createContext(null);function VC(t,e){let{relative:n}=e===void 0?{}:e;Tl()||We(!1);let{basename:r,navigator:s}=w.useContext($i),{hash:i,pathname:o,search:a}=A1(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ts([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Tl(){return w.useContext(Sd)!=null}function Pl(){return Tl()||We(!1),w.useContext(Sd).location}function x1(t){w.useContext($i).static||w.useLayoutEffect(t)}function WC(){let{isDataRoute:t}=w.useContext(zi);return t?iS():qC()}function qC(){Tl()||We(!1);let t=w.useContext(b0),{basename:e,future:n,navigator:r}=w.useContext($i),{matches:s}=w.useContext(zi),{pathname:i}=Pl(),o=JSON.stringify(g1(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return x1(()=>{a.current=!0}),w.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=b1(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ts([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function A1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext($i),{matches:s}=w.useContext(zi),{pathname:i}=Pl(),o=JSON.stringify(g1(s,r.v7_relativeSplatPath));return w.useMemo(()=>b1(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function QC(t,e){return KC(t,e)}function KC(t,e,n,r){Tl()||We(!1);let{navigator:s}=w.useContext($i),{matches:i}=w.useContext(zi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=Pl(),u;if(e){var d;let y=typeof e=="string"?za(e):e;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||We(!1),u=y}else u=l;let p=u.pathname||"/",f=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=xC(t,{pathname:f}),h=eS(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Ts([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ts([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&h?w.createElement(Sd.Provider,{value:{location:Cc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Es.Pop}},h):h}function JC(){let t=sS(),e=zC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const YC=w.createElement(JC,null);class ZC extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(zi.Provider,{value:this.props.routeContext},w.createElement(v1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XC(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(b0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(zi.Provider,{value:e},r)}function eS(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||We(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:p,errors:f}=n,m=d.route.loader&&p[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,p)=>{let f,m=!1,h=null,y=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,h=d.route.errorElement||YC,c&&(l<0&&p===0?(oS("route-fallback"),m=!0,y=null):l===p&&(m=!0,y=d.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),E=()=>{let x;return f?x=h:m?x=y:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,w.createElement(XC,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?w.createElement(ZC,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}var E1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(E1||{}),T1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(T1||{});function tS(t){let e=w.useContext(b0);return e||We(!1),e}function nS(t){let e=w.useContext(GC);return e||We(!1),e}function rS(t){let e=w.useContext(zi);return e||We(!1),e}function P1(t){let e=rS(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function sS(){var t;let e=w.useContext(v1),n=nS(),r=P1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function iS(){let{router:t}=tS(E1.UseNavigateStable),e=P1(T1.UseNavigateStable),n=w.useRef(!1);return x1(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cc({fromRouteId:e},i)))},[t,e])}const xy={};function oS(t,e,n){xy[t]||(xy[t]=!0)}function aS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wu(t){We(!1)}function cS(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Es.Pop,navigator:i,static:o=!1,future:a}=t;Tl()&&We(!1);let c=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:c,navigator:i,static:o,future:Cc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=za(r));let{pathname:u="/",search:d="",hash:p="",state:f=null,key:m="default"}=r,h=w.useMemo(()=>{let y=g0(u,c);return y==null?null:{location:{pathname:y,search:d,hash:p,state:f,key:m},navigationType:s}},[c,u,d,p,f,m,s]);return h==null?null:w.createElement($i.Provider,{value:l},w.createElement(Sd.Provider,{children:n,value:h}))}function lS(t){let{children:e,location:n}=t;return QC(Up(e),n)}new Promise(()=>{});function Up(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Up(r.props.children,i));return}r.type!==wu&&We(!1),!r.props.index||!r.props.children||We(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Up(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}function uS(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function dS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fS(t,e){return t.button===0&&(!e||e==="_self")&&!dS(t)}const pS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hS="6";try{window.__reactRouterVersion=hS}catch{}const mS="startTransition",Ay=r0[mS];function yS(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=bC({window:s,v5Compat:!0}));let o=i.current,[a,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=w.useCallback(d=>{l&&Ay?Ay(()=>c(d)):c(d)},[c,l]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.useEffect(()=>aS(r),[r]),w.createElement(cS,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const gS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wS=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:d}=e,p=uS(e,pS),{basename:f}=w.useContext($i),m,h=!1;if(typeof l=="string"&&bS.test(l)&&(m=l,gS))try{let x=new URL(window.location.href),A=l.startsWith("//")?new URL(x.protocol+l):new URL(l),T=g0(A.pathname,f);A.origin===x.origin&&T!=null?l=T+A.search+A.hash:h=!0}catch{}let y=VC(l,{relative:s}),b=vS(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:d});function E(x){r&&r(x),x.defaultPrevented||b(x)}return w.createElement("a",jp({},p,{href:m||y,onClick:h||i?r:E,ref:n,target:c}))});var Ey;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ey||(Ey={}));var Ty;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ty||(Ty={}));function vS(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=WC(),l=Pl(),u=A1(t,{relative:o});return w.useCallback(d=>{if(fS(d,n)){d.preventDefault();let p=r!==void 0?r:Uu(l)===Uu(u);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[l,c,u,r,s,n,t,i,o,a])}function st(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function xS(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Yl=43200,Py=1440;let AS={};function ES(){return AS}function Cy(t){const e=st(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function vu(t,e){const n=st(t),r=st(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function TS(t){return xS(t,Date.now())}function PS(t,e){const n=st(t),r=st(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function CS(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function SS(t,e){return+st(t)-+st(e)}function NS(t){const e=st(t);return e.setHours(23,59,59,999),e}function RS(t){const e=st(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function IS(t){const e=st(t);return+NS(e)==+RS(e)}function BS(t,e){const n=st(t),r=st(e),s=vu(n,r),i=Math.abs(PS(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=vu(n,r)===-s;IS(st(t))&&i===1&&vu(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function OS(t,e,n){const r=SS(t,e)/1e3;return CS(n==null?void 0:n.roundingMethod)(r)}const kS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MS=(t,e,n)=>{let r;const s=kS[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Bf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const DS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_S={date:Bf({formats:DS,defaultWidth:"full"}),time:Bf({formats:LS,defaultWidth:"full"}),dateTime:Bf({formats:FS,defaultWidth:"full"})},US={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jS=(t,e,n,r)=>US[t];function nc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const $S={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qS=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},QS={ordinalNumber:qS,era:nc({values:$S,defaultWidth:"wide"}),quarter:nc({values:zS,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nc({values:HS,defaultWidth:"wide"}),day:nc({values:GS,defaultWidth:"wide"}),dayPeriod:nc({values:VS,defaultWidth:"wide",formattingValues:WS,defaultFormattingWidth:"wide"})};function rc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?JS(a,d=>d.test(o)):KS(a,d=>d.test(o));let l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(o.length);return{value:l,rest:u}}}function KS(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function JS(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function YS(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const ZS=/^(\d+)(th|st|nd|rd)?/i,XS=/\d+/i,eN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tN={any:[/^b/i,/^(a|c)/i]},nN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rN={any:[/1/i,/2/i,/3/i,/4/i]},sN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uN={ordinalNumber:YS({matchPattern:ZS,parsePattern:XS,valueCallback:t=>parseInt(t,10)}),era:rc({matchPatterns:eN,defaultMatchWidth:"wide",parsePatterns:tN,defaultParseWidth:"any"}),quarter:rc({matchPatterns:nN,defaultMatchWidth:"wide",parsePatterns:rN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rc({matchPatterns:sN,defaultMatchWidth:"wide",parsePatterns:iN,defaultParseWidth:"any"}),day:rc({matchPatterns:oN,defaultMatchWidth:"wide",parsePatterns:aN,defaultParseWidth:"any"}),dayPeriod:rc({matchPatterns:cN,defaultMatchWidth:"any",parsePatterns:lN,defaultParseWidth:"any"})},dN={code:"en-US",formatDistance:MS,formatLong:_S,formatRelative:jS,localize:QS,match:uN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fN(t,e,n){const r=ES(),s=(n==null?void 0:n.locale)??r.locale??dN,i=2520,o=vu(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,l;o>0?(c=st(e),l=st(t)):(c=st(t),l=st(e));const u=OS(l,c),d=(Cy(l)-Cy(c))/1e3,p=Math.round((u-d)/60);let f;if(p<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,a):u<10?s.formatDistance("lessThanXSeconds",10,a):u<20?s.formatDistance("lessThanXSeconds",20,a):u<40?s.formatDistance("halfAMinute",0,a):u<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<Py){const m=Math.round(p/60);return s.formatDistance("aboutXHours",m,a)}else{if(p<i)return s.formatDistance("xDays",1,a);if(p<Yl){const m=Math.round(p/Py);return s.formatDistance("xDays",m,a)}else if(p<Yl*2)return f=Math.round(p/Yl),s.formatDistance("aboutXMonths",f,a)}if(f=BS(l,c),f<12){const m=Math.round(p/Yl);return s.formatDistance("xMonths",m,a)}else{const m=f%12,h=Math.trunc(f/12);return m<3?s.formatDistance("aboutXYears",h,a):m<9?s.formatDistance("overXYears",h,a):s.formatDistance("almostXYears",h+1,a)}}function Sy(t,e){return fN(t,TS(t),e)}const pN=Al("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pt=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?PA:"button";return g.jsx(o,{className:xe(pN({variant:e,size:n,className:t})),ref:i,...s})});Pt.displayName="Button";const hN=Al("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gc({className:t,variant:e,...n}){return g.jsx("div",{className:xe(hN({variant:e}),t),...n})}const mN=t=>g.jsx("svg",{viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",...t,children:g.jsx("path",{fill:"currentColor",d:"M20.29 2h3.21l-7.02 8.02 8.24 11.01h-6.46l-5.06-6.63L6.6 21.03H3.38l7.53-8.6L3 2h6.6l4.58 6.01L20.29 2Z",transform:"translate(-2 0)"})}),yN=({blockNumber:t,blockTimestamp:e,lastUpdatedAt:n,btcPrice:r,isSyncing:s,onBridgedAssetsClick:i,onDebtCalculatorClick:o,onSwapClick:a,onRedeemClick:c})=>{const l=n?Sy(new Date(n),{addSuffix:!0}):"Waiting for first sync",u=e?Sy(new Date(e),{addSuffix:!0}):null;return g.jsx("header",{className:"z-50 w-full glass-card border-b border-card-border/60 sm:sticky sm:top-0",children:g.jsxs("div",{className:"mx-auto flex max-w-[1280px] flex-col gap-3 px-4 py-3 sm:gap-4 sm:px-6 sm:py-4",children:[g.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[g.jsx("h1",{className:"text-lg font-bold uppercase tracking-wider text-primary sm:text-xl",children:"Mezo MUSD Monitor"}),g.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2",children:[g.jsx(Pt,{asChild:!0,size:"sm",variant:"ghost",className:"border border-primary bg-transparent text-primary hover:bg-primary/10 hover:text-primary",children:g.jsx("a",{href:"https://mezo.org/borrow",target:"_blank",rel:"noopener noreferrer",children:"Borrow on Mezo"})}),g.jsx(Pt,{size:"sm",variant:"ghost",className:"border border-primary bg-transparent text-primary hover:bg-primary/10 hover:text-primary",onClick:i,children:"Bridged assets"}),g.jsx(Pt,{size:"sm",variant:"ghost",className:"border border-primary bg-transparent text-primary hover:bg-primary/10 hover:text-primary",onClick:o,children:"Debt calculator"}),g.jsx(Pt,{size:"sm",variant:"ghost",className:"border border-primary bg-transparent text-primary hover:bg-primary/10 hover:text-primary",onClick:c,children:"Redeem"}),g.jsx(Pt,{asChild:!0,variant:"ghost",size:"icon",className:"rounded-full",children:g.jsxs("a",{href:"https://x.com/zho_spa",target:"_blank",rel:"noopener noreferrer",children:[g.jsx(mN,{className:"h-5 w-5"}),g.jsx("span",{className:"sr-only",children:"x.com/zho_spa"})]})})]})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs sm:gap-4 sm:text-sm",children:[s&&g.jsxs(gc,{variant:"secondary",className:"flex items-center gap-1",children:[g.jsx(Mu,{className:"h-3 w-3 animate-spin"}),"Syncing"]}),g.jsxs("span",{className:"text-muted-foreground",children:["Last update"," ",g.jsx("span",{className:"font-medium text-foreground",children:l})]}),g.jsxs("span",{className:"text-muted-foreground",children:["Block:"," ",g.jsx("span",{className:"font-mono text-foreground",children:t?t.toLocaleString():""})]}),u&&g.jsxs("span",{className:"text-muted-foreground",children:["Indexed block ",u]}),g.jsxs("span",{className:"text-muted-foreground",children:["BTC:"," ",g.jsxs("span",{className:"font-semibold text-foreground",children:["$",r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})})};var Of="focusScope.autoFocusOnMount",kf="focusScope.autoFocusOnUnmount",Ny={bubbles:!1,cancelable:!0},gN="FocusScope",C1=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=w.useState(null),l=nt(s),u=nt(i),d=w.useRef(null),p=$e(e,h=>c(h)),f=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let h=function(x){if(f.paused||!a)return;const A=x.target;a.contains(A)?d.current=A:ss(d.current,{select:!0})},y=function(x){if(f.paused||!a)return;const A=x.relatedTarget;A!==null&&(a.contains(A)||ss(d.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const T of x)T.removedNodes.length>0&&ss(a)};document.addEventListener("focusin",h),document.addEventListener("focusout",y);const E=new MutationObserver(b);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",y),E.disconnect()}}},[r,a,f.paused]),w.useEffect(()=>{if(a){Iy.add(f);const h=document.activeElement;if(!a.contains(h)){const b=new CustomEvent(Of,Ny);a.addEventListener(Of,l),a.dispatchEvent(b),b.defaultPrevented||(bN(EN(S1(a)),{select:!0}),document.activeElement===h&&ss(a))}return()=>{a.removeEventListener(Of,l),setTimeout(()=>{const b=new CustomEvent(kf,Ny);a.addEventListener(kf,u),a.dispatchEvent(b),b.defaultPrevented||ss(h??document.body,{select:!0}),a.removeEventListener(kf,u),Iy.remove(f)},0)}}},[a,l,u,f]);const m=w.useCallback(h=>{if(!n&&!r||f.paused)return;const y=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,b=document.activeElement;if(y&&b){const E=h.currentTarget,[x,A]=wN(E);x&&A?!h.shiftKey&&b===A?(h.preventDefault(),n&&ss(x,{select:!0})):h.shiftKey&&b===x&&(h.preventDefault(),n&&ss(A,{select:!0})):b===E&&h.preventDefault()}},[n,r,f.paused]);return g.jsx(Pe.div,{tabIndex:-1,...o,ref:p,onKeyDown:m})});C1.displayName=gN;function bN(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ss(r,{select:e}),document.activeElement!==n)return}function wN(t){const e=S1(t),n=Ry(e,t),r=Ry(e.reverse(),t);return[n,r]}function S1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ry(t,e){for(const n of t)if(!vN(n,{upTo:e}))return n}function vN(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xN(t){return t instanceof HTMLInputElement&&"select"in t}function ss(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xN(t)&&e&&t.select()}}var Iy=AN();function AN(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=By(t,e),t.unshift(e)},remove(e){var n;t=By(t,e),(n=t[0])==null||n.resume()}}}function By(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function EN(t){return t.filter(e=>e.tagName!=="A")}var Mf=0;function TN(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Oy()),document.body.insertAdjacentElement("beforeend",t[1]??Oy()),Mf++,()=>{Mf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Mf--}},[])}function Oy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wn=function(){return Wn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wn.apply(this,arguments)};function N1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function PN(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var xu="right-scroll-bar-position",Au="width-before-scroll-bar",CN="with-scroll-bars-hidden",SN="--removed-body-scroll-bar-size";function Df(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function NN(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var RN=typeof window<"u"?w.useLayoutEffect:w.useEffect,ky=new WeakMap;function IN(t,e){var n=NN(null,function(r){return t.forEach(function(s){return Df(s,r)})});return RN(function(){var r=ky.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Df(a,null)}),i.forEach(function(a){s.has(a)||Df(a,o)})}ky.set(n,t)},[t]),n}function BN(t){return t}function ON(t,e){e===void 0&&(e=BN);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){o.push(u),l()},filter:function(u){return o=o.filter(u),n}}}};return s}function kN(t){t===void 0&&(t={});var e=ON(null);return e.options=Wn({async:!0,ssr:!1},t),e}var R1=function(t){var e=t.sideCar,n=N1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Wn({},n))};R1.isSideCarExport=!0;function MN(t,e){return t.useMedium(e),R1}var I1=kN(),Lf=function(){},Nd=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Lf,onWheelCapture:Lf,onTouchMoveCapture:Lf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,d=t.shards,p=t.sideCar,f=t.noRelative,m=t.noIsolation,h=t.inert,y=t.allowPinchZoom,b=t.as,E=b===void 0?"div":b,x=t.gapMode,A=N1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=p,P=IN([n,e]),S=Wn(Wn({},A),s);return w.createElement(w.Fragment,null,u&&w.createElement(T,{sideCar:I1,removeScrollBar:l,shards:d,noRelative:f,noIsolation:m,inert:h,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?w.cloneElement(w.Children.only(a),Wn(Wn({},S),{ref:P})):w.createElement(E,Wn({},S,{className:c,ref:P}),a))});Nd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nd.classNames={fullWidth:Au,zeroRight:xu};var DN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LN(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DN();return e&&t.setAttribute("nonce",e),t}function FN(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _N(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var UN=function(){var t=0,e=null;return{add:function(n){t==0&&(e=LN())&&(FN(e,n),_N(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jN=function(){var t=UN();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},B1=function(){var t=jN(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},$N={left:0,top:0,right:0,gap:0},Ff=function(t){return parseInt(t||"",10)||0},zN=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ff(n),Ff(r),Ff(s)]},HN=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $N;var e=zN(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},GN=B1(),Po="data-scroll-locked",VN=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(CN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Po,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Au,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xu," .").concat(xu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Au," .").concat(Au,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Po,`] {
    `).concat(SN,": ").concat(a,`px;
  }
`)},My=function(){var t=parseInt(document.body.getAttribute(Po)||"0",10);return isFinite(t)?t:0},WN=function(){w.useEffect(function(){return document.body.setAttribute(Po,(My()+1).toString()),function(){var t=My()-1;t<=0?document.body.removeAttribute(Po):document.body.setAttribute(Po,t.toString())}},[])},qN=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;WN();var i=w.useMemo(function(){return HN(s)},[s]);return w.createElement(GN,{styles:VN(i,!e,s,n?"":"!important")})},$p=!1;if(typeof window<"u")try{var Zl=Object.defineProperty({},"passive",{get:function(){return $p=!0,!0}});window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{$p=!1}var to=$p?{passive:!1}:!1,QN=function(t){return t.tagName==="TEXTAREA"},O1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!QN(t)&&n[e]==="visible")},KN=function(t){return O1(t,"overflowY")},JN=function(t){return O1(t,"overflowX")},Dy=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=k1(t,r);if(s){var i=M1(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YN=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ZN=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},k1=function(t,e){return t==="v"?KN(e):JN(e)},M1=function(t,e){return t==="v"?YN(e):ZN(e)},XN=function(t,e){return t==="h"&&e==="rtl"?-1:1},e8=function(t,e,n,r,s){var i=XN(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),l=!1,u=o>0,d=0,p=0;do{if(!a)break;var f=M1(t,a),m=f[0],h=f[1],y=f[2],b=h-y-i*m;(m||b)&&k1(t,a)&&(d+=b,p+=m);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(l=!0),l},Xl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ly=function(t){return[t.deltaX,t.deltaY]},Fy=function(t){return t&&"current"in t?t.current:t},t8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},n8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},r8=0,no=[];function s8(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(r8++)[0],i=w.useState(B1)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var h=PN([t.lockRef.current],(t.shards||[]).map(Fy),!0).filter(Boolean);return h.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(h,y){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!o.current.allowPinchZoom;var b=Xl(h),E=n.current,x="deltaX"in h?h.deltaX:E[0]-b[0],A="deltaY"in h?h.deltaY:E[1]-b[1],T,P=h.target,S=Math.abs(x)>Math.abs(A)?"h":"v";if("touches"in h&&S==="h"&&P.type==="range")return!1;var R=Dy(S,P);if(!R)return!0;if(R?T=S:(T=S==="v"?"h":"v",R=Dy(S,P)),!R)return!1;if(!r.current&&"changedTouches"in h&&(x||A)&&(r.current=T),!T)return!0;var M=r.current||T;return e8(M,y,h,M==="h"?x:A)},[]),c=w.useCallback(function(h){var y=h;if(!(!no.length||no[no.length-1]!==i)){var b="deltaY"in y?Ly(y):Xl(y),E=e.current.filter(function(T){return T.name===y.type&&(T.target===y.target||y.target===T.shadowParent)&&t8(T.delta,b)})[0];if(E&&E.should){y.cancelable&&y.preventDefault();return}if(!E){var x=(o.current.shards||[]).map(Fy).filter(Boolean).filter(function(T){return T.contains(y.target)}),A=x.length>0?a(y,x[0]):!o.current.noIsolation;A&&y.cancelable&&y.preventDefault()}}},[]),l=w.useCallback(function(h,y,b,E){var x={name:h,delta:y,target:b,should:E,shadowParent:i8(b)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(A){return A!==x})},1)},[]),u=w.useCallback(function(h){n.current=Xl(h),r.current=void 0},[]),d=w.useCallback(function(h){l(h.type,Ly(h),h.target,a(h,t.lockRef.current))},[]),p=w.useCallback(function(h){l(h.type,Xl(h),h.target,a(h,t.lockRef.current))},[]);w.useEffect(function(){return no.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",c,to),document.addEventListener("touchmove",c,to),document.addEventListener("touchstart",u,to),function(){no=no.filter(function(h){return h!==i}),document.removeEventListener("wheel",c,to),document.removeEventListener("touchmove",c,to),document.removeEventListener("touchstart",u,to)}},[]);var f=t.removeScrollBar,m=t.inert;return w.createElement(w.Fragment,null,m?w.createElement(i,{styles:n8(s)}):null,f?w.createElement(qN,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function i8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const o8=MN(I1,s8);var D1=w.forwardRef(function(t,e){return w.createElement(Nd,Wn({},t,{ref:e,sideCar:o8}))});D1.classNames=Nd.classNames;var a8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ro=new WeakMap,eu=new WeakMap,tu={},_f=0,L1=function(t){return t&&(t.host||L1(t.parentNode))},c8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=L1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},l8=function(t,e,n,r){var s=c8(e,Array.isArray(t)?t:[t]);tu[n]||(tu[n]=new WeakMap);var i=tu[n],o=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(p){if(a.has(p))u(p);else try{var f=p.getAttribute(r),m=f!==null&&f!=="false",h=(ro.get(p)||0)+1,y=(i.get(p)||0)+1;ro.set(p,h),i.set(p,y),o.push(p),h===1&&m&&eu.set(p,!0),y===1&&p.setAttribute(n,"true"),m||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(e),a.clear(),_f++,function(){o.forEach(function(d){var p=ro.get(d)-1,f=i.get(d)-1;ro.set(d,p),i.set(d,f),p||(eu.has(d)||d.removeAttribute(r),eu.delete(d)),f||d.removeAttribute(n)}),_f--,_f||(ro=new WeakMap,ro=new WeakMap,eu=new WeakMap,tu={})}},u8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=a8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),l8(r,s,n,"aria-hidden")):function(){return null}},Rd="Dialog",[F1]=_a(Rd),[d8,In]=F1(Rd),_1=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=w.useRef(null),c=w.useRef(null),[l,u]=cw({prop:r,defaultProp:s??!1,onChange:i,caller:Rd});return g.jsx(d8,{scope:e,triggerRef:a,contentRef:c,contentId:Sf(),titleId:Sf(),descriptionId:Sf(),open:l,onOpenChange:u,onOpenToggle:w.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};_1.displayName=Rd;var U1="DialogTrigger",f8=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=In(U1,n),i=$e(e,s.triggerRef);return g.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":x0(s.open),...r,ref:i,onClick:we(t.onClick,s.onOpenToggle)})});f8.displayName=U1;var w0="DialogPortal",[p8,j1]=F1(w0,{forceMount:void 0}),$1=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=In(w0,e);return g.jsx(p8,{scope:e,forceMount:n,children:w.Children.map(r,o=>g.jsx(ir,{present:n||i.open,children:g.jsx(s0,{asChild:!0,container:s,children:o})}))})};$1.displayName=w0;var ju="DialogOverlay",z1=w.forwardRef((t,e)=>{const n=j1(ju,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=In(ju,t.__scopeDialog);return i.modal?g.jsx(ir,{present:r||i.open,children:g.jsx(m8,{...s,ref:e})}):null});z1.displayName=ju;var h8=Ac("DialogOverlay.RemoveScroll"),m8=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=In(ju,n);return g.jsx(D1,{as:h8,allowPinchZoom:!0,shards:[s.contentRef],children:g.jsx(Pe.div,{"data-state":x0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ri="DialogContent",H1=w.forwardRef((t,e)=>{const n=j1(Ri,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=In(Ri,t.__scopeDialog);return g.jsx(ir,{present:r||i.open,children:i.modal?g.jsx(y8,{...s,ref:e}):g.jsx(g8,{...s,ref:e})})});H1.displayName=Ri;var y8=w.forwardRef((t,e)=>{const n=In(Ri,t.__scopeDialog),r=w.useRef(null),s=$e(e,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return u8(i)},[]),g.jsx(G1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:we(t.onFocusOutside,i=>i.preventDefault())})}),g8=w.forwardRef((t,e)=>{const n=In(Ri,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return g.jsx(G1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),G1=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=In(Ri,n),c=w.useRef(null),l=$e(e,c);return TN(),g.jsxs(g.Fragment,{children:[g.jsx(C1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:g.jsx(bd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":x0(a.open),...o,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(b8,{titleId:a.titleId}),g.jsx(v8,{contentRef:c,descriptionId:a.descriptionId})]})]})}),v0="DialogTitle",V1=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=In(v0,n);return g.jsx(Pe.h2,{id:s.titleId,...r,ref:e})});V1.displayName=v0;var W1="DialogDescription",q1=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=In(W1,n);return g.jsx(Pe.p,{id:s.descriptionId,...r,ref:e})});q1.displayName=W1;var Q1="DialogClose",K1=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=In(Q1,n);return g.jsx(Pe.button,{type:"button",...r,ref:e,onClick:we(t.onClick,()=>s.onOpenChange(!1))})});K1.displayName=Q1;function x0(t){return t?"open":"closed"}var J1="DialogTitleWarning",[Z_,Y1]=EA(J1,{contentName:Ri,titleName:v0,docsSlug:"dialog"}),b8=({titleId:t})=>{const e=Y1(J1),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},w8="DialogDescriptionWarning",v8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Y1(w8).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},x8=_1,A8=$1,Z1=z1,X1=H1,ev=V1,tv=q1,E8=K1;const A0=x8,T8=A8,nv=w.forwardRef(({className:t,...e},n)=>g.jsx(Z1,{ref:n,className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));nv.displayName=Z1.displayName;const Id=w.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(T8,{children:[g.jsx(nv,{}),g.jsxs(X1,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,g.jsxs(E8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[g.jsx(Xb,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Id.displayName=X1.displayName;const Bd=({className:t,...e})=>g.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Bd.displayName="DialogHeader";const Od=w.forwardRef(({className:t,...e},n)=>g.jsx(ev,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",t),...e}));Od.displayName=ev.displayName;const kd=w.forwardRef(({className:t,...e},n)=>g.jsx(tv,{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));kd.displayName=tv.displayName;var P8=w.createContext(void 0);function C8(t){const e=w.useContext(P8);return t||e||"ltr"}function S8(t,[e,n]){return Math.min(n,Math.max(e,t))}function N8(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var E0="ScrollArea",[rv]=_a(E0),[R8,on]=rv(E0),sv=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,c]=w.useState(null),[l,u]=w.useState(null),[d,p]=w.useState(null),[f,m]=w.useState(null),[h,y]=w.useState(null),[b,E]=w.useState(0),[x,A]=w.useState(0),[T,P]=w.useState(!1),[S,R]=w.useState(!1),M=$e(e,B=>c(B)),F=C8(s);return g.jsx(R8,{scope:n,type:r,dir:F,scrollHideDelay:i,scrollArea:a,viewport:l,onViewportChange:u,content:d,onContentChange:p,scrollbarX:f,onScrollbarXChange:m,scrollbarXEnabled:T,onScrollbarXEnabledChange:P,scrollbarY:h,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:R,onCornerWidthChange:E,onCornerHeightChange:A,children:g.jsx(Pe.div,{dir:F,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})});sv.displayName=E0;var iv="ScrollAreaViewport",ov=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=on(iv,n),a=w.useRef(null),c=$e(e,a,o.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),g.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ov.displayName=iv;var ar="ScrollAreaScrollbar",T0=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=on(ar,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return w.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?g.jsx(I8,{...r,ref:e,forceMount:n}):s.type==="scroll"?g.jsx(B8,{...r,ref:e,forceMount:n}):s.type==="auto"?g.jsx(av,{...r,ref:e,forceMount:n}):s.type==="always"?g.jsx(P0,{...r,ref:e}):null});T0.displayName=ar;var I8=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=on(ar,t.__scopeScrollArea),[i,o]=w.useState(!1);return w.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const l=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),g.jsx(ir,{present:n||i,children:g.jsx(av,{"data-state":i?"visible":"hidden",...r,ref:e})})}),B8=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=on(ar,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Dd(()=>c("SCROLL_END"),100),[a,c]=N8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const l=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(l)}},[a,s.scrollHideDelay,c]),w.useEffect(()=>{const l=s.viewport,u=i?"scrollLeft":"scrollTop";if(l){let d=l[u];const p=()=>{const f=l[u];d!==f&&(c("SCROLL"),o()),d=f};return l.addEventListener("scroll",p),()=>l.removeEventListener("scroll",p)}},[s.viewport,i,c,o]),g.jsx(ir,{present:n||a!=="hidden",children:g.jsx(P0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:we(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:we(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),av=w.forwardRef((t,e)=>{const n=on(ar,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=w.useState(!1),a=t.orientation==="horizontal",c=Dd(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?l:u)}},10);return xa(n.viewport,c),xa(n.content,c),g.jsx(ir,{present:r||i,children:g.jsx(P0,{"data-state":i?"visible":"hidden",...s,ref:e})})}),P0=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=on(ar,t.__scopeScrollArea),i=w.useRef(null),o=w.useRef(0),[a,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),l=fv(a.viewport,a.content),u={...r,sizes:a,onSizesChange:c,hasThumb:l>0&&l<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function d(p,f){return F8(p,o.current,a,f)}return n==="horizontal"?g.jsx(O8,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,f=_y(p,a,s.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=d(p,s.dir))}}):n==="vertical"?g.jsx(k8,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,f=_y(p,a);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=d(p))}}):null}),O8=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=on(ar,t.__scopeScrollArea),[o,a]=w.useState(),c=w.useRef(null),l=$e(e,c,i.onScrollbarXChange);return w.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),g.jsx(lv,{"data-orientation":"horizontal",...s,ref:l,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Md(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(p),hv(p,d)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:zu(o.paddingLeft),paddingEnd:zu(o.paddingRight)}})}})}),k8=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=on(ar,t.__scopeScrollArea),[o,a]=w.useState(),c=w.useRef(null),l=$e(e,c,i.onScrollbarYChange);return w.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),g.jsx(lv,{"data-orientation":"vertical",...s,ref:l,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Md(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(p),hv(p,d)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:zu(o.paddingTop),paddingEnd:zu(o.paddingBottom)}})}})}),[M8,cv]=rv(ar),lv=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:l,onWheelScroll:u,onResize:d,...p}=t,f=on(ar,n),[m,h]=w.useState(null),y=$e(e,M=>h(M)),b=w.useRef(null),E=w.useRef(""),x=f.viewport,A=r.content-r.viewport,T=nt(u),P=nt(c),S=Dd(d,10);function R(M){if(b.current){const F=M.clientX-b.current.left,B=M.clientY-b.current.top;l({x:F,y:B})}}return w.useEffect(()=>{const M=F=>{const B=F.target;(m==null?void 0:m.contains(B))&&T(F,A)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[x,m,A,T]),w.useEffect(P,[r,P]),xa(m,S),xa(f.content,S),g.jsx(M8,{scope:n,scrollbar:m,hasThumb:s,onThumbChange:nt(i),onThumbPointerUp:nt(o),onThumbPositionChange:P,onThumbPointerDown:nt(a),children:g.jsx(Pe.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:we(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),b.current=m.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),R(M))}),onPointerMove:we(t.onPointerMove,R),onPointerUp:we(t.onPointerUp,M=>{const F=M.target;F.hasPointerCapture(M.pointerId)&&F.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=E.current,f.viewport&&(f.viewport.style.scrollBehavior=""),b.current=null})})})}),$u="ScrollAreaThumb",uv=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=cv($u,t.__scopeScrollArea);return g.jsx(ir,{present:n||s.hasThumb,children:g.jsx(D8,{ref:e,...r})})}),D8=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=on($u,n),o=cv($u,n),{onThumbPositionChange:a}=o,c=$e(e,d=>o.onThumbChange(d)),l=w.useRef(void 0),u=Dd(()=>{l.current&&(l.current(),l.current=void 0)},100);return w.useEffect(()=>{const d=i.viewport;if(d){const p=()=>{if(u(),!l.current){const f=_8(d,a);l.current=f,a()}};return a(),d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[i.viewport,u,a]),g.jsx(Pe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:we(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),m=d.clientX-f.left,h=d.clientY-f.top;o.onThumbPointerDown({x:m,y:h})}),onPointerUp:we(t.onPointerUp,o.onThumbPointerUp)})});uv.displayName=$u;var C0="ScrollAreaCorner",dv=w.forwardRef((t,e)=>{const n=on(C0,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(L8,{...t,ref:e}):null});dv.displayName=C0;var L8=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=on(C0,n),[i,o]=w.useState(0),[a,c]=w.useState(0),l=!!(i&&a);return xa(s.scrollbarX,()=>{var d;const u=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),xa(s.scrollbarY,()=>{var d;const u=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),l?g.jsx(Pe.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function zu(t){return t?parseInt(t,10):0}function fv(t,e){const n=t/e;return isNaN(n)?0:n}function Md(t){const e=fv(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function F8(t,e,n,r="ltr"){const s=Md(n),i=s/2,o=e||i,a=s-o,c=n.scrollbar.paddingStart+o,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return pv([c,l],d)(t)}function _y(t,e,n="ltr"){const r=Md(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,c=n==="ltr"?[0,o]:[o*-1,0],l=S8(t,c);return pv([0,o],[0,a])(l)}function pv(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function hv(t,e){return t>0&&t<e}var _8=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Dd(t,e){const n=nt(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function xa(t,e){const n=nt(e);tr(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var mv=sv,U8=ov,j8=dv;const yv=w.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(mv,{ref:r,className:xe("relative overflow-hidden",t),...n,children:[g.jsx(U8,{className:"h-full w-full rounded-[inherit]",children:e}),g.jsx(gv,{}),g.jsx(j8,{})]}));yv.displayName=mv.displayName;const gv=w.forwardRef(({className:t,orientation:e="vertical",...n},r)=>g.jsx(T0,{ref:r,orientation:e,className:xe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:g.jsx(uv,{className:"relative flex-1 rounded-full bg-border"})}));gv.displayName=T0.displayName;function $8({className:t,...e}){return g.jsx("div",{className:xe("animate-pulse rounded-md bg-muted",t),...e})}const z8=t=>{const e=Number.parseFloat(t);return Number.isFinite(e)?e.toLocaleString(void 0,{maximumFractionDigits:4}):t},H8=t=>t?`${t.slice(0,6)}${t.slice(-4)}`:"",G8=({open:t,onOpenChange:e,assets:n,isLoading:r})=>{const s=[...n].sort((o,a)=>o.token_name.localeCompare(a.token_name)),i=n.length>0?n[0].bridge_address:"0x";return g.jsx(A0,{open:t,onOpenChange:e,children:g.jsxs(Id,{className:"flex h-[calc(100vh-2rem)] w-[calc(100vw-2rem)] max-w-3xl flex-col gap-4 overflow-hidden sm:w-full sm:max-h-[90vh]",children:[g.jsxs(Bd,{children:[g.jsx(Od,{children:"Bridged assets"}),g.jsxs(kd,{className:"space-y-1 text-sm",children:[g.jsx("p",{children:"Live balances held by the Mezo bridge contract on Ethereum. Data refreshes every indexer cycle."}),g.jsxs("p",{className:"font-mono text-xs text-muted-foreground",children:["Bridge contract:"," ",i!=="0x"?g.jsx("a",{href:`https://etherscan.io/address/${i}`,target:"_blank",rel:"noreferrer",className:"underline-offset-2 hover:underline",children:i}):""]})]})]}),g.jsx("div",{className:"flex min-h-0 flex-1 flex-col",children:r&&n.length===0?g.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((o,a)=>g.jsx($8,{className:"h-24 w-full rounded-xl"},a))}):s.length===0?g.jsx("div",{className:"rounded-xl border border-dashed border-card-border bg-muted/30 p-6 text-center text-sm text-muted-foreground",children:"No bridged assets found yet. The indexer will populate this list after the next sync."}):g.jsx(yv,{className:"flex-1 pr-4",children:g.jsx("div",{className:"space-y-4 pb-4",children:s.map(o=>g.jsxs("div",{className:"glass-card rounded-xl border border-card-border/60 p-4 shadow-sm transition hover:border-primary/60",children:[g.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("p",{className:"text-lg font-semibold text-foreground",children:o.token_name}),g.jsx(gc,{variant:"outline",className:"text-xs",children:o.ethereum_symbol})]}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:["Backed by ",o.ethereum_symbol," at"," ",H8(o.ethereum_address)]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"font-mono text-xl font-semibold text-primary",children:z8(o.balance_formatted)}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.token_name," (decimals: ",o.decimals,")"]})]})]}),g.jsxs("div",{className:"mt-4 grid gap-2 text-xs text-muted-foreground",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-medium text-foreground",children:"Mezo token:"}),g.jsx("a",{href:`https://explorer.mezo.org/token/${o.mezo_address}`,target:"_blank",rel:"noreferrer",className:"font-mono break-all text-foreground underline-offset-2 hover:underline",children:o.mezo_address})]}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsx("span",{className:"font-medium text-foreground",children:"Ethereum token:"}),g.jsx("a",{href:`https://etherscan.io/token/${o.ethereum_address}`,target:"_blank",rel:"noreferrer",className:"font-mono break-all text-foreground underline-offset-2 hover:underline",children:o.ethereum_address})]})]})]},o.token_symbol))})})})]})})},mr=w.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));mr.displayName="Input";var V8="Label",bv=w.forwardRef((t,e)=>g.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bv.displayName=V8;var wv=bv;const W8=Al("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),yr=w.forwardRef(({className:t,...e},n)=>g.jsx(wv,{ref:n,className:xe(W8(),t),...e}));yr.displayName=wv.displayName;var q8="Separator",Uy="horizontal",Q8=["horizontal","vertical"],vv=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=Uy,...s}=t,i=K8(r)?r:Uy,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return g.jsx(Pe.div,{"data-orientation":i,...a,...s,ref:e})});vv.displayName=q8;function K8(t){return Q8.includes(t)}var xv=vv;const Av=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>g.jsx(xv,{ref:s,decorative:n,orientation:e,className:xe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Av.displayName=xv.displayName;const Uf=1.1,jf="mezo-debt-calculator",dn={collateral:"5",debt:"10000",repay:"0",borrow:"0",targetPrice:""},fn=(t,e)=>t===null||Number.isNaN(t)||!Number.isFinite(t)?"":t.toLocaleString(void 0,{maximumFractionDigits:4,...e}),so=t=>{const e=Number.parseFloat(t);return Number.isFinite(e)?e:0},J8=({open:t,onOpenChange:e,btcPrice:n,troves:r,walletAccount:s})=>{const[i,o]=w.useState(dn.collateral),[a,c]=w.useState(dn.debt),[l,u]=w.useState(()=>n>0?n.toString():"0"),[d,p]=w.useState(dn.repay),[f,m]=w.useState(dn.borrow),[h,y]=w.useState(dn.targetPrice),[b,E]=w.useState(!1),[x,A]=w.useState(!1),[T,P]=w.useState(!1),S=(s==null?void 0:s.toLowerCase())??null,R=w.useMemo(()=>S?r.filter(Y=>{var ae;return((ae=Y.owner)==null?void 0:ae.toLowerCase())===S}):[],[S,r]),M=w.useMemo(()=>R.length===0?null:R.reduce((Y,ae)=>{const He=Y.principal_debt+Y.interest;return ae.principal_debt+ae.interest>He?ae:Y},R[0]),[R]),F=w.useMemo(()=>r.length?[...r].sort((Y,ae)=>{const He=(Y.collaterization_ratio??0)-(ae.collaterization_ratio??0);if(He!==0)return He;const _e=new Date(Y.updated_at).getTime(),Ji=new Date(ae.updated_at).getTime();return _e!==Ji?_e-Ji:Y.id.localeCompare(ae.id)}):[],[r]),B=w.useCallback(Y=>{if(Y===null||!Number.isFinite(Y)||Y<=0||F.length===0)return null;let ae=0,He=0;for(const _e of F)if((_e.collaterization_ratio??0)<Y)ae+=1,He+=_e.collateral;else break;return{trovesAhead:ae,collateralAhead:He}},[F]),D=w.useCallback(()=>{if(!M)return!1;const Y=M.principal_debt+M.interest;return o(M.collateral.toString()),c(Y.toString()),p(dn.repay),m(dn.borrow),y(dn.targetPrice),u(n>0?n.toString():"0"),!0},[M,n]);w.useEffect(()=>{t&&u(Y=>Number(Y)>0?Y:n.toString())},[n,t]),w.useEffect(()=>{t||P(!1)},[t]),w.useEffect(()=>{if(!(typeof window>"u"))try{const Y=window.localStorage.getItem(jf);if(Y){const ae=JSON.parse(Y);ae.collateralInput&&o(ae.collateralInput),ae.debtInput&&c(ae.debtInput),ae.btcPriceInput&&u(ae.btcPriceInput),ae.repayInput&&p(ae.repayInput),ae.borrowInput&&m(ae.borrowInput),ae.targetPriceInput&&y(ae.targetPriceInput),E(!0)}else E(!1)}catch(Y){console.error("Failed to load debt calculator state",Y),E(!1)}finally{A(!0)}},[]),w.useEffect(()=>{!t||!x||T||b||D()&&P(!0)},[t,x,T,b,D]);const $=()=>{if(typeof window>"u")return;const Y={collateralInput:i,debtInput:a,btcPriceInput:l,repayInput:d,borrowInput:f,targetPriceInput:h};window.localStorage.setItem(jf,JSON.stringify(Y)),E(!0)},z=()=>{const Y=D();Y||(o("1"),c("10000"),p(dn.repay),m(dn.borrow),y(dn.targetPrice),u(n>0?n.toString():"0")),typeof window<"u"&&window.localStorage.removeItem(jf),E(!1),P(Y)},N=()=>{u(n>0?n.toString():"0")},I=w.useMemo(()=>Math.max(so(i),0),[i]),U=w.useMemo(()=>Math.max(so(a),0),[a]),k=w.useMemo(()=>Math.max(so(l),0),[l]),L=w.useMemo(()=>Math.max(so(d),0),[d]),G=w.useMemo(()=>Math.max(so(f),0),[f]),q=w.useMemo(()=>{const Y=so(h);return Y>0?Y:null},[h]),K=I>0?U*Uf/I:null,te=U>0?I*k/U:null,Q=K!==null&&k>0?(k-K)/k*100:null,se=Math.max(U-L+G,0),le=I>0?se*Uf/I:null,ie=se>0?I*k/se:k>0?1/0:null,Ce=q!==null&&I>0?q*I/Uf:null,Te=Ce!==null?Math.max(U-Math.max(Ce,0),0):null,Re=Ce!==null&&Ce>0?I*k/Ce:null,ze=w.useMemo(()=>B(te),[te,B]),Ie=w.useMemo(()=>B(ie===1/0?null:ie),[ie,B]);return g.jsx(A0,{open:t,onOpenChange:e,children:g.jsxs(Id,{className:"h-[calc(100vh-2rem)] w-[calc(100vw-2rem)] max-w-3xl overflow-y-auto sm:h-auto sm:w-full sm:max-h-[90vh]",children:[g.jsxs(Bd,{children:[g.jsx(Od,{children:"Debt calculator"}),g.jsx(kd,{className:"space-y-1 text-sm",children:g.jsx("p",{children:"Evaluate how changes to your position impact liquidation risk. Calculations use the Liquity minimum collateral ratio of 110%."})})]}),g.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.4fr_1fr]",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(yr,{htmlFor:"collateral",children:"Collateral (BTC)"}),g.jsx(mr,{id:"collateral",type:"number",min:"0",step:"0.0001",value:i,onChange:Y=>o(Y.target.value)})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(yr,{htmlFor:"debt",children:"Debt (MUSD)"}),g.jsx(mr,{id:"debt",type:"number",min:"0",step:"1",value:a,onChange:Y=>c(Y.target.value)})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsx(yr,{htmlFor:"btcPrice",children:"BTC price (USD)"}),g.jsx(Pt,{variant:"outline",size:"sm",onClick:N,children:"Refresh"})]}),g.jsx(mr,{id:"btcPrice",type:"number",min:"0",step:"1",value:l,onChange:Y=>u(Y.target.value)})]}),g.jsx(Av,{}),g.jsxs("div",{className:"grid gap-2",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(yr,{htmlFor:"repay",children:"Repay amount (MUSD)"}),g.jsx("span",{className:"text-xs text-muted-foreground",children:"Preview new ratio after repayment"})]}),g.jsx(mr,{id:"repay",type:"number",min:"0",step:"1",value:d,onChange:Y=>p(Y.target.value)})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(yr,{htmlFor:"borrow",children:"Borrow amount (MUSD)"}),g.jsx("span",{className:"text-xs text-muted-foreground",children:"Preview new ratio after borrowing"})]}),g.jsx(mr,{id:"borrow",type:"number",min:"0",step:"1",value:f,onChange:Y=>m(Y.target.value)})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(yr,{htmlFor:"targetPrice",children:"Target liquidation price (USD)"}),g.jsx("span",{className:"text-xs text-muted-foreground",children:"How much debt to repay to reach this threshold"})]}),g.jsx(mr,{id:"targetPrice",type:"number",min:"0",step:"1",placeholder:"e.g. 15000",value:h,onChange:Y=>y(Y.target.value)})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx(Pt,{variant:"outline",onClick:z,children:"Reset"}),g.jsx(Pt,{onClick:$,children:"Save"})]})]}),g.jsxs("div",{className:"space-y-4 rounded-xl border border-card-border/60 bg-muted/20 p-4 text-sm",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Current position"}),g.jsxs("div",{className:"space-y-3 rounded-lg border border-card-border/60 bg-background/80 p-3",children:[g.jsx("div",{className:"flex justify-between",children:g.jsx("span",{className:"text-muted-foreground",children:"Collateral ratio"})}),g.jsx("p",{className:"text-2xl font-semibold text-primary",children:te===null?"":`${fn(te,{minimumFractionDigits:2,maximumFractionDigits:2})}`}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Liquidation price:"," ",g.jsxs("span",{className:"font-semibold text-foreground",children:["$",fn(K,{maximumFractionDigits:2})]})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Buffer vs. market:"," ",g.jsx("span",{className:"font-semibold text-foreground",children:Q===null?"":`${fn(Q,{maximumFractionDigits:2})}%`})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Troves ahead:"," ",g.jsx("span",{className:"font-semibold text-foreground",children:ze?ze.trovesAhead.toLocaleString():""})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Collateral ahead:"," ",g.jsx("span",{className:"font-semibold text-foreground",children:ze?`${fn(ze.collateralAhead,{minimumFractionDigits:4})} BTC`:""})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"After payment"}),g.jsxs("div",{className:"space-y-3 rounded-lg border border-card-border/60 bg-background/80 p-3",children:[g.jsx("p",{className:"text-2xl font-semibold text-emerald-500",children:ie===null?"":ie===1/0?"":`${fn(ie,{minimumFractionDigits:2,maximumFractionDigits:2})}`}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["New liquidation:"," ",g.jsxs("span",{className:"font-semibold text-foreground",children:["$",fn(le,{maximumFractionDigits:2})]})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Remaining debt:"," ",g.jsxs("span",{className:"font-semibold text-foreground",children:[fn(se,{minimumFractionDigits:2})," ","MUSD"]})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Troves ahead:"," ",g.jsx("span",{className:"font-semibold text-foreground",children:Ie?Ie.trovesAhead.toLocaleString():""})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Collateral ahead:"," ",g.jsx("span",{className:"font-semibold text-foreground",children:Ie?`${fn(Ie.collateralAhead,{minimumFractionDigits:4})} BTC`:""})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground",children:"Target price helper"}),g.jsxs("div",{className:"space-y-3 rounded-lg border border-card-border/60 bg-background/80 p-3",children:[g.jsxs("p",{className:"font-semibold text-foreground",children:["Repay needed:"," ",Te===null?"":`${fn(Te,{minimumFractionDigits:2})} MUSD`]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Debt after target:"," ",g.jsx("span",{className:"font-semibold text-foreground",children:Ce===null?"":`${fn(Math.max(Ce,0),{minimumFractionDigits:2})} MUSD`})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["Resulting ratio:"," ",g.jsx("span",{className:"font-semibold text-foreground",children:Re===null?"":`${fn(Re,{minimumFractionDigits:2,maximumFractionDigits:2})}`})]})]})]})]})]})]})})},Y8=Al("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Gs=w.forwardRef(({className:t,variant:e,...n},r)=>g.jsx("div",{ref:r,role:"alert",className:xe(Y8({variant:e}),t),...n}));Gs.displayName="Alert";const Vs=w.forwardRef(({className:t,...e},n)=>g.jsx("h5",{ref:n,className:xe("mb-1 font-medium leading-none tracking-tight",t),...e}));Vs.displayName="AlertTitle";const Ws=w.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:xe("text-sm [&_p]:leading-relaxed",t),...e}));Ws.displayName="AlertDescription";const S0={contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"}},id:31612,name:"Mezo",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc-internal.mezo.org"],webSocket:["wss://rpc-ws.mezo.boar.network"]}}},Z8={MUSD:{address:"0xdD468A1DDc392dcdbEf6db6e34E89AA338F9F186"}},fr={MEZO_TROVE_MANAGER:"0x94AfB503dBca74aC3E4929BACEeDfCe19B93c193",MEZO_BORROWER_OPERATIONS:"0x44b1bac67dDA612a41a58AAf779143B181dEe031",MEZO_HINT_HELPERS:"0xD267b3bE2514375A075fd03C3D9CBa6b95317DC3",MEZO_SORTED_TROVES:"0x8C5DB4C62BF29c1C4564390d10c20a47E0b2749f"},X8="1.1.0";let It=class zp extends Error{constructor(e,n={}){var o;const r=n.cause instanceof zp?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof zp&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${X8}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function Vr(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const Ev=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Tv=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Pv=/^\(.+?\).*?$/,jy=/^tuple(?<array>(\[(\d*)\])*)$/;function Hp(t){let e=t.type;if(jy.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=Hp(i),s<n-1&&(e+=", ")}const r=Vr(jy,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,Hp({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function uo(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=Hp(s),r!==n-1&&(e+=", ")}return e}function Hu(t){var e;return t.type==="function"?`function ${t.name}(${uo(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${uo(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${uo(t.inputs)})`:t.type==="error"?`error ${t.name}(${uo(t.inputs)})`:t.type==="constructor"?`constructor(${uo(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Cv=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function eR(t){return Cv.test(t)}function tR(t){return Vr(Cv,t)}const Sv=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function nR(t){return Sv.test(t)}function rR(t){return Vr(Sv,t)}const Nv=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function sR(t){return Nv.test(t)}function iR(t){return Vr(Nv,t)}const Rv=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ld(t){return Rv.test(t)}function oR(t){return Vr(Rv,t)}const Iv=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function aR(t){return Iv.test(t)}function cR(t){return Vr(Iv,t)}const Bv=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function lR(t){return Bv.test(t)}function uR(t){return Vr(Bv,t)}const dR=/^receive\(\) external payable$/;function fR(t){return dR.test(t)}const $y=new Set(["memory","indexed","storage","calldata"]),pR=new Set(["indexed"]),Gp=new Set(["calldata","memory","storage"]);class hR extends It{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class mR extends It{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class yR extends It{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class gR extends It{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class bR extends It{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class wR extends It{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class vR extends It{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class xR extends It{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class AR extends It{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ha extends It{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class ER extends It{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class TR extends It{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class PR extends It{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class CR extends It{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function SR(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const $f=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Vp(t,e={}){if(sR(t))return NR(t,e);if(nR(t))return RR(t,e);if(eR(t))return IR(t,e);if(aR(t))return BR(t,e);if(lR(t))return OR(t);if(fR(t))return{type:"receive",stateMutability:"payable"};throw new ER({signature:t})}function NR(t,e={}){const n=iR(t);if(!n)throw new Ha({signature:t,type:"function"});const r=$t(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Ur(r[a],{modifiers:Gp,structs:e,type:"function"}));const o=[];if(n.returns){const a=$t(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Ur(a[l],{modifiers:Gp,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function RR(t,e={}){const n=rR(t);if(!n)throw new Ha({signature:t,type:"event"});const r=$t(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ur(r[o],{modifiers:pR,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function IR(t,e={}){const n=tR(t);if(!n)throw new Ha({signature:t,type:"error"});const r=$t(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ur(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function BR(t,e={}){const n=cR(t);if(!n)throw new Ha({signature:t,type:"constructor"});const r=$t(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ur(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function OR(t){const e=uR(t);if(!e)throw new Ha({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const kR=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,MR=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,DR=/^u?int$/;function Ur(t,e){var d,p;const n=SR(t,e==null?void 0:e.type,e==null?void 0:e.structs);if($f.has(n))return $f.get(n);const r=Pv.test(t),s=Vr(r?MR:kR,t);if(!s)throw new bR({param:t});if(s.name&&FR(s.name))throw new wR({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c="tuple";const f=$t(s.type),m=[],h=f.length;for(let y=0;y<h;y++)m.push(Ur(f[y],{structs:a}));l={components:m}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(DR.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!Ov(c))throw new yR({type:c});if(s.modifier){if(!((p=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&p.call(d,s.modifier)))throw new vR({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(Gp.has(s.modifier)&&!_R(c,!!s.array))throw new xR({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const u={type:`${c}${s.array??""}`,...i,...o,...l};return $f.set(n,u),u}function $t(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?$t(a,[...e,n.trim()]):$t(a,e,`${n}${o}`,r);case"(":return $t(a,e,`${n}${o}`,r+1);case")":return $t(a,e,`${n}${o}`,r-1);default:return $t(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new CR({current:n,depth:r});return e.push(n.trim()),e}function Ov(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Ev.test(t)||Tv.test(t)}const LR=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function FR(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Ev.test(t)||Tv.test(t)||LR.test(t)}function _R(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function N0(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!Ld(a))continue;const c=oR(a);if(!c)throw new Ha({signature:a,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let p=0;p<d;p++){const m=l[p].trim();if(!m)continue;const h=Ur(m,{type:"struct"});u.push(h)}if(!u.length)throw new TR({signature:a});e[c.name]=u}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=kv(c,e)}return r}const UR=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function kv(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(Pv.test(o.type))r.push(o);else{const c=Vr(UR,o.type);if(!(c!=null&&c.type))throw new AR({abiParameter:o});const{array:l,type:u}=c;if(u in e){if(n.has(u))throw new PR({type:u});r.push({...o,type:`tuple${l??""}`,components:kv(e[u]??[],e,new Set([...n,u]))})}else if(Ov(u))r.push(o);else throw new mR({type:u})}}return r}function Mv(t){const e=N0(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];Ld(i)||n.push(Vp(i,e))}return n}function zy(t){let e;if(typeof t=="string")e=Vp(t);else{const n=N0(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!Ld(i)){e=Vp(i,n);break}}}if(!e)throw new hR({signature:t});return e}function Hy(t){const e=[];if(typeof t=="string"){const n=$t(t),r=n.length;for(let s=0;s<r;s++)e.push(Ur(n[s],{modifiers:$y}))}else{const n=N0(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(Ld(i))continue;const o=$t(i),a=o.length;for(let c=0;c<a;c++)e.push(Ur(o[c],{modifiers:$y,structs:n}))}}if(e.length===0)throw new gR({params:t});return e}function ne(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}function Tn(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new ZR(t.type);return`${t.name}(${Fd(t.inputs,{includeName:e})})`}function Fd(t,{includeName:e=!1}={}){return t?t.map(n=>jR(n,{includeName:e})).join(e?", ":","):""}function jR(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Fd(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function rr(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function De(t){return rr(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Dv="2.39.3";let sc={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Dv}`},H=class Wp extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Wp?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Wp&&n.cause.docsPath||n.docsPath,i=(a=sc.getDocsUrl)==null?void 0:a.call(sc,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...sc.version?[`Version: ${sc.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Dv}walk(e){return Lv(this,e)}};function Lv(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Lv(t.cause,e):e?null:t}class $R extends H{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class Gy extends H{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Fv extends H{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Fd(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Cl extends H{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class zR extends H{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class HR extends H{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${De(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class GR extends H{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class VR extends H{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Vy extends H{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class _v extends H{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class WR extends H{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Uv extends H{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Wy extends H{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Aa extends H{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class jv extends H{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class qR extends H{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class QR extends H{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Tn(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Tn(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let KR=class extends H{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Sc extends H{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Fd(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class _d extends H{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Tn(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class JR extends H{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class YR extends H{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let $v=class extends H{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class ZR extends H{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class XR extends H{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let zv=class extends H{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Hv=class extends H{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class qy extends H{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Ga(t,{dir:e,size:n=32}={}){return typeof t=="string"?Ps(t,{dir:e,size:n}):eI(t,{dir:e,size:n})}function Ps(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Hv({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function eI(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Hv({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}let Gv=class extends H{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},tI=class extends H{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class nI extends H{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let rI=class extends H{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Cs(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Bn(t,{size:e}){if(De(t)>e)throw new rI({givenSize:De(t),maxSize:e})}function Ht(t,e={}){const{signed:n}=e;e.size&&Bn(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function sI(t,e={}){let n=t;if(e.size&&(Bn(n,{size:e.size}),n=Cs(n)),Cs(n)==="0x00")return!1;if(Cs(n)==="0x01")return!0;throw new nI(n)}function Pn(t,e={}){return Number(Ht(t,e))}const iI=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jr(t,e={}){return typeof t=="number"||typeof t=="bigint"?re(t,e):typeof t=="string"?Ea(t,e):typeof t=="boolean"?Vv(t,e):Ke(t,e)}function Vv(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Bn(n,{size:e.size}),Ga(n,{size:e.size})):n}function Ke(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=iI[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Bn(r,{size:e.size}),Ga(r,{dir:"right",size:e.size})):r}function re(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new Gv({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ga(a,{size:r}):a}const oI=new TextEncoder;function Ea(t,e={}){const n=oI.encode(t);return Ke(n,e)}const aI=new TextEncoder;function Va(t,e={}){return typeof t=="number"||typeof t=="bigint"?lI(t,e):typeof t=="boolean"?cI(t,e):rr(t)?sr(t,e):Ei(t,e)}function cI(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Bn(n,{size:e.size}),Ga(n,{size:e.size})):n}const lr={zero:48,nine:57,A:65,F:70,a:97,f:102};function Qy(t){if(t>=lr.zero&&t<=lr.nine)return t-lr.zero;if(t>=lr.A&&t<=lr.F)return t-(lr.A-10);if(t>=lr.a&&t<=lr.f)return t-(lr.a-10)}function sr(t,e={}){let n=t;e.size&&(Bn(n,{size:e.size}),n=Ga(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=Qy(r.charCodeAt(a++)),l=Qy(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new H(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function lI(t,e){const n=re(t,e);return sr(n)}function Ei(t,e={}){const n=aI.encode(t);return typeof e.size=="number"?(Bn(n,{size:e.size}),Ga(n,{dir:"right",size:e.size})):n}const nu=BigInt(2**32-1),Ky=BigInt(32);function uI(t,e=!1){return e?{h:Number(t&nu),l:Number(t>>Ky&nu)}:{h:Number(t>>Ky&nu)|0,l:Number(t&nu)|0}}function dI(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=uI(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const fI=(t,e,n)=>t<<n|e>>>32-n,pI=(t,e,n)=>e<<n|t>>>32-n,hI=(t,e,n)=>e<<n-32|t>>>64-n,mI=(t,e,n)=>t<<n-32|e>>>64-n,io=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Nc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ii(t,...e){if(!yI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function gI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Nc(t.outputLen),Nc(t.blockLen)}function Ta(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Wv(t,e){Ii(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function bI(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Pa(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function zf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function kn(t,e){return t<<32-e|t>>>e}const wI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function vI(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function xI(t){for(let e=0;e<t.length;e++)t[e]=vI(t[e]);return t}const Jy=wI?t=>t:xI;function AI(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ud(t){return typeof t=="string"&&(t=AI(t)),Ii(t),t}function EI(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ii(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let R0=class{};function qv(t){const e=r=>t().update(Ud(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function TI(t=32){if(io&&typeof io.getRandomValues=="function")return io.getRandomValues(new Uint8Array(t));if(io&&typeof io.randomBytes=="function")return Uint8Array.from(io.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const PI=BigInt(0),ic=BigInt(1),CI=BigInt(2),SI=BigInt(7),NI=BigInt(256),RI=BigInt(113),Qv=[],Kv=[],Jv=[];for(let t=0,e=ic,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Qv.push(2*(5*r+n)),Kv.push((t+1)*(t+2)/2%64);let s=PI;for(let i=0;i<7;i++)e=(e<<ic^(e>>SI)*RI)%NI,e&CI&&(s^=ic<<(ic<<BigInt(i))-ic);Jv.push(s)}const Yv=dI(Jv,!0),II=Yv[0],BI=Yv[1],Yy=(t,e,n)=>n>32?hI(t,e,n):fI(t,e,n),Zy=(t,e,n)=>n>32?mI(t,e,n):pI(t,e,n);function OI(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=Yy(l,u,1)^n[a],p=Zy(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=p}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=Kv[o],c=Yy(s,i,a),l=Zy(s,i,a),u=Qv[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=II[r],t[1]^=BI[r]}Pa(n)}let kI=class Zv extends R0{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Nc(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=bI(this.state)}clone(){return this._cloneInto()}keccak(){Jy(this.state32),OI(this.state32,this.rounds),Jy(this.state32),this.posOut=0,this.pos=0}update(e){Ta(this),e=Ud(e),Ii(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ta(this,!1),Ii(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Nc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Wv(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Pa(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Zv(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const MI=(t,e,n)=>qv(()=>new kI(e,t,n)),Xv=MI(1,136,256/8);function it(t,e){const n=e||"hex",r=Xv(rr(t,{strict:!1})?Va(t):t);return n==="bytes"?r:jr(r)}const DI=t=>it(Va(t));function LI(t){return DI(t)}function FI(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new H("Unable to normalize signature.");return s}const _I=t=>{const e=typeof t=="string"?t:Hu(t);return FI(e)};function ex(t){return LI(_I(t))}const jd=ex;let Is=class extends H{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Sl=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Hf=new Sl(8192);function Nl(t,e){if(Hf.has(`${t}.${e}`))return Hf.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=it(Ei(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Hf.set(`${t}.${e}`,i),i}function I0(t,e){if(!rn(t,{strict:!1}))throw new Is({address:t});return Nl(t,e)}const UI=/^0x[a-fA-F0-9]{40}$/,Gf=new Sl(8192);function rn(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Gf.has(r))return Gf.get(r);const s=UI.test(t)?t.toLowerCase()===t?!0:n?Nl(t)===t:!0:!1;return Gf.set(r,s),s}function sn(t){return typeof t[0]=="string"?Wa(t):jI(t)}function jI(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Wa(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Ca(t,e,n,{strict:r}={}){return rr(t,{strict:!1})?qp(t,e,n,{strict:r}):rx(t,e,n,{strict:r})}function tx(t,e){if(typeof e=="number"&&e>0&&e>De(t)-1)throw new zv({offset:e,position:"start",size:De(t)})}function nx(t,e,n){if(typeof e=="number"&&typeof n=="number"&&De(t)!==n-e)throw new zv({offset:n,position:"end",size:De(t)})}function rx(t,e,n,{strict:r}={}){tx(t,e);const s=t.slice(e,n);return r&&nx(s,e,n),s}function qp(t,e,n,{strict:r}={}){tx(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&nx(s,e,n),s}const $I=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,sx=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Hi(t,e){if(t.length!==e.length)throw new GR({expectedLength:t.length,givenLength:e.length});const n=zI({params:t,values:e}),r=O0(n);return r.length===0?"0x":r}function zI({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(B0({param:t[r],value:e[r]}));return n}function B0({param:t,value:e}){const n=k0(t.type);if(n){const[r,s]=n;return GI(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return KI(e,{param:t});if(t.type==="address")return HI(e);if(t.type==="bool")return WI(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=sx.exec(t.type)??[];return qI(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return VI(e,{param:t});if(t.type==="string")return QI(e);throw new JR(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function O0(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=De(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(re(e+s,{size:32})),r.push(a),s+=De(a)):n.push(a)}return sn([...n,...r])}function HI(t){if(!rn(t))throw new Is({address:t});return{dynamic:!1,encoded:Ps(t.toLowerCase())}}function GI(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new $v(t);if(!r&&t.length!==e)throw new zR({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=B0({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=O0(i);if(r){const a=re(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?sn([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:sn(i.map(({encoded:o})=>o))}}function VI(t,{param:e}){const[,n]=e.type.split("bytes"),r=De(t);if(!n){let s=t;return r%32!==0&&(s=Ps(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:sn([Ps(re(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new HR({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Ps(t,{dir:"right"})}}function WI(t){if(typeof t!="boolean")throw new H(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ps(Vv(t))}}function qI(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new Gv({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:re(t,{size:32,signed:e})}}function QI(t){const e=Ea(t),n=Math.ceil(De(e)/32),r=[];for(let s=0;s<n;s++)r.push(Ps(Ca(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:sn([Ps(re(De(e),{size:32})),...r])}}function KI(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=B0({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?O0(r):sn(r.map(({encoded:s})=>s))}}function k0(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Rl=t=>Ca(ex(t),0,4);function Gi(t){const{abi:e,args:n=[],name:r}=t,s=rr(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?Rl(a)===r:a.type==="event"?jd(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in a&&a.inputs[u];return d?Qp(l,d):!1})){if(o&&"inputs"in o&&o.inputs){const l=ix(a.inputs,o.inputs,n);if(l)throw new QR({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||i[0]}function Qp(t,e){const n=typeof t,r=e.type;switch(r){case"address":return rn(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>Qp(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Qp(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ix(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return ix(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?rn(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?rn(n[r],{strict:!1}):!1)return o}}const Xy="/docs/contract/encodeEventTopics";function Il(t){var c;const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const l=Gi({abi:e,name:n});if(!l)throw new Wy(n,{docsPath:Xy});s=l}if(s.type!=="event")throw new Wy(void 0,{docsPath:Xy});const i=Tn(s),o=jd(i);let a=[];if(r&&"inputs"in s){const l=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(d=>r[d.name]))??[]:[];u.length>0&&(a=(l==null?void 0:l.map((d,p)=>Array.isArray(u[p])?u[p].map((f,m)=>eg({param:d,value:u[p][m]})):typeof u[p]<"u"&&u[p]!==null?eg({param:d,value:u[p]}):null))??[])}return[o,...a]}function eg({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return it(Va(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new XR(t.type);return Hi([t],[e])}function $d(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function ox(t,e){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=e,l=$d(t,{method:"eth_newFilter"}),u=i?Il({abi:r,args:s,eventName:i}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?re(o):o,toBlock:typeof c=="bigint"?re(c):c,topics:u}]});return{abi:r,args:s,eventName:i,id:d,request:l(d),strict:!!a,type:"event"}}function Fe(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const tg="/docs/contract/encodeFunctionData";function JI(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=Gi({abi:e,args:n,name:r});if(!i)throw new Aa(r,{docsPath:tg});s=i}if(s.type!=="function")throw new Aa(void 0,{docsPath:tg});return{abi:[s],functionName:Rl(Tn(s))}}function Bt(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:JI(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?Hi(s.inputs,e??[]):void 0;return Wa([i,o??"0x"])}const YI={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ax={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},ZI={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let ng=class extends H{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},cx=class extends H{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},XI=class extends H{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const e3={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new XI({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new cx({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new ng({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new ng({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function M0(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(e3);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function t3(t,e={}){typeof e.size<"u"&&Bn(t,{size:e.size});const n=Ke(t,e);return Ht(n,e)}function n3(t,e={}){let n=t;if(typeof e.size<"u"&&(Bn(n,{size:e.size}),n=Cs(n)),n.length>1||n[0]>1)throw new tI(n);return!!n[0]}function kr(t,e={}){typeof e.size<"u"&&Bn(t,{size:e.size});const n=Ke(t,e);return Pn(n,e)}function r3(t,e={}){let n=t;return typeof e.size<"u"&&(Bn(n,{size:e.size}),n=Cs(n,{dir:"right"})),new TextDecoder().decode(n)}function Bl(t,e){const n=typeof e=="string"?sr(e):e,r=M0(n);if(De(n)===0&&t.length>0)throw new Cl;if(De(e)&&De(e)<32)throw new Fv({data:typeof e=="string"?e:Ke(e),params:t,size:De(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,l]=Co(r,a,{staticPosition:0});s+=l,i.push(c)}return i}function Co(t,e,{staticPosition:n}){const r=k0(e.type);if(r){const[s,i]=r;return i3(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return l3(t,e,{staticPosition:n});if(e.type==="address")return s3(t);if(e.type==="bool")return o3(t);if(e.type.startsWith("bytes"))return a3(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return c3(t,e);if(e.type==="string")return u3(t,{staticPosition:n});throw new YR(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const rg=32,Kp=32;function s3(t){const e=t.readBytes(32);return[Nl(Ke(rx(e,-20))),32]}function i3(t,e,{length:n,staticPosition:r}){if(!n){const o=kr(t.readBytes(Kp)),a=r+o,c=a+rg;t.setPosition(a);const l=kr(t.readBytes(rg)),u=Rc(e);let d=0;const p=[];for(let f=0;f<l;++f){t.setPosition(c+(u?f*32:d));const[m,h]=Co(t,e,{staticPosition:c});d+=h,p.push(m)}return t.setPosition(r+32),[p,32]}if(Rc(e)){const o=kr(t.readBytes(Kp)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[u]=Co(t,e,{staticPosition:a});c.push(u)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Co(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function o3(t){return[n3(t.readBytes(32),{size:32}),32]}function a3(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=kr(t.readBytes(32));t.setPosition(n+o);const a=kr(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Ke(c),32]}return[Ke(t.readBytes(Number.parseInt(s,10),32)),32]}function c3(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?t3(s,{signed:n}):kr(s,{signed:n}),32]}function l3(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Rc(e)){const o=kr(t.readBytes(Kp)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+i);const[u,d]=Co(t,l,{staticPosition:a});i+=d,s[r?c:l==null?void 0:l.name]=u}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=Co(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=l}return[s,i]}function u3(t,{staticPosition:e}){const n=kr(t.readBytes(32)),r=e+n;t.setPosition(r);const s=kr(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=r3(Cs(i));return t.setPosition(e+32),[o,32]}function Rc(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Rc);const n=k0(t.type);return!!(n&&Rc({...t,type:n[1]}))}function d3(t){const{abi:e,data:n}=t,r=Ca(n,0,4);if(r==="0x")throw new Cl;const i=[...e||[],ax,ZI].find(o=>o.type==="error"&&r===Rl(Tn(o)));if(!i)throw new _v(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Bl(i.inputs,Ca(n,4)):void 0,errorName:i.name}}const Qe=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function lx({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?Qe(e[i]):e[i]}`).join(", ")})`}const f3={gwei:9,wei:18},p3={ether:-9,wei:9};function Ge(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function D0(t,e="wei"){return Ge(t,f3[e])}function St(t,e="wei"){return Ge(t,p3[e])}class h3 extends H{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class m3 extends H{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function sg(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function y3(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=sg(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=sg(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Ol(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class g3 extends H{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class b3 extends H{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ol(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class w3 extends H{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:p}){var m;const f=Ol({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof p<"u"&&`${D0(p)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${St(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${St(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${St(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ux extends H{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class dx extends H{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class fx extends H{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class v3 extends H{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const x3=t=>t,L0=t=>t;class px extends H{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:p,stateOverride:f}){var y;const m=n?Fe(n):void 0;let h=Ol({from:m==null?void 0:m.address,to:d,value:typeof p<"u"&&`${D0(p)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${St(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${St(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${St(l)} gwei`,nonce:u});f&&(h+=`
${y3(f)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class hx extends H{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Gi({abi:n,args:r,name:o}),l=c?lx({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?Tn(c,{includeName:!0}):void 0,d=Ol({address:s&&x3(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class Jp extends H{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=d3({abi:e,data:n});const{abiItem:u,errorName:d,args:p}=o;if(d==="Error")c=p[0];else if(d==="Panic"){const[f]=p;c=YI[f]}else{const f=u?Tn(u,{includeName:!0}):void 0,m=u&&p?lx({abiItem:u,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",m&&m!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(u){i=u}else s&&(c=s);let l;i instanceof _v&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class A3 extends H{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class E3 extends H{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class zd extends H{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class bc extends H{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${L0(o)}`,e&&`Request body: ${Qe(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class F0 extends H{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${L0(r)}`,`Request body: ${Qe(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ig extends H{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${L0(n)}`,`Request body: ${Qe(e)}`],name:"TimeoutError"})}}const T3=-1;class Ot extends H{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof F0?e.code:n??T3}}class Vt extends Ot{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Ic extends Ot{constructor(e){super(e,{code:Ic.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ic,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Bc extends Ot{constructor(e){super(e,{code:Bc.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Bc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Oc extends Ot{constructor(e,{method:n}={}){super(e,{code:Oc.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Oc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class kc extends Ot{constructor(e){super(e,{code:kc.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(kc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Bi extends Ot{constructor(e){super(e,{code:Bi.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Bi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Bs extends Ot{constructor(e){super(e,{code:Bs.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Mc extends Ot{constructor(e){super(e,{code:Mc.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Mc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Dc extends Ot{constructor(e){super(e,{code:Dc.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Dc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Lc extends Ot{constructor(e){super(e,{code:Lc.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Lc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Zs extends Ot{constructor(e,{method:n}={}){super(e,{code:Zs.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Zs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Sa extends Ot{constructor(e){super(e,{code:Sa.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Sa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Fc extends Ot{constructor(e){super(e,{code:Fc.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Fc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class So extends Vt{constructor(e){super(e,{code:So.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(So,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class _c extends Vt{constructor(e){super(e,{code:_c.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(_c,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Uc extends Vt{constructor(e,{method:n}={}){super(e,{code:Uc.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Uc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class jc extends Vt{constructor(e){super(e,{code:jc.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(jc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class $c extends Vt{constructor(e){super(e,{code:$c.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty($c,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class zc extends Vt{constructor(e){super(e,{code:zc.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(zc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Na extends Vt{constructor(e){super(e,{code:Na.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Na,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Hc extends Vt{constructor(e){super(e,{code:Hc.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Hc,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Gc extends Vt{constructor(e){super(e,{code:Gc.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Gc,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Vc extends Vt{constructor(e){super(e,{code:Vc.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Vc,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Wc extends Vt{constructor(e){super(e,{code:Wc.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Wc,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class qc extends Vt{constructor(e){super(e,{code:qc.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(qc,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ra extends Vt{constructor(e){super(e,{code:Ra.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ra,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class P3 extends Ot{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const C3=3;function Oi(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof zd?t:t instanceof H?t.walk(m=>"data"in m)||t.walk():{},{code:c,data:l,details:u,message:d,shortMessage:p}=a,f=t instanceof Cl?new A3({functionName:i}):[C3,Bi.code].includes(c)&&(l||u||d||p)||c===Bs.code&&u==="execution reverted"&&l?new Jp({abi:e,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof F0?u:p??d}):t;return new hx(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function S3(t){const e=it(`0x${t.substring(4)}`).substring(26);return Nl(`0x${e}`)}async function N3({hash:t,signature:e}){const n=rr(t)?t:jr(t),{secp256k1:r}=await Ls(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>n4);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:p}=e,f=Number(p??d),m=og(f);return new r.Signature(Ht(l),Ht(u)).addRecoveryBit(m)}const o=rr(e)?e:jr(e);if(De(o)!==65)throw new Error("invalid signature length");const a=Pn(`0x${o.slice(130)}`),c=og(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function og(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function mx({hash:t,signature:e}){return S3(await N3({hash:t,signature:e}))}function R3(t,e="hex"){const n=yx(t),r=M0(new Uint8Array(n.length));return n.encode(r),e==="hex"?Ke(r.bytes):r.bytes}function yx(t){return Array.isArray(t)?I3(t.map(e=>yx(e))):B3(t)}function I3(t){const e=t.reduce((s,i)=>s+i.length,0),n=gx(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function B3(t){const e=typeof t=="string"?sr(t):t,n=gx(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function gx(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new H("Length is too large.")}function O3(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=it(Wa(["0x05",R3([e?re(e):"0x",s,n?re(n):"0x"])]));return r==="bytes"?sr(i):i}async function Hd(t){const{authorization:e,signature:n}=t;return mx({hash:O3(e),signature:n??e})}class k3 extends H{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:p}){var m;const f=Ol({from:n==null?void 0:n.address,to:d,value:typeof p<"u"&&`${D0(p)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${St(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${St(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${St(l)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class mo extends H{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(mo,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(mo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Gu extends H{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${St(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Gu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Yp extends H{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${St(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Yp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Zp extends H{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Zp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Xp extends H{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Xp,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class eh extends H{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(eh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class th extends H{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(th,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class nh extends H{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(nh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class rh extends H{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(rh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class sh extends H{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(sh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Vu extends H{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${St(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${St(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Vu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class kl extends H{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Gd(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof H?t.walk(s=>(s==null?void 0:s.code)===mo.code):t;return r instanceof H?new mo({cause:t,message:r.details}):mo.nodeMessage.test(n)?new mo({cause:t,message:t.details}):Gu.nodeMessage.test(n)?new Gu({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Yp.nodeMessage.test(n)?new Yp({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Zp.nodeMessage.test(n)?new Zp({cause:t,nonce:e==null?void 0:e.nonce}):Xp.nodeMessage.test(n)?new Xp({cause:t,nonce:e==null?void 0:e.nonce}):eh.nodeMessage.test(n)?new eh({cause:t,nonce:e==null?void 0:e.nonce}):th.nodeMessage.test(n)?new th({cause:t}):nh.nodeMessage.test(n)?new nh({cause:t,gas:e==null?void 0:e.gas}):rh.nodeMessage.test(n)?new rh({cause:t,gas:e==null?void 0:e.gas}):sh.nodeMessage.test(n)?new sh({cause:t}):Vu.nodeMessage.test(n)?new Vu({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new kl({cause:t})}function M3(t,{docsPath:e,...n}){const r=(()=>{const s=Gd(t,n);return s instanceof kl?t:s})();return new k3(r,{docsPath:e,...n})}function Ml(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}const D3={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Vi(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=L3(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Ke(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=re(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=re(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=re(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=re(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=re(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=re(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=D3[t.type]),typeof t.value<"u"&&(n.value=re(t.value)),n}function L3(t){return t.map(e=>({address:e.address,r:e.r?re(BigInt(e.r)):e.r,s:e.s?re(BigInt(e.s)):e.s,chainId:re(e.chainId),nonce:re(e.nonce),...typeof e.yParity<"u"?{yParity:re(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:re(e.v)}:{}}))}function ag(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new qy({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new qy({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function F3(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=re(e)),n!==void 0&&(o.nonce=re(n)),r!==void 0&&(o.state=ag(r)),s!==void 0){if(o.state)throw new m3;o.stateDiff=ag(s)}return o}function _0(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!rn(n,{strict:!1}))throw new Is({address:n});if(e[n])throw new h3({address:n});e[n]=F3(r)}return e}const _3=2n**256n-1n;function Fs(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?Fe(e):void 0;if(o&&!rn(o.address))throw new Is({address:o.address});if(i&&!rn(i))throw new Is({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new g3;if(r&&r>_3)throw new Gu({maxFeePerGas:r});if(s&&r&&s>r)throw new Vu({maxFeePerGas:r,maxPriorityFeePerGas:s})}class U3 extends H{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class U0 extends H{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class j3 extends H{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${St(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class bx extends H{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const wx={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function vx(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Pn(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Pn(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?wx[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=$3(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function $3(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function xx(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:vx(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function Jn(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:s}={}){var l,u,d;const i=s??!1,o=n!==void 0?re(n):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,i]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new bx({blockHash:e,blockNumber:n});return(((d=(u=(l=t.chain)==null?void 0:l.formatters)==null?void 0:u.block)==null?void 0:d.format)||xx)(a,"getBlock")}async function j0(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function z3(t,e){return Ax(t,e)}async function Ax(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const l=n||await ne(t,Jn,"getBlock")({}),u=await a({block:l,client:t,request:s});if(u===null)throw new Error;return u}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Ht(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):ne(t,Jn,"getBlock")({}),ne(t,j0,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new U0;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function H3(t,e){return ih(t,e)}async function ih(t,e){var p,f;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var m,h;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(o<1)throw new U3;const c=10**(((p=o.toString().split(".")[1])==null?void 0:p.length)??0),l=m=>m*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await ne(t,Jn,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(m!==null)return m}if(i==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new U0;const m=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Ax(t,{block:u,chain:r,request:s}),h=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??h+m,maxPriorityFeePerGas:m}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await ne(t,j0,"getGasPrice")({}))}}async function $0(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?re(r):n]},{dedupe:!!r});return Pn(s)}function Ex(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>sr(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>Ke(i))}function Tx(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>sr(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>sr(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>Ke(o))}function G3(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function V3(t,e,n){return t&e^~t&n}function W3(t,e,n){return t&e^t&n^e&n}class q3 extends R0{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=zf(this.buffer)}update(e){Ta(this),e=Ud(e),Ii(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=zf(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ta(this),Wv(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Pa(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;G3(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=zf(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Zr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Q3=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xr=new Uint32Array(64);let K3=class extends q3{constructor(e=32){super(64,e,8,!1),this.A=Zr[0]|0,this.B=Zr[1]|0,this.C=Zr[2]|0,this.D=Zr[3]|0,this.E=Zr[4]|0,this.F=Zr[5]|0,this.G=Zr[6]|0,this.H=Zr[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Xr[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const p=Xr[d-15],f=Xr[d-2],m=kn(p,7)^kn(p,18)^p>>>3,h=kn(f,17)^kn(f,19)^f>>>10;Xr[d]=h+Xr[d-7]+m+Xr[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const p=kn(a,6)^kn(a,11)^kn(a,25),f=u+p+V3(a,c,l)+Q3[d]+Xr[d]|0,h=(kn(r,2)^kn(r,13)^kn(r,22))+W3(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+h|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Pa(Xr)}destroy(){this.set(0,0,0,0,0,0,0,0),Pa(this.buffer)}};const Px=qv(()=>new K3),J3=Px;function Y3(t,e){return J3(rr(t,{strict:!1})?Va(t):t)}function Z3(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=Y3(e);return s.set([n],0),r==="bytes"?s:Ke(s)}function X3(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const i of e)s.push(Z3({commitment:i,to:r,version:n}));return s}const cg=6,Cx=32,z0=4096,Sx=Cx*z0,lg=Sx*cg-1-1*z0*cg;class eB extends H{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class tB extends H{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function nB(t){const e=typeof t.data=="string"?sr(t.data):t.data,n=De(e);if(!n)throw new tB;if(n>lg)throw new eB({maxSize:lg,size:n});const r=[];let s=!0,i=0;for(;s;){const o=M0(new Uint8Array(Sx));let a=0;for(;a<z0;){const c=e.slice(i,i+(Cx-1));if(o.pushByte(0),o.pushBytes(c),c.length<31){o.pushByte(128),s=!1;break}a++,i+=31}r.push(o)}return r.map(o=>Ke(o.bytes))}function rB(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??nB({data:e}),i=t.commitments??Ex({blobs:s,kzg:n,to:r}),o=t.proofs??Tx({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function sB(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new b3({transaction:t})}async function Wi(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Pn(e)}const H0=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ug=new Map;async function Dl(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:l=H0,type:u}=e,d=n&&Fe(n),p={...e,...d?{from:d==null?void 0:d.address}:{}};let f;async function m(){return f||(f=await ne(t,Jn,"getBlock")({blockTag:"latest"}),f)}let h;async function y(){return h||(s?s.id:typeof e.chainId<"u"?e.chainId:(h=await ne(t,Wi,"getChainId")({}),h))}if(l.includes("nonce")&&typeof a>"u"&&d)if(c){const b=await y();p.nonce=await c.consume({address:d.address,chainId:b,client:t})}else p.nonce=await ne(t,$0,"getTransactionCount")({address:d.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&r&&o){const b=Ex({blobs:r,kzg:o});if(l.includes("blobVersionedHashes")){const E=X3({commitments:b,to:"hex"});p.blobVersionedHashes=E}if(l.includes("sidecars")){const E=Tx({blobs:r,commitments:b,kzg:o}),x=rB({blobs:r,commitments:b,proofs:E,to:"hex"});p.sidecars=x}}if(l.includes("chainId")&&(p.chainId=await y()),(l.includes("fees")||l.includes("type"))&&typeof u>"u")try{p.type=sB(p)}catch{let b=ug.get(t.uid);if(typeof b>"u"){const E=await m();b=typeof(E==null?void 0:E.baseFeePerGas)=="bigint",ug.set(t.uid,b)}p.type=b?"eip1559":"legacy"}if(l.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const b=await m(),{maxFeePerGas:E,maxPriorityFeePerGas:x}=await ih(t,{block:b,chain:s,request:p});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<x)throw new j3({maxPriorityFeePerGas:x});p.maxPriorityFeePerGas=x,p.maxFeePerGas=E}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new U0;if(typeof e.gasPrice>"u"){const b=await m(),{gasPrice:E}=await ih(t,{block:b,chain:s,request:p,type:"legacy"});p.gasPrice=E}}return l.includes("gas")&&typeof i>"u"&&(p.gas=await ne(t,G0,"estimateGas")({...p,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),Fs(p),delete p.parameters,p}async function G0(t,e){var o,a,c;const{account:n=t.account,prepare:r=!0}=e,s=n?Fe(n):void 0,i=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:l,authorizationList:u,blobs:d,blobVersionedHashes:p,blockNumber:f,blockTag:m,data:h,gas:y,gasPrice:b,maxFeePerBlobGas:E,maxFeePerGas:x,maxPriorityFeePerGas:A,nonce:T,value:P,stateOverride:S,...R}=r?await Dl(t,{...e,parameters:i}):e,F=(typeof f=="bigint"?re(f):void 0)||m,B=_0(S),D=await(async()=>{if(R.to)return R.to;if(u&&u.length>0)return await Hd({authorization:u[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`")})})();Fs(e);const $=(c=(a=(o=t.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,N=($||Vi)({...Ml(R,{format:$}),account:s,accessList:l,authorizationList:u,blobs:d,blobVersionedHashes:p,data:h,gas:y,gasPrice:b,maxFeePerBlobGas:E,maxFeePerGas:x,maxPriorityFeePerGas:A,nonce:T,to:D,value:P},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:B?[N,F??t.experimental_blockTag??"latest",B]:F?[N,F]:[N]}))}catch(l){throw M3(l,{...e,account:s,chain:t.chain})}}async function iB(t,e){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=e,c=Bt({abi:n,args:s,functionName:i});try{return await ne(t,G0,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(l){const u=a.account?Fe(a.account):void 0;throw Oi(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:u==null?void 0:u.address})}}function Ll(t,e){if(!rn(t,{strict:!1}))throw new Is({address:t});if(!rn(e,{strict:!1}))throw new Is({address:e});return t.toLowerCase()===e.toLowerCase()}const dg="/docs/contract/decodeEventLog";function Vd(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new WR({docsPath:dg});const c=e.find(h=>h.type==="event"&&o===jd(Tn(h)));if(!(c&&"name"in c)||c.type!=="event")throw new Uv(o,{docsPath:dg});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(h=>!("name"in h&&h.name)),p=d?[]:{},f=u.map((h,y)=>[h,y]).filter(([h])=>"indexed"in h&&h.indexed);for(let h=0;h<f.length;h++){const[y,b]=f[h],E=a[h];if(!E)throw new _d({abiItem:c,param:y});p[d?b:y.name||b]=oB({param:y,value:E})}const m=u.filter(h=>!("indexed"in h&&h.indexed));if(m.length>0){if(n&&n!=="0x")try{const h=Bl(m,n);if(h)if(d)for(let y=0;y<u.length;y++)p[y]=p[y]??h.shift();else for(let y=0;y<m.length;y++)p[m[y].name]=h[y]}catch(h){if(i)throw h instanceof Fv||h instanceof cx?new Sc({abiItem:c,data:n,params:m,size:De(n)}):h}else if(i)throw new Sc({abiItem:c,data:"0x",params:m,size:0})}return{eventName:l,args:Object.values(p).length>0?p:void 0}}function oB({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Bl([t],e)||[])[0]}function V0(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(u=>u.type==="event"&&o.topics[0]===jd(u));if(!c)return null;const l=Vd({...o,abi:[c],strict:s});return i&&!i.includes(l.eventName)||!aB({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,u;if(c instanceof Uv)return null;if(c instanceof Sc||c instanceof _d){if(s)return null;l=c.abiItem.name,u=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:l}}}).filter(Boolean)}function aB(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?Ll(o,a):i.type==="string"||i.type==="bytes"?it(Va(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,e[i])):!1}):!1}function $r(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function W0(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const l=c??!1,u=o??(i?[i]:void 0);let d=[];u&&(d=[u.flatMap(h=>Il({abi:[h],eventName:h.name,args:o?void 0:a}))],i&&(d=d[0]));let p;n?p=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):p=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?re(r):r,toBlock:typeof s=="bigint"?re(s):s}]});const f=p.map(m=>$r(m));return u?V0({abi:u,args:a,logs:f,strict:l}):f}async function Nx(t,e){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:l}=e,u=o?Gi({abi:n,name:o}):void 0,d=u?void 0:n.filter(p=>p.type==="event");return ne(t,W0,"getLogs")({address:r,args:s,blockHash:i,event:u,events:d,fromBlock:a,toBlock:c,strict:l})}const Vf="/docs/contract/decodeFunctionResult";function qi(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=Gi({abi:e,args:n,name:r});if(!a)throw new Aa(r,{docsPath:Vf});i=a}if(i.type!=="function")throw new Aa(void 0,{docsPath:Vf});if(!i.outputs)throw new jv(i.name,{docsPath:Vf});const o=Bl(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const q0=BigInt(0),oh=BigInt(1);function Fl(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Q0(t){if(!Fl(t))throw new Error("Uint8Array expected")}function Qc(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function ru(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Rx(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?q0:BigInt("0x"+t)}const Ix=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",cB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Kc(t){if(Q0(t),Ix)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=cB[t[n]];return e}const ur={_0:48,_9:57,A:65,F:70,a:97,f:102};function fg(t){if(t>=ur._0&&t<=ur._9)return t-ur._0;if(t>=ur.A&&t<=ur.F)return t-(ur.A-10);if(t>=ur.a&&t<=ur.f)return t-(ur.a-10)}function Wu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Ix)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=fg(t.charCodeAt(i)),a=fg(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Ti(t){return Rx(Kc(t))}function Bx(t){return Q0(t),Rx(Kc(Uint8Array.from(t).reverse()))}function _l(t,e){return Wu(t.toString(16).padStart(e*2,"0"))}function Ox(t,e){return _l(t,e).reverse()}function Yt(t,e,n){let r;if(typeof e=="string")try{r=Wu(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Fl(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function qu(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Q0(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const Wf=t=>typeof t=="bigint"&&q0<=t;function K0(t,e,n){return Wf(t)&&Wf(e)&&Wf(n)&&e<=t&&t<n}function No(t,e,n,r){if(!K0(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function lB(t){let e;for(e=0;t>q0;t>>=oh,e+=1);return e}const Wd=t=>(oh<<BigInt(t))-oh,qf=t=>new Uint8Array(t),pg=t=>Uint8Array.from(t);function uB(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=qf(t),s=qf(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=qf(0))=>{s=a(pg([0]),d),r=a(),d.length!==0&&(s=a(pg([1]),d),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const p=[];for(;d<e;){r=a();const f=r.slice();p.push(f),d+=r.length}return qu(...p)};return(d,p)=>{o(),c(d);let f;for(;!(f=p(l()));)c();return o(),f}}const dB={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Fl(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function qd(t,e,n={}){const r=(s,i,o)=>{const a=dB[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function hg(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const fB="0.1.1";function pB(){return fB}class me extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof me){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof me&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${pB()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return kx(this,e)}}function kx(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?kx(t.cause,e):e?null:t}function Ul(t,e){if(yo(t)>e)throw new IB({givenSize:yo(t),maxSize:e})}const dr={zero:48,nine:57,A:65,F:70,a:97,f:102};function mg(t){if(t>=dr.zero&&t<=dr.nine)return t-dr.zero;if(t>=dr.A&&t<=dr.F)return t-(dr.A-10);if(t>=dr.a&&t<=dr.f)return t-(dr.a-10)}function hB(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new BB({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=t[o?i:t.length-i-1]}return s}function Mx(t,e={}){const{dir:n="left"}=e;let r=t,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Qd(t,e){if(Gt(t)>e)throw new FB({givenSize:Gt(t),maxSize:e})}function mB(t,e){if(typeof e=="number"&&e>0&&e>Gt(t)-1)throw new Hx({offset:e,position:"start",size:Gt(t)})}function yB(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Gt(t)!==n-e)throw new Hx({offset:n,position:"end",size:Gt(t)})}function Dx(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new _B({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const gB="#__bigint";function Lx(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+gB:s,n)}const bB=new TextDecoder,wB=new TextEncoder;function vB(t){return t instanceof Uint8Array?t:typeof t=="string"?Fx(t):xB(t)}function xB(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Fx(t,e={}){const{size:n}=e;let r=t;n&&(Qd(t,n),r=Mi(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const l=mg(s.charCodeAt(c++)),u=mg(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new me(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=l*16+u}return o}function AB(t,e={}){const{size:n}=e,r=wB.encode(t);return typeof n=="number"?(Ul(r,n),EB(r,n)):r}function EB(t,e){return hB(t,{dir:"right",size:e})}function yo(t){return t.length}function TB(t,e,n,r={}){const{strict:s}=r;return t.slice(e,n)}function PB(t,e={}){const{size:n}=e;typeof n<"u"&&Ul(t,n);const r=Sn(t,e);return jx(r,e)}function CB(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Ul(r,n),r=_x(r)),r.length>1||r[0]>1)throw new RB(r);return!!r[0]}function Mr(t,e={}){const{size:n}=e;typeof n<"u"&&Ul(t,n);const r=Sn(t,e);return $x(r,e)}function SB(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Ul(r,n),r=NB(r)),bB.decode(r)}function _x(t){return Mx(t,{dir:"left"})}function NB(t){return Mx(t,{dir:"right"})}class RB extends me{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let IB=class extends me{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},BB=class extends me{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const OB=new TextEncoder,kB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function MB(t,e={}){const{strict:n=!1}=e;if(!t)throw new yg(t);if(typeof t!="string")throw new yg(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new gg(t);if(!t.startsWith("0x"))throw new gg(t)}function Cn(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function DB(t){return t instanceof Uint8Array?Sn(t):Array.isArray(t)?Sn(new Uint8Array(t)):t}function Ux(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Qd(n,e.size),ki(n,e.size)):n}function Sn(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=kB[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Qd(r,e.size),Mi(r,e.size)):r}function pt(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const l=typeof t=="bigint"?"n":"";throw new zx({max:i?`${i}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ki(c,r):c}function J0(t,e={}){return Sn(OB.encode(t),e)}function ki(t,e){return Dx(t,{dir:"left",size:e})}function Mi(t,e){return Dx(t,{dir:"right",size:e})}function Xn(t,e,n,r={}){const{strict:s}=r;mB(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&yB(i,e,n),i}function Gt(t){return Math.ceil((t.length-2)/2)}function jx(t,e={}){const{signed:n}=e;e.size&&Qd(t,e.size);const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function $x(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:jx(t,e))}function LB(t,e={}){const{strict:n=!1}=e;try{return MB(t,{strict:n}),!0}catch{return!1}}class zx extends me{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class yg extends me{constructor(e){super(`Value \`${typeof e=="object"?Lx(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class gg extends me{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class FB extends me{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Hx extends me{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class _B extends me{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function UB(t){return{address:t.address,amount:pt(t.amount),index:pt(t.index),validatorIndex:pt(t.validatorIndex)}}function Gx(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:pt(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:pt(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:pt(t.gasLimit)},...typeof t.number=="bigint"&&{number:pt(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:pt(t.prevRandao)},...typeof t.time=="bigint"&&{time:pt(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(UB)}}}const Qu=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],ah=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Vx=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Wx=[...Vx,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],jB=[...Vx,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],bg=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],wg=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],qx=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],vg=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Qf=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],$B="0x82ad56cb",Qx="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",zB="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",HB="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Y0="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class ch extends H{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class GB extends H{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class VB extends H{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class Kx extends H{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const Kf="/docs/contract/encodeDeployData";function Kd(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new $R({docsPath:Kf});if(!("inputs"in s))throw new Gy({docsPath:Kf});if(!s.inputs||s.inputs.length===0)throw new Gy({docsPath:Kf});const i=Hi(s.inputs,n);return Wa([r,i])}function qa({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new ch({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new ch({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Jx(t,{docsPath:e,...n}){const r=(()=>{const s=Gd(t,n);return s instanceof kl?t:s})();return new px(r,{docsPath:e,...n})}function Z0(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const Jf=new Map;function Yx({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:p})=>p);d.length!==0&&t(d).then(p=>{s&&Array.isArray(p)&&p.sort(s);for(let f=0;f<u.length;f++){const{resolve:m}=u[f];m==null||m([p[f],p])}}).catch(p=>{for(let f=0;f<u.length;f++){const{reject:m}=u[f];m==null||m(p)}})},o=()=>Jf.delete(e),a=()=>c().map(({args:u})=>u),c=()=>Jf.get(e)||[],l=u=>Jf.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:p,reject:f}=Z0();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:p,reject:f}),d):(l({args:u,resolve:p,reject:f}),setTimeout(i,r),d)}}}async function Jd(t,e){var $,z,N,I;const{account:n=t.account,authorizationList:r,batch:s=!!(($=t.batch)!=null&&$.multicall),blockNumber:i,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:p,factoryData:f,gas:m,gasPrice:h,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:x,to:A,value:T,stateOverride:P,...S}=e,R=n?Fe(n):void 0;if(u&&(p||f))throw new H("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&A)throw new H("Cannot provide both `code` & `to` as parameters.");const M=u&&d,F=p&&f&&A&&d,B=M||F,D=M?Zx({code:u,data:d}):F?QB({data:d,factory:p,factoryData:f,to:A}):d;try{Fs(e);const k=(typeof i=="bigint"?re(i):void 0)||o,L=l?Gx(l):void 0,G=_0(P),q=(I=(N=(z=t.chain)==null?void 0:z.formatters)==null?void 0:N.transactionRequest)==null?void 0:I.format,te=(q||Vi)({...Ml(S,{format:q}),accessList:a,account:R,authorizationList:r,blobs:c,data:D,gas:m,gasPrice:h,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:x,to:B?void 0:A,value:T},"call");if(s&&WB({request:te})&&!G&&!L)try{return await qB(t,{...te,blockNumber:i,blockTag:o})}catch(le){if(!(le instanceof Kx)&&!(le instanceof ch))throw le}const Q=(()=>{const le=[te,k];return G&&L?[...le,G,L]:G?[...le,G]:L?[...le,{},L]:le})(),se=await t.request({method:"eth_call",params:Q});return se==="0x"?{data:void 0}:{data:se}}catch(U){const k=KB(U),{offchainLookup:L,offchainLookupSignature:G}=await Ls(async()=>{const{offchainLookup:q,offchainLookupSignature:K}=await import("./ccip-BYK2usvF.js");return{offchainLookup:q,offchainLookupSignature:K}},__vite__mapDeps([0,1,2,3,4,5]));if(t.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===G&&A)return{data:await L(t,{data:k,to:A})};throw B&&(k==null?void 0:k.slice(0,10))==="0x101bb98d"?new E3({factory:p}):Jx(U,{...e,account:R,chain:t.chain})}}function WB({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith($B)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function qB(t,e){var h;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((h=t.batch)==null?void 0:h.multicall)=="object"?t.batch.multicall:{},{blockNumber:i,blockTag:o=t.experimental_blockTag??"latest",data:a,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return qa({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Kx})(),d=(typeof i=="bigint"?re(i):void 0)||o,{schedule:p}=Yx({id:`${t.uid}.${d}`,wait:s,shouldSplitBatch(y){return y.reduce((E,{data:x})=>E+(x.length-2),0)>n*2},fn:async y=>{const b=y.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),E=Bt({abi:Qu,args:[b],functionName:"aggregate3"}),x=await t.request({method:"eth_call",params:[{...l===null?{data:Zx({code:Y0,data:E})}:{to:l,data:E}},d]});return qi({abi:Qu,args:[b],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:f,success:m}]=await p({data:a,to:c});if(!m)throw new zd({data:f});return f==="0x"?{data:void 0}:{data:f}}function Zx(t){const{code:e,data:n}=t;return Kd({abi:Mv(["constructor(bytes, bytes)"]),bytecode:Qx,args:[e,n]})}function QB(t){const{data:e,factory:n,factoryData:r,to:s}=t;return Kd({abi:Mv(["constructor(address, bytes, address, bytes)"]),bytecode:zB,args:[s,e,n,r]})}function KB(t){var n;if(!(t instanceof H))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function Nn(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=Bt({abi:n,args:s,functionName:i});try{const{data:c}=await ne(t,Jd,"call")({...o,data:a,to:r});return qi({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Oi(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function JB(t,e){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=e,c=a.account?Fe(a.account):t.account,l=Bt({abi:n,args:s,functionName:o});try{const{data:u}=await ne(t,Jd,"call")({batch:!1,data:`${l}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=qi({abi:n,args:s,functionName:o,data:u||"0x"}),p=n.filter(f=>"name"in f&&f.name===e.functionName);return{result:d,request:{abi:p,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(u){throw Oi(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const Yf=new Map,xg=new Map;let YB=0;function zr(t,e,n){const r=++YB,s=()=>Yf.get(t)||[],i=()=>{const u=s();Yf.set(t,u.filter(d=>d.id!==r))},o=()=>{const u=s();if(!u.some(p=>p.id===r))return;const d=xg.get(t);if(u.length===1&&d){const p=d();p instanceof Promise&&p.catch(()=>{})}i()},a=s();if(Yf.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const u in e)c[u]=(...d)=>{var f,m;const p=s();if(p.length!==0)for(const h of p)(m=(f=h.fns)[u])==null||m.call(f,...d)};const l=n(c);return typeof l=="function"&&xg.set(t,l),o}async function lh(t){return new Promise(e=>setTimeout(e,t))}function Qa(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await lh(c);const l=async()=>{s&&(await t({unpoll:i}),await lh(r),l())};l()})(),i}const ZB=new Map,XB=new Map;function eO(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,ZB),r=e(t,XB);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function tO(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=eO(e),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const nO=t=>`blockNumber.${t}`;async function jl(t,{cacheTime:e=t.cacheTime}={}){const n=await tO(()=>t.request({method:"eth_blockNumber"}),{cacheKey:nO(t.uid),cacheTime:e});return BigInt(n)}async function Yd(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>$r(i));return!("abi"in e)||!e.abi?s:V0({abi:e.abi,logs:s,strict:n})}async function Zd(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function rO(t,e){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:d=t.pollingInterval,strict:p}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const y=p??!1,b=Qe(["watchContractEvent",r,s,i,t.uid,o,d,y,a]);return zr(b,{onLogs:l,onError:c},E=>{let x;a!==void 0&&(x=a-1n);let A,T=!1;const P=Qa(async()=>{var S;if(!T){try{A=await ne(t,ox,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:y,fromBlock:a})}catch{}T=!0;return}try{let R;if(A)R=await ne(t,Yd,"getFilterChanges")({filter:A});else{const M=await ne(t,jl,"getBlockNumber")({});x&&x<M?R=await ne(t,Nx,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:x+1n,toBlock:M,strict:y}):R=[],x=M}if(R.length===0)return;if(i)E.onLogs(R);else for(const M of R)E.onLogs([M])}catch(R){A&&R instanceof Bs&&(T=!1),(S=E.onError)==null||S.call(E,R)}},{emitOnBegin:!0,interval:d});return async()=>{A&&await ne(t,Zd,"uninstallFilter")({filter:A}),P()}})})():(()=>{const y=p??!1,b=Qe(["watchContractEvent",r,s,i,t.uid,o,d,y]);let E=!0,x=()=>E=!1;return zr(b,{onLogs:l,onError:c},A=>((async()=>{try{const T=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return R?R.value:t.transport}return t.transport})(),P=o?Il({abi:n,eventName:o,args:s}):[],{unsubscribe:S}=await T.subscribe({params:["logs",{address:r,topics:P}],onData(R){var F;if(!E)return;const M=R.result;try{const{eventName:B,args:D}=Vd({abi:n,data:M.data,topics:M.topics,strict:p}),$=$r(M,{args:D,eventName:B});A.onLogs([$])}catch(B){let D,$;if(B instanceof Sc||B instanceof _d){if(p)return;D=B.abiItem.name,$=(F=B.abiItem.inputs)==null?void 0:F.some(N=>!("name"in N&&N.name))}const z=$r(M,{args:$?[]:{},eventName:D});A.onLogs([z])}},onError(R){var M;(M=A.onError)==null||M.call(A,R)}});x=S,E||x()}catch(T){c==null||c(T)}})(),()=>x()))})()}class _s extends H{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Pi extends H{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function X0({chain:t,currentChainId:e}){if(!t)throw new VB;if(e!==t.id)throw new GB({chain:t,currentChainId:e})}function em(t,{docsPath:e,...n}){const r=(()=>{const s=Gd(t,n);return s instanceof kl?t:s})();return new w3(r,{docsPath:e,...n})}async function tm(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Zf=new Sl(128);async function Xd(t,e){var E,x,A,T;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:f,type:m,value:h,...y}=e;if(typeof n>"u")throw new _s({docsPath:"/docs/actions/wallet/sendTransaction"});const b=n?Fe(n):null;try{Fs(e);const P=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await Hd({authorization:i[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`.")})})();if((b==null?void 0:b.type)==="json-rpc"||b===null){let S;r!==null&&(S=await ne(t,Wi,"getChainId")({}),X0({currentChainId:S,chain:r}));const R=(A=(x=(E=t.chain)==null?void 0:E.formatters)==null?void 0:x.transactionRequest)==null?void 0:A.format,F=(R||Vi)({...Ml(y,{format:R}),accessList:s,account:b,authorizationList:i,blobs:o,chainId:S,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:f,to:P,type:m,value:h},"sendTransaction"),B=Zf.get(t.uid),D=B?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:D,params:[F]},{retryCount:0})}catch($){if(B===!1)throw $;const z=$;if(z.name==="InvalidInputRpcError"||z.name==="InvalidParamsRpcError"||z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[F]},{retryCount:0}).then(N=>(Zf.set(t.uid,!0),N)).catch(N=>{const I=N;throw I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError"?(Zf.set(t.uid,!1),z):I});throw z}}if((b==null?void 0:b.type)==="local"){const S=await ne(t,Dl,"prepareTransactionRequest")({account:b,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:f,nonceManager:b.nonceManager,parameters:[...H0,"sidecars"],type:m,value:h,...y,to:P}),R=(T=r==null?void 0:r.serializers)==null?void 0:T.transaction,M=await b.signTransaction(S,{serializer:R});return await ne(t,tm,"sendRawTransaction")({serializedTransaction:M})}throw(b==null?void 0:b.type)==="smart"?new Pi({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Pi({docsPath:"/docs/actions/wallet/sendTransaction",type:b==null?void 0:b.type})}catch(P){throw P instanceof Pi?P:em(P,{...e,account:b,chain:e.chain||void 0})}}async function Jc(t,e){return Jc.internal(t,Xd,"sendTransaction",e)}(function(t){async function e(n,r,s,i){const{abi:o,account:a=n.account,address:c,args:l,dataSuffix:u,functionName:d,...p}=i;if(typeof a>"u")throw new _s({docsPath:"/docs/contract/writeContract"});const f=a?Fe(a):null,m=Bt({abi:o,args:l,functionName:d});try{return await ne(n,r,s)({data:`${m}${u?u.replace("0x",""):""}`,to:c,account:f,...p})}catch(h){throw Oi(h,{abi:o,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:d,sender:f==null?void 0:f.address})}}t.internal=e})(Jc||(Jc={}));class sO extends H{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function Ku(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await lh(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}const Xx={"0x0":"reverted","0x1":"success"};function e6(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>$r(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Pn(t.transactionIndex):null,status:t.status?Xx[t.status]:null,type:t.type?wx[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const t6="0x5792579257925792579257925792579257925792579257925792579257925792",n6=re(0,{size:32});async function r6(t,e){const{account:n=t.account,capabilities:r,chain:s=t.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=e,u=n?Fe(n):null,d=e.calls.map(p=>{const f=p,m=f.abi?Bt({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&m?sn([m,f.dataSuffix]):m,to:f.to,value:f.value?re(f.value):void 0}});try{const p=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:re(s.id),from:u==null?void 0:u.address,id:c,version:l}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const f=p;if(i&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method")||f.details.toLowerCase().includes("feature toggled misconfigured")||f.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(E=>!E.optional)){const E="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Na(new H(E,{details:E}))}if(a&&d.length>1){const b="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ra(new H(b,{details:b}))}const m=[];for(const b of d){const E=Xd(t,{account:u,chain:s,data:b.data,to:b.to,value:b.value?Ht(b.value):void 0});m.push(E),o>0&&await new Promise(x=>setTimeout(x,o))}const h=await Promise.allSettled(m);if(h.every(b=>b.status==="rejected"))throw h[0].reason;const y=h.map(b=>b.status==="fulfilled"?b.value:n6);return{id:sn([...y,re(s.id,{size:32}),t6])}}throw em(p,{...e,account:u,chain:e.chain})}}async function s6(t,e){async function n(u){if(u.endsWith(t6.slice(2))){const p=Cs(qp(u,-64,-32)),f=qp(u,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(f.map(y=>n6.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),h=m.some(y=>y===null)?100:m.every(y=>(y==null?void 0:y.status)==="0x1")?200:m.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:Pn(p),receipts:m.filter(Boolean),status:h,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(e.id),[c,l]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:r,chainId:s?Pn(s):void 0,receipts:(i==null?void 0:i.map(u=>({...u,blockNumber:Ht(u.blockNumber),gasUsed:Ht(u.gasUsed),status:Xx[u.status]})))??[],statusCode:l,status:c,version:o}}async function i6(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:h})=>h===200||h>=300,retryCount:i=4,retryDelay:o=({count:h})=>~~(1<<h)*200,timeout:a=6e4,throwOnFailure:c=!1}=e,l=Qe(["waitForCallsStatus",t.uid,n]),{promise:u,resolve:d,reject:p}=Z0();let f;const m=zr(l,{resolve:d,reject:p},h=>{const y=Qa(async()=>{const b=E=>{clearTimeout(f),y(),E(),m()};try{const E=await Ku(async()=>{const x=await ne(t,s6,"getCallsStatus")({id:n});if(c&&x.status==="failure")throw new sO(x);return x},{retryCount:i,delay:o});if(!s(E))return;b(()=>h.resolve(E))}catch(E){b(()=>h.reject(E))}},{interval:r,emitOnBegin:!0});return y});return f=a?setTimeout(()=>{m(),clearTimeout(f),p(new iO({id:n}))},a):void 0,await u}class iO extends H{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const uh=256;let su=uh,iu;function o6(t=11){if(!iu||su+t>uh*2){iu="",su=0;for(let e=0;e<uh;e++)iu+=(256+Math.random()*256|0).toString(16).substring(1)}return iu.substring(su,su+++t)}function a6(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),u=t.pollingInterval??l,d=t.cacheTime??u,p=t.account?Fe(t.account):void 0,{config:f,request:m,value:h}=t.transport({account:p,chain:n,pollingInterval:u}),y={...f,...h},b={account:p,batch:e,cacheTime:d,ccipRead:r,chain:n,key:s,name:i,pollingInterval:u,request:m,transport:y,type:o,uid:o6(),...a?{experimental_blockTag:a}:{}};function E(x){return A=>{const T=A(x);for(const S in b)delete T[S];const P={...x,...T};return Object.assign(P,{extend:E(P)})}}return Object.assign(b,{extend:E(b)})}function nm(t){var n,r,s,i,o,a;if(!(t instanceof H))return!1;const e=t.walk(c=>c instanceof Jp);return e instanceof Jp?((n=e.data)==null?void 0:n.errorName)==="HttpError"||((r=e.data)==null?void 0:r.errorName)==="ResolverError"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotFound"||((o=e.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=e.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function oO(t){const{abi:e,data:n}=t,r=Ca(n,0,4),s=e.find(i=>i.type==="function"&&r===Rl(Tn(i)));if(!s)throw new qR(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Bl(s.inputs,Ca(n,4)):void 0}}const Xf="/docs/contract/encodeErrorResult";function Ag(t){const{abi:e,errorName:n,args:r}=t;let s=e[0];if(n){const c=Gi({abi:e,args:r,name:n});if(!c)throw new Vy(n,{docsPath:Xf});s=c}if(s.type!=="error")throw new Vy(void 0,{docsPath:Xf});const i=Tn(s),o=Rl(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new VR(s.name,{docsPath:Xf});a=Hi(s.inputs,r)}return Wa([o,a])}const ep="/docs/contract/encodeFunctionResult";function aO(t){const{abi:e,functionName:n,result:r}=t;let s=e[0];if(n){const o=Gi({abi:e,name:n});if(!o)throw new Aa(n,{docsPath:ep});s=o}if(s.type!=="function")throw new Aa(void 0,{docsPath:ep});if(!s.outputs)throw new jv(s.name,{docsPath:ep});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new $v(r)})();return Hi(s.outputs,i)}const ef="x-batch-gateway:true";async function cO(t){const{data:e,ccipRequest:n}=t,{args:[r]}=oO({abi:ah,data:e}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(ef)?await cO({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=lO(c)}})),aO({abi:ah,functionName:"query",result:[s,i]})}function lO(t){return t.name==="HttpRequestError"&&t.status?Ag({abi:ah,errorName:"HttpError",args:[t.status,t.shortMessage]}):Ag({abi:[ax],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function c6(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return rr(e)?e:null}function dh(t){let e=new Uint8Array(32).fill(0);if(!t)return Ke(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=c6(n[r]),i=s?Va(s):it(Ei(n[r]),"bytes");e=it(sn([e,i]),"bytes")}return Ke(e)}function uO(t){return`[${t.slice(2)}]`}function dO(t){const e=new Uint8Array(32).fill(0);return t?c6(t)||it(Ei(t)):Ke(e)}function rm(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Ei(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Ei(s[i]);o.byteLength>255&&(o=Ei(uO(dO(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function fO(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return qa({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(p=>i.endsWith(p)))return null;const d=s!=null?[dh(i),BigInt(s)]:[dh(i)];try{const p=Bt({abi:wg,functionName:"addr",args:d}),f={address:l,abi:Wx,functionName:"resolveWithGateways",args:[jr(rm(i)),p,o??[ef]],blockNumber:n,blockTag:r},h=await ne(t,Nn,"readContract")(f);if(h[0]==="0x")return null;const y=qi({abi:wg,args:d,functionName:"addr",data:h[0]});return y==="0x"||Cs(y)==="0x00"?null:y}catch(p){if(a)throw p;if(nm(p))return null;throw p}}class pO extends H{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class oc extends H{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class sm extends H{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class hO extends H{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const mO=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,yO=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,gO=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,bO=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function wO(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function Eg(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function l6({uri:t,gatewayUrls:e}){const n=gO.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=Eg(e==null?void 0:e.ipfs,"https://ipfs.io"),s=Eg(e==null?void 0:e.arweave,"https://arweave.net"),i=t.match(mO),{protocol:o,subpath:a,target:c,subtarget:l=""}=(i==null?void 0:i.groups)||{},u=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||yO.test(t);if(t.startsWith("http")&&!u&&!d){let f=t;return e!=null&&e.arweave&&(f=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let p=t.replace(bO,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new sm({uri:t})}function u6(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new pO({data:t});return t.image||t.image_url||t.image_data}async function vO({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await im({gatewayUrls:t,uri:u6(n)})}catch{throw new sm({uri:e})}}async function im({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=l6({uri:e,gatewayUrls:t});if(r||await wO(n))return n;throw new sm({uri:e})}function xO(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new oc({reason:"Only EIP-155 supported"});if(!o)throw new oc({reason:"Chain ID not found"});if(!c)throw new oc({reason:"Contract address not found"});if(!s)throw new oc({reason:"Token ID not found"});if(!a)throw new oc({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function AO(t,{nft:e}){if(e.namespace==="erc721")return Nn(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Nn(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new hO({namespace:e.namespace})}async function EO(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?TO(t,{gatewayUrls:e,record:n}):im({uri:n,gatewayUrls:e})}async function TO(t,{gatewayUrls:e,record:n}){const r=xO(n),s=await AO(t,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=l6({uri:s,gatewayUrls:e});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const l=a?atob(i.replace("data:application/json;base64,","")):i,u=JSON.parse(l);return im({uri:u6(u),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),vO({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,c)})}async function d6(t,e){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return qa({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(d=>i.endsWith(d)))return null;try{const d={address:l,abi:Wx,args:[jr(rm(i)),Bt({abi:bg,functionName:"text",args:[dh(i),s]}),o??[ef]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},f=await ne(t,Nn,"readContract")(d);if(f[0]==="0x")return null;const m=qi({abi:bg,functionName:"text",data:f[0]});return m===""?null:m}catch(d){if(a)throw d;if(nm(d))return null;throw d}}async function PO(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await ne(t,d6,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await EO(t,{record:c,gatewayUrls:r})}catch{return null}}async function CO(t,e){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return qa({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const u={address:l,abi:jB,args:[n,i,o??[ef]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=ne(t,Nn,"readContract"),[p]=await d(u);return p||null}catch(u){if(a)throw u;if(nm(u))return null;throw u}}async function SO(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:i}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return qa({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(l=>s.endsWith(l)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await ne(t,Nn,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[jr(rm(s))],blockNumber:n,blockTag:r});return c}async function f6(t,e){var y,b,E;const{account:n=t.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:p,value:f,...m}=e,h=n?Fe(n):void 0;try{Fs(e);const A=(typeof r=="bigint"?re(r):void 0)||s,T=(E=(b=(y=t.chain)==null?void 0:y.formatters)==null?void 0:b.transactionRequest)==null?void 0:E.format,S=(T||Vi)({...Ml(m,{format:T}),account:h,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:p,value:f},"createAccessList"),R=await t.request({method:"eth_createAccessList",params:[S,A]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(x){throw Jx(x,{...e,account:h,chain:t.chain})}}async function NO(t){const e=$d(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function p6(t,{address:e,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),l=$d(t,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(f=>Il({abi:[f],eventName:f.name,args:n}))],r&&(u=u[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?re(i):i,toBlock:typeof a=="bigint"?re(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:l(d),strict:!!o,toBlock:a,type:"event"}}async function h6(t){const e=$d(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function RO(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?re(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function IO(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function BO(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?re(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Pn(i)}async function fh(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?re(n):void 0,i=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(i!=="0x")return i}class OO extends H{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function kO(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[i,o,a,c,l,u,d]=await ne(t,Nn,"readContract")({abi:MO,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new OO({address:n}):o}}const MO=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function DO(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function LO(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?re(n):void 0,o=await t.request({method:"eth_feeHistory",params:[re(e),i||r,s]},{dedupe:!!i});return DO(o)}async function FO(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>$r(i));return e.abi?V0({abi:e.abi,logs:s,strict:n}):s}async function _O({address:t,authorization:e,signature:n}){return Ll(I0(t),await Hd({authorization:e,signature:n}))}const ou=new Sl(8192);function UO(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ou.get(n))return ou.get(n);const r=t().finally(()=>ou.delete(n));return ou.set(n,r),r}function jO(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new Zs(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new Zs(new Error("method not supported"),{method:l});const u=s?Ea(`${c}.${Qe(n)}`):void 0;return UO(()=>Ku(async()=>{try{return await t(n)}catch(p){const f=p;switch(f.code){case Ic.code:throw new Ic(f);case Bc.code:throw new Bc(f);case Oc.code:throw new Oc(f,{method:n.method});case kc.code:throw new kc(f);case Bi.code:throw new Bi(f);case Bs.code:throw new Bs(f);case Mc.code:throw new Mc(f);case Dc.code:throw new Dc(f);case Lc.code:throw new Lc(f);case Zs.code:throw new Zs(f,{method:n.method});case Sa.code:throw new Sa(f);case Fc.code:throw new Fc(f);case So.code:throw new So(f);case _c.code:throw new _c(f);case Uc.code:throw new Uc(f);case jc.code:throw new jc(f);case $c.code:throw new $c(f);case zc.code:throw new zc(f);case Na.code:throw new Na(f);case Hc.code:throw new Hc(f);case Gc.code:throw new Gc(f);case Vc.code:throw new Vc(f);case Wc.code:throw new Wc(f);case qc.code:throw new qc(f);case Ra.code:throw new Ra(f);case 5e3:throw new So(f);default:throw p instanceof H?p:new P3(f)}}},{delay:({count:p,error:f})=>{var m;if(f&&f instanceof bc){const h=(m=f==null?void 0:f.headers)==null?void 0:m.get("Retry-After");if(h!=null&&h.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<p)*o},retryCount:a,shouldRetry:({error:p})=>$O(p)}),{enabled:s,id:u})}}function $O(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Sa.code||t.code===Bi.code:t instanceof bc&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function zO(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function HO(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Tg=HO();function GO(t,e={}){return{async request(n){var p;const{body:r,fetchFn:s=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=n,c={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:u,signal:d}=c;try{const f=await zO(async({signal:h})=>{const y={...c,body:Array.isArray(r)?Qe(r.map(A=>({jsonrpc:"2.0",id:A.id??Tg.take(),...A}))):Qe({jsonrpc:"2.0",id:r.id??Tg.take(),...r}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:d||(a>0?h:null)},b=new Request(t,y),E=await(i==null?void 0:i(b,y))??{...y,url:t};return await s(E.url??t,E)},{errorInstance:new ig({body:r,url:t}),timeout:a,signal:!0});o&&await o(f);let m;if((p=f.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))m=await f.json();else{m=await f.text();try{m=JSON.parse(m||"{}")}catch(h){if(f.ok)throw h;m={error:m}}}if(!f.ok)throw new bc({body:r,details:Qe(m.error)||f.statusText,headers:f.headers,status:f.status,url:t});return m}catch(f){throw f instanceof bc||f instanceof ig?f:new bc({body:r,cause:f,url:t})}}}}const VO=`Ethereum Signed Message:
`;function WO(t){const e=typeof t=="string"?Ea(t):typeof t.raw=="string"?t.raw:Ke(t.raw),n=Ea(`${VO}${De(e)}`);return sn([n,e])}function m6(t,e){return it(WO(t),e)}class qO extends H{constructor({domain:e}){super(`Invalid domain "${Qe(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class QO extends H{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class KO extends H{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function JO(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(c,l)=>{const u={...l};for(const d of c){const{name:p,type:f}=d;f==="address"&&(u[p]=u[p].toLowerCase())}return u},o=s.EIP712Domain?e?i(s.EIP712Domain,e):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return Qe({domain:o,message:a,primaryType:r,types:s})}function y6(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:l,type:u}=c,d=a[l],p=u.match(sx);if(p&&(typeof d=="number"||typeof d=="bigint")){const[h,y,b]=p;re(d,{signed:y==="int",size:Number.parseInt(b,10)/8})}if(u==="address"&&typeof d=="string"&&!rn(d))throw new Is({address:d});const f=u.match($I);if(f){const[h,y]=f;if(y&&De(d)!==Number.parseInt(y,10))throw new KR({expectedSize:Number.parseInt(y,10),givenSize:De(d)})}const m=s[u];m&&(YO(u),i(m,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new qO({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new QO({primaryType:r,types:s})}function g6({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function YO(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new KO({type:t})}function ZO(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:g6({domain:e}),...t.types};y6({domain:e,message:n,primaryType:r,types:s});const i=["0x1901"];return e&&i.push(XO({domain:e,types:s})),r!=="EIP712Domain"&&i.push(b6({data:n,primaryType:r,types:s})),it(sn(i))}function XO({domain:t,types:e}){return b6({data:t,primaryType:"EIP712Domain",types:e})}function b6({data:t,primaryType:e,types:n}){const r=w6({data:t,primaryType:e,types:n});return it(r)}function w6({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[ek({primaryType:e,types:n})];for(const i of n[e]){const[o,a]=x6({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(o),s.push(a)}return Hi(r,s)}function ek({primaryType:t,types:e}){const n=jr(tk({primaryType:t,types:e}));return it(n)}function tk({primaryType:t,types:e}){let n="";const r=v6({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const i of s)n+=`${i}(${e[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function v6({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const i of e[s])v6({primaryType:i.type,types:e},n);return n}function x6({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},it(w6({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},it(r)];if(n==="string")return[{type:"bytes32"},it(jr(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>x6({name:e,type:s,types:t,value:o}));return[{type:"bytes32"},it(Hi(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}class nk extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const rk={checksum:new nk(8192)},tp=rk.checksum;function A6(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=Xv(vB(t));return n==="Bytes"?r:Sn(r)}const sk=/^0x[a-fA-F0-9]{40}$/;function tf(t,e={}){const{strict:n=!0}=e;if(!sk.test(t))throw new Pg({address:t,cause:new ik});if(n){if(t.toLowerCase()===t)return;if(E6(t)!==t)throw new Pg({address:t,cause:new ok})}}function E6(t){if(tp.has(t))return tp.get(t);tf(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=A6(AB(e),{as:"Bytes"}),r=e.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return tp.set(t,s),s}function ph(t,e={}){const{strict:n=!0}=e??{};try{return tf(t,{strict:n}),!0}catch{return!1}}class Pg extends me{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ik extends me{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class ok extends me{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const ak=/^(.*)\[([0-9]*)\]$/,ck=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,T6=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Cg=2n**256n-1n;function Ro(t,e,n){const{checksumAddress:r,staticPosition:s}=n,i=cm(e.type);if(i){const[o,a]=i;return uk(t,{...e,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(e.type==="tuple")return hk(t,e,{checksumAddress:r,staticPosition:s});if(e.type==="address")return lk(t,{checksum:r});if(e.type==="bool")return dk(t);if(e.type.startsWith("bytes"))return fk(t,e,{staticPosition:s});if(e.type.startsWith("uint")||e.type.startsWith("int"))return pk(t,e);if(e.type==="string")return mk(t,{staticPosition:s});throw new um(e.type)}const Sg=32,hh=32;function lk(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(i=>n?E6(i):i)(Sn(TB(r,-20))),32]}function uk(t,e,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=Mr(t.readBytes(hh)),l=i+c,u=l+Sg;t.setPosition(l);const d=Mr(t.readBytes(Sg)),p=Yc(e);let f=0;const m=[];for(let h=0;h<d;++h){t.setPosition(u+(p?h*32:f));const[y,b]=Ro(t,e,{checksumAddress:r,staticPosition:u});f+=b,m.push(y)}return t.setPosition(i+32),[m,32]}if(Yc(e)){const c=Mr(t.readBytes(hh)),l=i+c,u=[];for(let d=0;d<s;++d){t.setPosition(l+d*32);const[p]=Ro(t,e,{checksumAddress:r,staticPosition:l});u.push(p)}return t.setPosition(i+32),[u,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[l,u]=Ro(t,e,{checksumAddress:r,staticPosition:i+o});o+=u,a.push(l)}return[a,o]}function dk(t){return[CB(t.readBytes(32),{size:32}),32]}function fk(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=Mr(t.readBytes(32));t.setPosition(n+o);const a=Mr(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[Sn(c),32]}return[Sn(t.readBytes(Number.parseInt(s,10),32)),32]}function pk(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),s=t.readBytes(32);return[r>48?PB(s,{signed:n}):Mr(s,{signed:n}),32]}function hk(t,e,n){const{checksumAddress:r,staticPosition:s}=n,i=e.components.length===0||e.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(Yc(e)){const c=Mr(t.readBytes(hh)),l=s+c;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(l+a);const[p,f]=Ro(t,d,{checksumAddress:r,staticPosition:l});a+=f,o[i?u:d==null?void 0:d.name]=p}return t.setPosition(s+32),[o,32]}for(let c=0;c<e.components.length;++c){const l=e.components[c],[u,d]=Ro(t,l,{checksumAddress:r,staticPosition:s});o[i?c:l==null?void 0:l.name]=u,a+=d}return[o,a]}function mk(t,{staticPosition:e}){const n=Mr(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Mr(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=SB(_x(i));return t.setPosition(e+32),[o,32]}function yk({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(om({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function om({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=cm(r.type);if(s){const[i,o]=s;return bk(n,{checksumAddress:t,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return Ek(n,{checksumAddress:t,parameter:r});if(r.type==="address")return gk(n,{checksum:t});if(r.type==="bool")return vk(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=T6.exec(r.type)??[];return xk(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return wk(n,{type:r.type});if(r.type==="string")return Ak(n);throw new um(r.type)}function am(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Gt(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(pt(e+s,{size:32})),r.push(a),s+=Gt(a)):n.push(a)}return Cn(...n,...r)}function gk(t,e){const{checksum:n=!1}=e;return tf(t,{strict:n}),{dynamic:!1,encoded:ki(t.toLowerCase())}}function bk(t,e){const{checksumAddress:n,length:r,parameter:s}=e,i=r===null;if(!Array.isArray(t))throw new Ok(t);if(!i&&t.length!==r)throw new Bk({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const l=om({checksumAddress:n,parameter:s,value:t[c]});l.dynamic&&(o=!0),a.push(l)}if(i||o){const c=am(a);if(i){const l=pt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Cn(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Cn(...a.map(({encoded:c})=>c))}}function wk(t,{type:e}){const[,n]=e.split("bytes"),r=Gt(t);if(!n){let s=t;return r%32!==0&&(s=Mi(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Cn(ki(pt(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new C6({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Mi(t)}}function vk(t){if(typeof t!="boolean")throw new me(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ki(Ux(t))}}function xk(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new zx({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:pt(t,{size:32,signed:e})}}function Ak(t){const e=J0(t),n=Math.ceil(Gt(e)/32),r=[];for(let s=0;s<n;s++)r.push(Mi(Xn(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:Cn(Mi(pt(Gt(e),{size:32})),...r)}}function Ek(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,l=om({checksumAddress:n,parameter:a,value:t[c]});i.push(l),l.dynamic&&(s=!0)}return{dynamic:s,encoded:s?am(i):Cn(...i.map(({encoded:o})=>o))}}function cm(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Yc(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Yc);const n=cm(t.type);return!!(n&&Yc({...t,type:n[1]}))}const Tk={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Sk({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Ck({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Ng({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Ng({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Pk(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(Tk);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class Ng extends me{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Ck extends me{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Sk extends me{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Nk(t,e,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof e=="string"?Fx(e):e,o=Pk(i);if(yo(i)===0&&t.length>0)throw new Ik;if(yo(i)&&yo(i)<32)throw new Rk({data:typeof e=="string"?e:Sn(e),parameters:t,size:yo(i)});let a=0;const c=r==="Array"?[]:{};for(let l=0;l<t.length;++l){const u=t[l];o.setPosition(a);const[d,p]=Ro(o,u,{checksumAddress:s,staticPosition:0});a+=p,r==="Array"?c.push(d):c[u.name??l]=d}return c}function lm(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new S6({expectedLength:t.length,givenLength:e.length});const s=yk({checksumAddress:r,parameters:t,values:e}),i=am(s);return i.length===0?"0x":i}function mh(t,e){if(t.length!==e.length)throw new S6({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r];n.push(mh.encode(s,i))}return Cn(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const c=r;return tf(c),ki(c.toLowerCase(),s?32:0)}if(n==="string")return J0(r);if(n==="bytes")return r;if(n==="bool")return ki(Ux(r),s?32:1);const i=n.match(T6);if(i){const[c,l,u="256"]=i,d=Number.parseInt(u,10)/8;return pt(r,{size:s?32:d,signed:l==="int"})}const o=n.match(ck);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new C6({expectedSize:Number.parseInt(l,10),value:r});return Mi(r,s?32:0)}const a=n.match(ak);if(a&&Array.isArray(r)){const[c,l]=a,u=[];for(let d=0;d<r.length;d++)u.push(e(l,r[d],!0));return u.length===0?"0x":Cn(...u)}throw new um(n)}t.encode=e})(mh||(mh={}));function P6(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?Hy(t):t}class Rk extends me{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${uo(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Ik extends me{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Bk extends me{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class C6 extends me{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Gt(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class S6 extends me{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Ok extends me{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class um extends me{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let N6=class extends R0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,gI(e);const r=Ud(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Pa(i)}update(e){return Ta(this),this.iHash.update(e),this}digestInto(e){Ta(this),Ii(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const R6=(t,e,n)=>new N6(t,e).update(n).digest();R6.create=(t,e)=>new N6(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ct=BigInt(0),bt=BigInt(1),Xs=BigInt(2),kk=BigInt(3),I6=BigInt(4),B6=BigInt(5),O6=BigInt(8);function At(t,e){const n=t%e;return n>=Ct?n:e+n}function qt(t,e,n){let r=t;for(;e-- >Ct;)r*=r,r%=n;return r}function yh(t,e){if(t===Ct)throw new Error("invert: expected non-zero number");if(e<=Ct)throw new Error("invert: expected positive modulus, got "+e);let n=At(t,e),r=e,s=Ct,i=bt;for(;n!==Ct;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==bt)throw new Error("invert: does not exist");return At(s,e)}function k6(t,e){const n=(t.ORDER+bt)/I6,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Mk(t,e){const n=(t.ORDER-B6)/O6,r=t.mul(e,Xs),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Xs),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Dk(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-bt,n=0;for(;e%Xs===Ct;)e/=Xs,n++;let r=Xs;const s=dm(t);for(;Rg(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return k6;let i=s.pow(r,e);const o=(e+bt)/Xs;return function(c,l){if(c.is0(l))return l;if(Rg(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,i),p=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let m=1,h=c.sqr(p);for(;!c.eql(h,c.ONE);)if(m++,h=c.sqr(h),m===u)throw new Error("Cannot find square root");const y=bt<<BigInt(u-m-1),b=c.pow(d,y);u=m,d=c.sqr(b),p=c.mul(p,d),f=c.mul(f,b)}return f}}function Lk(t){return t%I6===kk?k6:t%O6===B6?Mk:Dk(t)}const Fk=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _k(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Fk.reduce((r,s)=>(r[s]="function",r),e);return qd(t,n)}function Uk(t,e,n){if(n<Ct)throw new Error("invalid exponent, negatives unsupported");if(n===Ct)return t.ONE;if(n===bt)return e;let r=t.ONE,s=e;for(;n>Ct;)n&bt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=bt;return r}function M6(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function Rg(t,e){const n=(t.ORDER-bt)/Xs,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function D6(t,e){e!==void 0&&Nc(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function dm(t,e,n=!1,r={}){if(t<=Ct)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=D6(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Wd(s),ZERO:Ct,ONE:bt,create:c=>At(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ct<=c&&c<t},is0:c=>c===Ct,isOdd:c=>(c&bt)===bt,neg:c=>At(-c,t),eql:(c,l)=>c===l,sqr:c=>At(c*c,t),add:(c,l)=>At(c+l,t),sub:(c,l)=>At(c-l,t),mul:(c,l)=>At(c*l,t),pow:(c,l)=>Uk(a,c,l),div:(c,l)=>At(c*yh(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>yh(c,t),sqrt:r.sqrt||(c=>(o||(o=Lk(t)),o(a,c))),toBytes:c=>n?Ox(c,i):_l(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Bx(c):Ti(c)},invertBatch:c=>M6(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function L6(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function F6(t){const e=L6(t);return e+Math.ceil(e/2)}function jk(t,e,n=!1){const r=t.length,s=L6(e),i=F6(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Bx(t):Ti(t),a=At(o,e-bt)+bt;return n?Ox(a,s):_l(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ig=BigInt(0),gh=BigInt(1);function np(t,e){const n=e.negate();return t?n:e}function _6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function rp(t,e){_6(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Wd(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Bg(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=gh);const l=e*r,u=l+Math.abs(a)-1,d=a===0,p=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:l}}function $k(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function zk(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const sp=new WeakMap,U6=new WeakMap;function ip(t){return U6.get(t)||1}function Hk(t,e){return{constTimeNegate:np,hasPrecomputes(n){return ip(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>Ig;)r&gh&&(s=s.add(i)),i=i.double(),r>>=gh;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=rp(r,e),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=rp(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:m}=Bg(s,c,a);s=l,d?o=o.add(np(f,r[m])):i=i.add(np(p,r[u]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=rp(n,e);for(let a=0;a<o.windows&&s!==Ig;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=Bg(s,a,o);if(s=c,!u){const p=r[l];i=i.add(d?p.negate():p)}}return i},getPrecomputes(n,r,s){let i=sp.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&sp.set(r,s(i))),i},wNAFCached(n,r,s){const i=ip(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=ip(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){_6(r,e),U6.set(n,r),sp.delete(n)}}}function Gk(t,e,n,r){$k(n,t),zk(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=lB(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Wd(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let p=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let h=0;h<i;h++){const y=r[h],b=Number(y>>BigInt(f)&l);u[b]=u[b].add(n[h])}let m=o;for(let h=u.length-1,y=o;h>0;h--)y=y.add(u[h]),m=m.add(y);if(p=p.add(m),f!==0)for(let h=0;h<c;h++)p=p.double()}return p}function j6(t){return _k(t.Fp),qd(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...D6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Og(t){t.lowS!==void 0&&Qc("lowS",t.lowS),t.prehash!==void 0&&Qc("prehash",t.prehash)}function Vk(t){const e=j6(t);qd(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Wk extends Error{constructor(e=""){super(e)}}const gr={Err:Wk,_tlv:{encode:(t,e)=>{const{Err:n}=gr;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=ru(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?ru(s.length/2|128):"";return ru(t)+i+s+e},decode(t,e){const{Err:n}=gr;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=gr;if(t<Ir)throw new e("integer: negative integers are not allowed");let n=ru(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=gr;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ti(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=gr,s=Yt("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=gr,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}};function op(t,e){return Kc(_l(t,e))}const Ir=BigInt(0),Ye=BigInt(1);BigInt(2);const ap=BigInt(3),qk=BigInt(4);function Qk(t){const e=Vk(t),{Fp:n}=e,r=dm(e.n,e.nBitLength),s=e.toBytes||((x,A,T)=>{const P=A.toAffine();return qu(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),i=e.fromBytes||(x=>{const A=x.subarray(1),T=n.fromBytes(A.subarray(0,n.BYTES)),P=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:T,y:P}});function o(x){const{a:A,b:T}=e,P=n.sqr(x),S=n.mul(P,x);return n.add(n.add(S,n.mul(x,A)),T)}function a(x,A){const T=n.sqr(A),P=o(x);return n.eql(T,P)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,ap),qk),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(x){return K0(x,Ye,e.n)}function d(x){const{allowedPrivateKeyLengths:A,nByteLength:T,wrapPrivateKey:P,n:S}=e;if(A&&typeof x!="bigint"){if(Fl(x)&&(x=Kc(x)),typeof x!="string"||!A.includes(x.length))throw new Error("invalid private key");x=x.padStart(T*2,"0")}let R;try{R=typeof x=="bigint"?x:Ti(Yt("private key",x,T))}catch{throw new Error("invalid private key, expected hex or "+T+" bytes, got "+typeof x)}return P&&(R=At(R,S)),No("private key",R,Ye,S),R}function p(x){if(!(x instanceof h))throw new Error("ProjectivePoint expected")}const f=hg((x,A)=>{const{px:T,py:P,pz:S}=x;if(n.eql(S,n.ONE))return{x:T,y:P};const R=x.is0();A==null&&(A=R?n.ONE:n.inv(S));const M=n.mul(T,A),F=n.mul(P,A),B=n.mul(S,A);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:M,y:F}}),m=hg(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:A,y:T}=x.toAffine();if(!n.isValid(A)||!n.isValid(T))throw new Error("bad point: x or y not FE");if(!a(A,T))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(A,T,P){if(A==null||!n.isValid(A))throw new Error("x required");if(T==null||!n.isValid(T)||n.is0(T))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=A,this.py=T,this.pz=P,Object.freeze(this)}static fromAffine(A){const{x:T,y:P}=A||{};if(!A||!n.isValid(T)||!n.isValid(P))throw new Error("invalid affine point");if(A instanceof h)throw new Error("projective point not allowed");const S=R=>n.eql(R,n.ZERO);return S(T)&&S(P)?h.ZERO:new h(T,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const T=M6(n,A.map(P=>P.pz));return A.map((P,S)=>P.toAffine(T[S])).map(h.fromAffine)}static fromHex(A){const T=h.fromAffine(i(Yt("pointHex",A)));return T.assertValidity(),T}static fromPrivateKey(A){return h.BASE.multiply(d(A))}static msm(A,T){return Gk(h,r,A,T)}_setWindowSize(A){E.setWindowSize(this,A)}assertValidity(){m(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){p(A);const{px:T,py:P,pz:S}=this,{px:R,py:M,pz:F}=A,B=n.eql(n.mul(T,F),n.mul(R,S)),D=n.eql(n.mul(P,F),n.mul(M,S));return B&&D}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:T}=e,P=n.mul(T,ap),{px:S,py:R,pz:M}=this;let F=n.ZERO,B=n.ZERO,D=n.ZERO,$=n.mul(S,S),z=n.mul(R,R),N=n.mul(M,M),I=n.mul(S,R);return I=n.add(I,I),D=n.mul(S,M),D=n.add(D,D),F=n.mul(A,D),B=n.mul(P,N),B=n.add(F,B),F=n.sub(z,B),B=n.add(z,B),B=n.mul(F,B),F=n.mul(I,F),D=n.mul(P,D),N=n.mul(A,N),I=n.sub($,N),I=n.mul(A,I),I=n.add(I,D),D=n.add($,$),$=n.add(D,$),$=n.add($,N),$=n.mul($,I),B=n.add(B,$),N=n.mul(R,M),N=n.add(N,N),$=n.mul(N,I),F=n.sub(F,$),D=n.mul(N,z),D=n.add(D,D),D=n.add(D,D),new h(F,B,D)}add(A){p(A);const{px:T,py:P,pz:S}=this,{px:R,py:M,pz:F}=A;let B=n.ZERO,D=n.ZERO,$=n.ZERO;const z=e.a,N=n.mul(e.b,ap);let I=n.mul(T,R),U=n.mul(P,M),k=n.mul(S,F),L=n.add(T,P),G=n.add(R,M);L=n.mul(L,G),G=n.add(I,U),L=n.sub(L,G),G=n.add(T,S);let q=n.add(R,F);return G=n.mul(G,q),q=n.add(I,k),G=n.sub(G,q),q=n.add(P,S),B=n.add(M,F),q=n.mul(q,B),B=n.add(U,k),q=n.sub(q,B),$=n.mul(z,G),B=n.mul(N,k),$=n.add(B,$),B=n.sub(U,$),$=n.add(U,$),D=n.mul(B,$),U=n.add(I,I),U=n.add(U,I),k=n.mul(z,k),G=n.mul(N,G),U=n.add(U,k),k=n.sub(I,k),k=n.mul(z,k),G=n.add(G,k),I=n.mul(U,G),D=n.add(D,I),I=n.mul(q,G),B=n.mul(L,B),B=n.sub(B,I),I=n.mul(L,U),$=n.mul(q,$),$=n.add($,I),new h(B,D,$)}subtract(A){return this.add(A.negate())}is0(){return this.equals(h.ZERO)}wNAF(A){return E.wNAFCached(this,A,h.normalizeZ)}multiplyUnsafe(A){const{endo:T,n:P}=e;No("scalar",A,Ir,P);const S=h.ZERO;if(A===Ir)return S;if(this.is0()||A===Ye)return this;if(!T||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,A,h.normalizeZ);let{k1neg:R,k1:M,k2neg:F,k2:B}=T.splitScalar(A),D=S,$=S,z=this;for(;M>Ir||B>Ir;)M&Ye&&(D=D.add(z)),B&Ye&&($=$.add(z)),z=z.double(),M>>=Ye,B>>=Ye;return R&&(D=D.negate()),F&&($=$.negate()),$=new h(n.mul($.px,T.beta),$.py,$.pz),D.add($)}multiply(A){const{endo:T,n:P}=e;No("scalar",A,Ye,P);let S,R;if(T){const{k1neg:M,k1:F,k2neg:B,k2:D}=T.splitScalar(A);let{p:$,f:z}=this.wNAF(F),{p:N,f:I}=this.wNAF(D);$=E.constTimeNegate(M,$),N=E.constTimeNegate(B,N),N=new h(n.mul(N.px,T.beta),N.py,N.pz),S=$.add(N),R=z.add(I)}else{const{p:M,f:F}=this.wNAF(A);S=M,R=F}return h.normalizeZ([S,R])[0]}multiplyAndAddUnsafe(A,T,P){const S=h.BASE,R=(F,B)=>B===Ir||B===Ye||!F.equals(S)?F.multiplyUnsafe(B):F.multiply(B),M=R(this,T).add(R(A,P));return M.is0()?void 0:M}toAffine(A){return f(this,A)}isTorsionFree(){const{h:A,isTorsionFree:T}=e;if(A===Ye)return!0;if(T)return T(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:T}=e;return A===Ye?this:T?T(h,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return Qc("isCompressed",A),this.assertValidity(),s(h,this,A)}toHex(A=!0){return Qc("isCompressed",A),Kc(this.toRawBytes(A))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:b}=e,E=Hk(h,y?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function Kk(t){const e=j6(t);return qd(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Jk(t){const e=Kk(t),{Fp:n,n:r,nByteLength:s,nBitLength:i}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(N){return At(N,r)}function l(N){return yh(N,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:f}=Qk({...e,toBytes(N,I,U){const k=I.toAffine(),L=n.toBytes(k.x),G=qu;return Qc("isCompressed",U),U?G(Uint8Array.from([I.hasEvenY()?2:3]),L):G(Uint8Array.from([4]),L,n.toBytes(k.y))},fromBytes(N){const I=N.length,U=N[0],k=N.subarray(1);if(I===o&&(U===2||U===3)){const L=Ti(k);if(!K0(L,Ye,n.ORDER))throw new Error("Point is not on curve");const G=p(L);let q;try{q=n.sqrt(G)}catch(Q){const se=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+se)}const K=(q&Ye)===Ye;return(U&1)===1!==K&&(q=n.neg(q)),{x:L,y:q}}else if(I===a&&U===4){const L=n.fromBytes(k.subarray(0,n.BYTES)),G=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:L,y:G}}else{const L=o,G=a;throw new Error("invalid Point, expected length of "+L+", or uncompressed "+G+", got "+I)}}});function m(N){const I=r>>Ye;return N>I}function h(N){return m(N)?c(-N):N}const y=(N,I,U)=>Ti(N.slice(I,U));class b{constructor(I,U,k){No("r",I,Ye,r),No("s",U,Ye,r),this.r=I,this.s=U,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(I){const U=s;return I=Yt("compactSignature",I,U*2),new b(y(I,0,U),y(I,U,2*U))}static fromDER(I){const{r:U,s:k}=gr.toSig(Yt("DER",I));return new b(U,k)}assertValidity(){}addRecoveryBit(I){return new b(this.r,this.s,I)}recoverPublicKey(I){const{r:U,s:k,recovery:L}=this,G=S(Yt("msgHash",I));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const q=L===2||L===3?U+e.n:U;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=L&1?"03":"02",te=u.fromHex(K+op(q,n.BYTES)),Q=l(q),se=c(-G*Q),le=c(k*Q),ie=u.BASE.multiplyAndAddUnsafe(te,se,le);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Wu(this.toDERHex())}toDERHex(){return gr.hexFromSig(this)}toCompactRawBytes(){return Wu(this.toCompactHex())}toCompactHex(){const I=s;return op(this.r,I)+op(this.s,I)}}const E={isValidPrivateKey(N){try{return d(N),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const N=F6(e.n);return jk(e.randomBytes(N),e.n)},precompute(N=8,I=u.BASE){return I._setWindowSize(N),I.multiply(BigInt(3)),I}};function x(N,I=!0){return u.fromPrivateKey(N).toRawBytes(I)}function A(N){if(typeof N=="bigint")return!1;if(N instanceof u)return!0;const U=Yt("key",N).length,k=n.BYTES,L=k+1,G=2*k+1;if(!(e.allowedPrivateKeyLengths||s===L))return U===L||U===G}function T(N,I,U=!0){if(A(N)===!0)throw new Error("first arg must be private key");if(A(I)===!1)throw new Error("second arg must be public key");return u.fromHex(I).multiply(d(N)).toRawBytes(U)}const P=e.bits2int||function(N){if(N.length>8192)throw new Error("input is too large");const I=Ti(N),U=N.length*8-i;return U>0?I>>BigInt(U):I},S=e.bits2int_modN||function(N){return c(P(N))},R=Wd(i);function M(N){return No("num < 2^"+i,N,Ir,R),_l(N,s)}function F(N,I,U=B){if(["recovered","canonical"].some(Te=>Te in U))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:L}=e;let{lowS:G,prehash:q,extraEntropy:K}=U;G==null&&(G=!0),N=Yt("msgHash",N),Og(U),q&&(N=Yt("prehashed msgHash",k(N)));const te=S(N),Q=d(I),se=[M(Q),M(te)];if(K!=null&&K!==!1){const Te=K===!0?L(n.BYTES):K;se.push(Yt("extraEntropy",Te))}const le=qu(...se),ie=te;function Ce(Te){const Re=P(Te);if(!f(Re))return;const ze=l(Re),Ie=u.BASE.multiply(Re).toAffine(),Y=c(Ie.x);if(Y===Ir)return;const ae=c(ze*c(ie+Y*Q));if(ae===Ir)return;let He=(Ie.x===Y?0:2)|Number(Ie.y&Ye),_e=ae;return G&&m(ae)&&(_e=h(ae),He^=1),new b(Y,_e,He)}return{seed:le,k2sig:Ce}}const B={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function $(N,I,U=B){const{seed:k,k2sig:L}=F(N,I,U),G=e;return uB(G.hash.outputLen,G.nByteLength,G.hmac)(k,L)}u.BASE._setWindowSize(8);function z(N,I,U,k=D){var He;const L=N;I=Yt("msgHash",I),U=Yt("publicKey",U);const{lowS:G,prehash:q,format:K}=k;if(Og(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");const te=typeof L=="string"||Fl(L),Q=!te&&!K&&typeof L=="object"&&L!==null&&typeof L.r=="bigint"&&typeof L.s=="bigint";if(!te&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let se,le;try{if(Q&&(se=new b(L.r,L.s)),te){try{K!=="compact"&&(se=b.fromDER(L))}catch(_e){if(!(_e instanceof gr.Err))throw _e}!se&&K!=="der"&&(se=b.fromCompact(L))}le=u.fromHex(U)}catch{return!1}if(!se||G&&se.hasHighS())return!1;q&&(I=e.hash(I));const{r:ie,s:Ce}=se,Te=S(I),Re=l(Ce),ze=c(Te*Re),Ie=c(ie*Re),Y=(He=u.BASE.multiplyAndAddUnsafe(le,ze,Ie))==null?void 0:He.toAffine();return Y?c(Y.x)===ie:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:T,sign:$,verify:z,ProjectivePoint:u,Signature:b,utils:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Yk(t){return{hash:t,hmac:(e,...n)=>R6(t,e,EI(...n)),randomBytes:TI}}function Zk(t,e){const n=r=>Jk({...t,...Yk(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $6=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),kg=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Xk=BigInt(0),e4=BigInt(1),bh=BigInt(2),Mg=(t,e)=>(t+e/bh)/e;function t4(t){const e=$6,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=qt(u,n,e)*u%e,p=qt(d,n,e)*u%e,f=qt(p,bh,e)*l%e,m=qt(f,s,e)*f%e,h=qt(m,i,e)*m%e,y=qt(h,a,e)*h%e,b=qt(y,c,e)*y%e,E=qt(b,a,e)*h%e,x=qt(E,n,e)*u%e,A=qt(x,o,e)*m%e,T=qt(A,r,e)*l%e,P=qt(T,bh,e);if(!wh.eql(wh.sqr(P),t))throw new Error("Cannot find square root");return P}const wh=dm($6,void 0,void 0,{sqrt:t4}),z6=Zk({a:Xk,b:BigInt(7),Fp:wh,n:kg,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=kg,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-e4*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=Mg(i*t,e),c=Mg(-r*t,e);let l=At(t-a*n-c*s,e),u=At(-a*r-c*i,e);const d=l>o,p=u>o;if(d&&(l=e-l),p&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:p,k2:u}}}},Px),n4=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:z6},Symbol.toStringTag,{value:"Module"}));function H6(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new cp({signature:t});if(typeof t.s>"u")throw new cp({signature:t});if(n&&typeof t.yParity>"u")throw new cp({signature:t});if(t.r<0n||t.r>Cg)throw new l4({value:t.r});if(t.s<0n||t.s>Cg)throw new u4({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new pm({value:t.yParity})}function r4(t){return G6(Sn(t))}function G6(t){if(t.length!==130&&t.length!==132)throw new c4({signature:t});const e=BigInt(Xn(t,0,32)),n=BigInt(Xn(t,32,64)),r=(()=>{const s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return fm(s)}catch{throw new pm({value:s})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function s4(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return i4(t)}function i4(t){const e=typeof t=="string"?G6(t):t instanceof Uint8Array?r4(t):typeof t.r=="string"?a4(t):t.v?o4(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return H6(e),e}function o4(t){return{r:t.r,s:t.s,yParity:fm(t.v)}}function a4(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=fm(n)),typeof r!="number")throw new pm({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function fm(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new d4({value:t})}class c4 extends me{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Gt(DB(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class cp extends me{constructor({signature:e}){super(`Signature \`${Lx(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class l4 extends me{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class u4 extends me{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class pm extends me{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class d4 extends me{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function f4(t,e={}){return typeof t.chainId=="string"?p4(t):{...t,...e.signature}}function p4(t){const{address:e,chainId:n,nonce:r}=t,s=s4(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...s}}const h4="0x8010801080108010801080108010801080108010801080108010801080108010",m4=P6("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function V6(t){if(typeof t=="string"){if(Xn(t,-32)!==h4)throw new b4(t)}else H6(t.authorization)}function y4(t){V6(t);const e=$x(Xn(t,-64,-32)),n=Xn(t,-e-64,-64),r=Xn(t,0,-e-64),[s,i,o]=Nk(m4,n);return{authorization:f4({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function g4(t){try{return V6(t),!0}catch{return!1}}let b4=class extends me{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class w4 extends H{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function v4(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new w4({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}function x4(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function A4(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Pn(t.nonce):void 0,storageProof:t.storageProof?x4(t.storageProof):void 0}}async function E4(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?re(n):void 0,a=await t.request({method:"eth_getProof",params:[e,s,o||i]});return A4(a)}async function T4(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?re(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,i||r]})}async function hm(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i,sender:o,nonce:a}){var p,f,m;const c=r||"latest",l=n!==void 0?re(n):void 0;let u=null;if(s?u=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,re(i)]},{dedupe:!0}):typeof i=="number"?u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,re(i)]},{dedupe:!!l}):o&&typeof a=="number"&&(u=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[o,re(a)]},{dedupe:!0})),!u)throw new ux({blockHash:e,blockNumber:n,blockTag:c,hash:s,index:i});return(((m=(f=(p=t.chain)==null?void 0:p.formatters)==null?void 0:f.transaction)==null?void 0:m.format)||vx)(u,"getTransaction")}async function P4(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([ne(t,jl,"getBlockNumber")({}),e?ne(t,hm,"getTransaction")({hash:e}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function Eu(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new dx({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||e6)(n,"getTransactionReceipt")}async function C4(t,e){var E;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=e,l=e.contracts,{batchSize:u=e.batchSize??1024,deployless:d=e.deployless??!1}=typeof((E=t.batch)==null?void 0:E.multicall)=="object"?t.batch.multicall:{},p=(()=>{if(e.multicallAddress)return e.multicallAddress;if(d)return null;if(t.chain)return qa({blockNumber:i,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),f=[[]];let m=0,h=0;for(let x=0;x<l.length;x++){const{abi:A,address:T,args:P,functionName:S}=l[x];try{const R=Bt({abi:A,args:P,functionName:S});h+=(R.length-2)/2,u>0&&h>u&&f[m].length>0&&(m++,h=(R.length-2)/2,f[m]=[]),f[m]=[...f[m],{allowFailure:!0,callData:R,target:T}]}catch(R){const M=Oi(R,{abi:A,address:T,args:P,docsPath:"/docs/contract/multicall",functionName:S,sender:n});if(!s)throw M;f[m]=[...f[m],{allowFailure:!0,callData:"0x",target:T}]}}const y=await Promise.allSettled(f.map(x=>ne(t,Nn,"readContract")({...p===null?{code:Y0}:{address:p},abi:Qu,account:n,args:[x],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),b=[];for(let x=0;x<y.length;x++){const A=y[x];if(A.status==="rejected"){if(!s)throw A.reason;for(let P=0;P<f[x].length;P++)b.push({status:"failure",error:A.reason,result:void 0});continue}const T=A.value;for(let P=0;P<T.length;P++){const{returnData:S,success:R}=T[P],{callData:M}=f[x][P],{abi:F,address:B,functionName:D,args:$}=l[b.length];try{if(M==="0x")throw new Cl;if(!R)throw new zd({data:S});const z=qi({abi:F,args:$,data:S,functionName:D});b.push(s?{result:z,status:"success"}:z)}catch(z){const N=Oi(z,{abi:F,address:B,args:$,docsPath:"/docs/contract/multicall",functionName:D});if(!s)throw N;b.push({error:N,result:void 0,status:"failure"})}}}if(b.length!==l.length)throw new H("multicall results mismatch");return b}async function vh(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=e;try{const c=[];for(const p of s){const f=p.blockOverrides?Gx(p.blockOverrides):void 0,m=p.calls.map(y=>{const b=y,E=b.account?Fe(b.account):void 0,x=b.abi?Bt(b):b.data,A={...b,account:E,data:b.dataSuffix?sn([x||"0x",b.dataSuffix]):x,from:b.from??(E==null?void 0:E.address)};return Fs(A),Vi(A)}),h=p.stateOverrides?_0(p.stateOverrides):void 0;c.push({blockOverrides:f,calls:m,stateOverrides:h})}const u=(typeof n=="bigint"?re(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},u]})).map((p,f)=>({...xx(p),calls:p.calls.map((m,h)=>{var F,B;const{abi:y,args:b,functionName:E,to:x}=s[f].calls[h],A=((F=m.error)==null?void 0:F.data)??m.returnData,T=BigInt(m.gasUsed),P=(B=m.logs)==null?void 0:B.map(D=>$r(D)),S=m.status==="0x1"?"success":"failure",R=y&&S==="success"&&A!=="0x"?qi({abi:y,data:A,functionName:E}):null,M=(()=>{var $;if(S==="success")return;let D;if((($=m.error)==null?void 0:$.data)==="0x"?D=new Cl:m.error&&(D=new zd(m.error)),!!D)return Oi(D,{abi:y??[],address:x??"0x",args:b,functionName:E??"<unknown>"})})();return{data:A,gasUsed:T,logs:P,status:S,...S==="success"?{result:R}:{error:M}}})}))}catch(c){const l=c,u=Gd(l,{});throw u instanceof kl?l:u}}function xh(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new me("Unable to normalize signature.");return s}function Ah(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ph(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>Ah(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Ah(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function W6(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return W6(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ph(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ph(n[r],{strict:!1}):!1)return o}}function q6(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?zy(t):t;return{...r,...n?{hash:go(r)}:{}}}function nf(t,e,n){const{args:r=[],prepare:s=!0}=n??{},i=LB(e,{strict:!1}),o=t.filter(l=>i?l.type==="function"||l.type==="error"?Q6(l)===Xn(e,0,4):l.type==="event"?go(l)===e:!1:"name"in l&&l.name===e);if(o.length===0)throw new Ju({name:e});if(o.length===1)return{...o[0],...s?{hash:go(o[0])}:{}};let a;for(const l of o){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...s?{hash:go(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((d,p)=>{const f="inputs"in l&&l.inputs[p];return f?Ah(d,f):!1})){if(a&&"inputs"in a&&a.inputs){const d=W6(l.inputs,a.inputs,r);if(d)throw new N4({abiItem:l,type:d[0]},{abiItem:a,type:d[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...u]=o;return{...l,overloads:u}})();if(!c)throw new Ju({name:e});return{...c,...s?{hash:go(c)}:{}}}function Q6(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return nf(n,r)}return t[0]})();return Xn(go(e),0,4)}function S4(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,s]=t;return nf(r,s)}return t[0]})(),n=typeof e=="string"?e:Hu(e);return xh(n)}function go(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return nf(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:A6(J0(S4(e)))}class N4 extends me{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${xh(Hu(e.abiItem))}\`, and`,`\`${n.type}\` in \`${xh(Hu(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Ju extends me{constructor({name:e,data:n,type:r="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function R4(...t){var i;const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[B4(o),a]}return t})(),{bytecode:r,args:s}=n;return Cn(r,(i=e.inputs)!=null&&i.length&&(s!=null&&s.length)?lm(e.inputs,s):"0x")}function I4(t){return q6(t)}function B4(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new Ju({name:"constructor"});return e}function O4(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[l,u,d]=t;return[Dg(l,u,{args:d}),d]}const[a,c]=t;return[a,c]})(),{overloads:r}=e,s=r?Dg([e,...r],e.name,{args:n}):e,i=k4(s),o=n.length>0?lm(s.inputs,n):void 0;return o?Cn(i,o):i}function oo(t,e={}){return q6(t,e)}function Dg(t,e,n){const r=nf(t,e,n);if(r.type!=="function")throw new Ju({name:e,type:"function"});return r}function k4(t){return Q6(t)}const M4="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Mn="0x0000000000000000000000000000000000000000",D4="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function L4(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=e,l=e.account?Fe(e.account):void 0;if(o&&!l)throw new H("`account` is required when `traceAssetChanges` is true");const u=l?R4(I4("constructor(bytes, bytes)"),{bytecode:Qx,args:[D4,O4(oo("function getBalance(address)"),[l.address])]}):void 0,d=o?await Promise.all(e.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:L}=await f6(t,{account:l.address,...k,data:k.abi?Bt(k):k.data});return L.map(({address:G,storageKeys:q})=>q.length>0?G:null)})).then(k=>k.flat().filter(Boolean)):[],p=await vh(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:u}],stateOverrides:i},{calls:d.map((k,L)=>({abi:[oo("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:k,from:Mn,nonce:L})),stateOverrides:[{address:Mn,nonce:0}]}]:[],{calls:[...s,{}].map(k=>({...k,from:l==null?void 0:l.address})),stateOverrides:i},...o?[{calls:[{data:u}]},{calls:d.map((k,L)=>({abi:[oo("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:k,from:Mn,nonce:L})),stateOverrides:[{address:Mn,nonce:0}]},{calls:d.map((k,L)=>({to:k,abi:[oo("function decimals() returns (uint256)")],functionName:"decimals",from:Mn,nonce:L})),stateOverrides:[{address:Mn,nonce:0}]},{calls:d.map((k,L)=>({to:k,abi:[oo("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Mn,nonce:L})),stateOverrides:[{address:Mn,nonce:0}]},{calls:d.map((k,L)=>({to:k,abi:[oo("function symbol() returns (string)")],functionName:"symbol",from:Mn,nonce:L})),stateOverrides:[{address:Mn,nonce:0}]}]:[]],traceTransfers:a,validation:c}),f=o?p[2]:p[0],[m,h,,y,b,E,x,A]=o?p:[],{calls:T,...P}=f,S=T.slice(0,-1)??[],R=(m==null?void 0:m.calls)??[],M=(h==null?void 0:h.calls)??[],F=[...R,...M].map(k=>k.status==="success"?Ht(k.data):null),B=(y==null?void 0:y.calls)??[],D=(b==null?void 0:b.calls)??[],$=[...B,...D].map(k=>k.status==="success"?Ht(k.data):null),z=((E==null?void 0:E.calls)??[]).map(k=>k.status==="success"?k.result:null),N=((A==null?void 0:A.calls)??[]).map(k=>k.status==="success"?k.result:null),I=((x==null?void 0:x.calls)??[]).map(k=>k.status==="success"?k.result:null),U=[];for(const[k,L]of $.entries()){const G=F[k];if(typeof L!="bigint"||typeof G!="bigint")continue;const q=z[k-1],K=N[k-1],te=I[k-1],Q=k===0?{address:M4,decimals:18,symbol:"ETH"}:{address:d[k-1],decimals:te||q?Number(q??1):void 0,symbol:K??void 0};U.some(se=>se.token.address===Q.address)||U.push({token:Q,value:{pre:G,post:L,diff:L-G}})}return{assetChanges:U,block:P,results:S}}const K6="0x6492649264926492649264926492649264926492649264926492649264926492";function F4(t){if(Xn(t,-32)!==K6)throw new j4(t)}function _4(t){const{data:e,signature:n,to:r}=t;return Cn(lm(P6("address, bytes, bytes"),[r,e,n]),K6)}function U4(t){try{return F4(t),!0}catch{return!1}}class j4 extends me{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function $4({r:t,s:e,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new z6.Signature(Ht(t),Ht(e)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:sr(o)}async function rf(t,e){var a,c,l,u,d,p;const{address:n,hash:r,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??((l=(c=(a=t.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:l.address),multicallAddress:i=e.multicallAddress??((p=(d=(u=t.chain)==null?void 0:u.contracts)==null?void 0:d.multicall3)==null?void 0:p.address)}=e,o=(()=>{const f=e.signature;return rr(f)?f:typeof f=="object"&&"r"in f&&"s"in f?$4(f):Ke(f)})();try{return g4(o)?await z4(t,{...e,multicallAddress:i,signature:o}):await H4(t,{...e,verifierAddress:s,signature:o})}catch(f){try{if(Ll(I0(n),await mx({hash:r,signature:o})))return!0}catch{}if(f instanceof Di)return!1;throw f}}async function z4(t,e){var y;const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=e,{authorization:a,data:c,signature:l,to:u}=y4(e.signature);if(await fh(t,{address:n,blockNumber:r,blockTag:s})===Wa(["0xef0100",a.address]))return await G4(t,{address:n,blockNumber:r,blockTag:s,hash:i,signature:l});const p={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:re(a.r,{size:32}),s:re(a.s,{size:32}),yParity:a.yParity};if(!await _O({address:n,authorization:p}))throw new Di;const m=await ne(t,Nn,"readContract")({...o?{address:o}:{code:Y0},authorizationList:[p],abi:Qu,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Bt({abi:qx,functionName:"isValidSignature",args:[i,l]})}]]}),h=(y=m[m.length-1])==null?void 0:y.returnData;if(h!=null&&h.startsWith("0x1626ba7e"))return!0;throw new Di}async function H4(t,e){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=e,l=await(async()=>!r&&!s||U4(o)?o:_4({data:s,signature:o,to:r}))(),u=a?{to:a,data:Bt({abi:vg,functionName:"isValidSig",args:[n,i,l]}),...c}:{data:Kd({abi:vg,args:[n,i,l],bytecode:HB}),...c},{data:d}=await ne(t,Jd,"call")(u).catch(p=>{throw p instanceof px?new Di:p});if(sI(d??"0x0"))return!0;throw new Di}async function G4(t,e){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=e;if((await ne(t,Nn,"readContract")({address:n,abi:qx,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof hx?new Di:c})).startsWith("0x1626ba7e"))return!0;throw new Di}class Di extends Error{}async function V4(t,{address:e,message:n,factory:r,factoryData:s,signature:i,...o}){const a=m6(n);return rf(t,{address:e,factory:r,factoryData:s,hash:a,signature:i,...o})}async function W4(t,e){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:l,...u}=e,d=ZO({message:o,primaryType:a,types:c,domain:l});return rf(t,{address:n,factory:r,factoryData:s,hash:d,signature:i,...u})}function J6(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=Qe(["watchBlockNumber",t.uid,e,n,o]);return zr(d,{onBlockNumber:r,onError:s},p=>Qa(async()=>{var f;try{const m=await ne(t,jl,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(m===c)return;if(m-c>1&&n)for(let h=c+1n;h<m;h++)p.onBlockNumber(h,c),c=h}(c===void 0||m>c)&&(p.onBlockNumber(m,c),c=m)}catch(m){(f=p.onError)==null||f.call(p,m)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=Qe(["watchBlockNumber",t.uid,e,n]);return zr(d,{onBlockNumber:r,onError:s},p=>{let f=!0,m=()=>f=!1;return(async()=>{try{const h=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return b?b.value:t.transport}return t.transport})(),{unsubscribe:y}=await h.subscribe({params:["newHeads"],onData(b){var x;if(!f)return;const E=Ht((x=b.result)==null?void 0:x.number);p.onBlockNumber(E,c),c=E},onError(b){var E;(E=p.onError)==null||E.call(p,b)}});m=y,f||m()}catch(h){s==null||s(h)}})(),()=>m()})})()}async function Y6(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:T})=>~~(1<<T)*200,timeout:c=18e4}=e,l=Qe(["waitForTransactionReceipt",t.uid,s]),u=(()=>{var T;return e.pollingInterval?e.pollingInterval:(T=t.chain)!=null&&T.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let d,p,f,m=!1,h,y;const{promise:b,resolve:E,reject:x}=Z0(),A=c?setTimeout(()=>{y==null||y(),h==null||h(),x(new v3({hash:s}))},c):void 0;return h=zr(l,{onReplaced:i,resolve:E,reject:x},async T=>{if(f=await ne(t,Eu,"getTransactionReceipt")({hash:s}).catch(()=>{}),f&&r<=1){clearTimeout(A),T.resolve(f),h==null||h();return}y=ne(t,J6,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(P){const S=M=>{clearTimeout(A),y==null||y(),M(),h==null||h()};let R=P;if(!m)try{if(f){if(r>1&&(!f.blockNumber||R-f.blockNumber+1n<r))return;S(()=>T.resolve(f));return}if(n&&!d&&(m=!0,await Ku(async()=>{d=await ne(t,hm,"getTransaction")({hash:s}),d.blockNumber&&(R=d.blockNumber)},{delay:a,retryCount:o}),m=!1),f=await ne(t,Eu,"getTransactionReceipt")({hash:s}),r>1&&(!f.blockNumber||R-f.blockNumber+1n<r))return;S(()=>T.resolve(f))}catch(M){if(M instanceof ux||M instanceof dx){if(!d){m=!1;return}try{p=d,m=!0;const F=await Ku(()=>ne(t,Jn,"getBlock")({blockNumber:R,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:$})=>$ instanceof bx});m=!1;const B=F.transactions.find(({from:$,nonce:z})=>$===p.from&&z===p.nonce);if(!B||(f=await ne(t,Eu,"getTransactionReceipt")({hash:B.hash}),r>1&&(!f.blockNumber||R-f.blockNumber+1n<r)))return;let D="replaced";B.to===p.to&&B.value===p.value&&B.input===p.input?D="repriced":B.from===B.to&&B.value===0n&&(D="cancelled"),S(()=>{var $;($=T.onReplaced)==null||$.call(T,{reason:D,replacedTransaction:p,transaction:B,transactionReceipt:f}),T.resolve(f)})}catch(F){S(()=>T.reject(F))}}else S(()=>T.reject(M))}}})}),b}function q4(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const l=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let d;return l?(()=>{const m=Qe(["watchBlocks",t.uid,e,n,r,u,c]);return zr(m,{onBlock:s,onError:i},h=>Qa(async()=>{var y;try{const b=await ne(t,Jn,"getBlock")({blockTag:e,includeTransactions:u});if(b.number!==null&&(d==null?void 0:d.number)!=null){if(b.number===d.number)return;if(b.number-d.number>1&&n)for(let E=(d==null?void 0:d.number)+1n;E<b.number;E++){const x=await ne(t,Jn,"getBlock")({blockNumber:E,includeTransactions:u});h.onBlock(x,d),d=x}}((d==null?void 0:d.number)==null||e==="pending"&&(b==null?void 0:b.number)==null||b.number!==null&&b.number>d.number)&&(h.onBlock(b,d),d=b)}catch(b){(y=h.onError)==null||y.call(h,b)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,h=!0,y=()=>m=!1;return(async()=>{try{r&&ne(t,Jn,"getBlock")({blockTag:e,includeTransactions:u}).then(x=>{m&&h&&(s(x,void 0),h=!1)}).catch(i);const b=(()=>{if(t.transport.type==="fallback"){const x=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return x?x.value:t.transport}return t.transport})(),{unsubscribe:E}=await b.subscribe({params:["newHeads"],async onData(x){var T;if(!m)return;const A=await ne(t,Jn,"getBlock")({blockNumber:(T=x.result)==null?void 0:T.number,includeTransactions:u}).catch(()=>{});m&&(s(A,d),h=!1,d=A)},onError(x){i==null||i(x)}});y=E,m||y()}catch(b){i==null||i(b)}})(),()=>y()})()}function Q4(t,{address:e,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:u=t.pollingInterval,strict:d}){const p=typeof l<"u"?l:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),f=d??!1;return p?(()=>{const y=Qe(["watchEvent",e,n,r,t.uid,s,u,o]);return zr(y,{onLogs:c,onError:a},b=>{let E;o!==void 0&&(E=o-1n);let x,A=!1;const T=Qa(async()=>{var P;if(!A){try{x=await ne(t,p6,"createEventFilter")({address:e,args:n,event:s,events:i,strict:f,fromBlock:o})}catch{}A=!0;return}try{let S;if(x)S=await ne(t,Yd,"getFilterChanges")({filter:x});else{const R=await ne(t,jl,"getBlockNumber")({});E&&E!==R?S=await ne(t,W0,"getLogs")({address:e,args:n,event:s,events:i,fromBlock:E+1n,toBlock:R}):S=[],E=R}if(S.length===0)return;if(r)b.onLogs(S);else for(const R of S)b.onLogs([R])}catch(S){x&&S instanceof Bs&&(A=!1),(P=b.onError)==null||P.call(b,S)}},{emitOnBegin:!0,interval:u});return async()=>{x&&await ne(t,Zd,"uninstallFilter")({filter:x}),T()}})})():(()=>{let y=!0,b=()=>y=!1;return(async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const P=t.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return P?P.value:t.transport}return t.transport})(),x=i??(s?[s]:void 0);let A=[];x&&(A=[x.flatMap(S=>Il({abi:[S],eventName:S.name,args:n}))],s&&(A=A[0]));const{unsubscribe:T}=await E.subscribe({params:["logs",{address:e,topics:A}],onData(P){var R;if(!y)return;const S=P.result;try{const{eventName:M,args:F}=Vd({abi:x??[],data:S.data,topics:S.topics,strict:f}),B=$r(S,{args:F,eventName:M});c([B])}catch(M){let F,B;if(M instanceof Sc||M instanceof _d){if(d)return;F=M.abiItem.name,B=(R=M.abiItem.inputs)==null?void 0:R.some($=>!("name"in $&&$.name))}const D=$r(S,{args:B?[]:{},eventName:F});c([D])}},onError(P){a==null||a(P)}});b=T,y||b()}catch(E){a==null||a(E)}})(),()=>b()})()}function K4(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const l=Qe(["watchPendingTransactions",t.uid,e,i]);return zr(l,{onTransactions:r,onError:n},u=>{let d;const p=Qa(async()=>{var f;try{if(!d)try{d=await ne(t,h6,"createPendingTransactionFilter")({});return}catch(h){throw p(),h}const m=await ne(t,Yd,"getFilterChanges")({filter:d});if(m.length===0)return;if(e)u.onTransactions(m);else for(const h of m)u.onTransactions([h])}catch(m){(f=u.onError)==null||f.call(u,m)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await ne(t,Zd,"uninstallFilter")({filter:d}),p()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!l)return;const f=p.result;r([f])},onError(p){n==null||n(p)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}function J4(t){var d,p,f;const{scheme:e,statement:n,...r}=((d=t.match(Y4))==null?void 0:d.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...l}=((p=t.match(Z4))==null?void 0:p.groups)??{},u=(f=t.split("Resources:")[1])==null?void 0:f.split(`
- `).slice(1);return{...r,...l,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const Y4=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Z4=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function X4(t){const{address:e,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!rn(r.address,{strict:!1})||e&&!Ll(r.address,e))return!1}catch{return!1}return!0}async function eM(t,e){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...l}=e,u=J4(s);if(!u.address||!X4({address:n,domain:r,message:u,nonce:i,scheme:o,time:c}))return!1;const p=m6(s);return rf(t,{address:u.address,hash:p,signature:a,...l})}async function mm(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){var a,c,l;const s=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,re(r)]:[e]},{retryCount:0}),o=(((l=(c=(a=t.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:l.format)||e6)(s);if(o.status==="reverted"&&n)throw new fx({receipt:o});return o}function tM(t){return{call:e=>Jd(t,e),createAccessList:e=>f6(t,e),createBlockFilter:()=>NO(t),createContractEventFilter:e=>ox(t,e),createEventFilter:e=>p6(t,e),createPendingTransactionFilter:()=>h6(t),estimateContractGas:e=>iB(t,e),estimateGas:e=>G0(t,e),getBalance:e=>RO(t,e),getBlobBaseFee:()=>IO(t),getBlock:e=>Jn(t,e),getBlockNumber:e=>jl(t,e),getBlockTransactionCount:e=>BO(t,e),getBytecode:e=>fh(t,e),getChainId:()=>Wi(t),getCode:e=>fh(t,e),getContractEvents:e=>Nx(t,e),getEip712Domain:e=>kO(t,e),getEnsAddress:e=>fO(t,e),getEnsAvatar:e=>PO(t,e),getEnsName:e=>CO(t,e),getEnsResolver:e=>SO(t,e),getEnsText:e=>d6(t,e),getFeeHistory:e=>LO(t,e),estimateFeesPerGas:e=>H3(t,e),getFilterChanges:e=>Yd(t,e),getFilterLogs:e=>FO(t,e),getGasPrice:()=>j0(t),getLogs:e=>W0(t,e),getProof:e=>E4(t,e),estimateMaxPriorityFeePerGas:e=>z3(t,e),getStorageAt:e=>T4(t,e),getTransaction:e=>hm(t,e),getTransactionConfirmations:e=>P4(t,e),getTransactionCount:e=>$0(t,e),getTransactionReceipt:e=>Eu(t,e),multicall:e=>C4(t,e),prepareTransactionRequest:e=>Dl(t,e),readContract:e=>Nn(t,e),sendRawTransaction:e=>tm(t,e),sendRawTransactionSync:e=>mm(t,e),simulate:e=>vh(t,e),simulateBlocks:e=>vh(t,e),simulateCalls:e=>L4(t,e),simulateContract:e=>JB(t,e),verifyHash:e=>rf(t,e),verifyMessage:e=>V4(t,e),verifySiweMessage:e=>eM(t,e),verifyTypedData:e=>W4(t,e),uninstallFilter:e=>Zd(t,e),waitForTransactionReceipt:e=>Y6(t,e),watchBlocks:e=>q4(t,e),watchBlockNumber:e=>J6(t,e),watchContractEvent:e=>rO(t,e),watchEvent:e=>Q4(t,e),watchPendingTransactions:e=>K4(t,e)}}function nM(t){const{key:e="public",name:n="Public Client"}=t;return a6({...t,key:e,name:n,type:"publicClient"}).extend(tM)}async function rM(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:re(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function sM(t,e){const{abi:n,args:r,bytecode:s,...i}=e,o=Kd({abi:n,args:r,bytecode:s});return Xd(t,{...i,...i.authorizationList?{to:null}:{},data:o})}async function iM(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Nl(r))}async function oM(t,e={}){const{account:n=t.account,chainId:r}=e,s=n?Fe(n):void 0,i=r?[s==null?void 0:s.address,[re(r)]]:[s==null?void 0:s.address],o=await t.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof r=="number"?a[r]:a}async function aM(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Z6(t,e){var c;const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new _s({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Fe(n),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Fe(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await ne(t,Wi,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await ne(t,$0,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&Ll(o.address,i.address))&&(a.nonce+=1)),a}async function cM(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>I0(n))}async function lM(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function uM(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await r6(t,e);return await i6(t,{...e,id:s.id,timeout:r})}const lp=new Sl(128);async function X6(t,e){var T,P,S,R;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:f,pollingInterval:m,throwOnReceiptRevert:h,type:y,value:b,...E}=e,x=e.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new _s({docsPath:"/docs/actions/wallet/sendTransactionSync"});const A=n?Fe(n):null;try{Fs(e);const M=await(async()=>{if(e.to)return e.to;if(e.to!==null&&i&&i.length>0)return await Hd({authorization:i[0]}).catch(()=>{throw new H("`to` is required. Could not infer from `authorizationList`.")})})();if((A==null?void 0:A.type)==="json-rpc"||A===null){let F;r!==null&&(F=await ne(t,Wi,"getChainId")({}),X0({currentChainId:F,chain:r}));const B=(S=(P=(T=t.chain)==null?void 0:T.formatters)==null?void 0:P.transactionRequest)==null?void 0:S.format,$=(B||Vi)({...Ml(E,{format:B}),accessList:s,account:A,authorizationList:i,blobs:o,chainId:F,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:f,to:M,type:y,value:b},"sendTransaction"),z=lp.get(t.uid),N=z?"wallet_sendTransaction":"eth_sendTransaction",I=await(async()=>{try{return await t.request({method:N,params:[$]},{retryCount:0})}catch(k){if(z===!1)throw k;const L=k;if(L.name==="InvalidInputRpcError"||L.name==="InvalidParamsRpcError"||L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[$]},{retryCount:0}).then(G=>(lp.set(t.uid,!0),G)).catch(G=>{const q=G;throw q.name==="MethodNotFoundRpcError"||q.name==="MethodNotSupportedRpcError"?(lp.set(t.uid,!1),L):q});throw L}})(),U=await ne(t,Y6,"waitForTransactionReceipt")({checkReplacement:!1,hash:I,pollingInterval:m,timeout:x});if(h&&U.status==="reverted")throw new fx({receipt:U});return U}if((A==null?void 0:A.type)==="local"){const F=await ne(t,Dl,"prepareTransactionRequest")({account:A,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:f,nonceManager:A.nonceManager,parameters:[...H0,"sidecars"],type:y,value:b,...E,to:M}),B=(R=r==null?void 0:r.serializers)==null?void 0:R.transaction,D=await A.signTransaction(F,{serializer:B});return await ne(t,mm,"sendRawTransactionSync")({serializedTransaction:D,throwOnReceiptRevert:h})}throw(A==null?void 0:A.type)==="smart"?new Pi({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Pi({docsPath:"/docs/actions/wallet/sendTransactionSync",type:A==null?void 0:A.type})}catch(M){throw M instanceof Pi?M:em(M,{...e,account:A,chain:e.chain||void 0})}}async function dM(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function fM(t,e){const{account:n=t.account}=e;if(!n)throw new _s({docsPath:"/docs/eip7702/signAuthorization"});const r=Fe(n);if(!r.signAuthorization)throw new Pi({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Z6(t,e);return r.signAuthorization(s)}async function pM(t,{account:e=t.account,message:n}){if(!e)throw new _s({docsPath:"/docs/actions/wallet/signMessage"});const r=Fe(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Ea(n):n.raw instanceof Uint8Array?jr(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function hM(t,e){var l,u,d,p;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new _s({docsPath:"/docs/actions/wallet/signTransaction"});const i=Fe(n);Fs({account:i,...e});const o=await ne(t,Wi,"getChainId")({});r!==null&&X0({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((u=a==null?void 0:a.transactionRequest)==null?void 0:u.format)||Vi;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(p=(d=t.chain)==null?void 0:d.serializers)==null?void 0:p.transaction}):await t.request({method:"eth_signTransaction",params:[{...c({...s,account:i},"signTransaction"),chainId:re(o),from:i.address}]},{retryCount:0})}async function mM(t,e){const{account:n=t.account,domain:r,message:s,primaryType:i}=e;if(!n)throw new _s({docsPath:"/docs/actions/wallet/signTypedData"});const o=Fe(n),a={EIP712Domain:g6({domain:r}),...e.types};if(y6({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=JO({domain:r,message:s,primaryType:i,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function yM(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:re(e)}]},{retryCount:0})}async function gM(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function bM(t,e){return Jc.internal(t,X6,"sendTransactionSync",e)}function wM(t){return{addChain:e=>rM(t,e),deployContract:e=>sM(t,e),getAddresses:()=>iM(t),getCallsStatus:e=>s6(t,e),getCapabilities:e=>oM(t,e),getChainId:()=>Wi(t),getPermissions:()=>aM(t),prepareAuthorization:e=>Z6(t,e),prepareTransactionRequest:e=>Dl(t,e),requestAddresses:()=>cM(t),requestPermissions:e=>lM(t,e),sendCalls:e=>r6(t,e),sendCallsSync:e=>uM(t,e),sendRawTransaction:e=>tm(t,e),sendRawTransactionSync:e=>mm(t,e),sendTransaction:e=>Xd(t,e),sendTransactionSync:e=>X6(t,e),showCallsStatus:e=>dM(t,e),signAuthorization:e=>fM(t,e),signMessage:e=>pM(t,e),signTransaction:e=>hM(t,e),signTypedData:e=>mM(t,e),switchChain:e=>yM(t,e),waitForCallsStatus:e=>i6(t,e),watchAsset:e=>gM(t,e),writeContract:e=>Jc(t,e),writeContractSync:e=>bM(t,e)}}function vM(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return a6({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(wM)}function e5({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=o6();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:jO(r,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function xM(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=e;return({retryCount:o})=>e5({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:i,type:"custom"})}class AM extends H{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function EM(t,e={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=e;return({chain:p,retryCount:f,timeout:m})=>{const{batchSize:h=1e3,wait:y=0}=typeof n=="object"?n:{},b=e.retryCount??f,E=m??e.timeout??1e4,x=t||(p==null?void 0:p.rpcUrls.default.http[0]);if(!x)throw new AM;const A=GO(x,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:l,timeout:E});return e5({key:i,methods:o,name:a,async request({method:T,params:P}){const S={method:T,params:P},{schedule:R}=Yx({id:x,wait:y,shouldSplitBatch(D){return D.length>h},fn:D=>A.request({body:D}),sort:(D,$)=>D.id-$.id}),M=async D=>n?R(D):[await A.request({body:D})],[{error:F,result:B}]=await M(S);if(d)return{error:F,result:B};if(F)throw new F0({body:S,error:F,url:x});return B},retryCount:b,retryDelay:u,timeout:E,type:"http"},{fetchOptions:s,url:x})}}const Mt=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_activePoolAddress",type:"address"}],name:"ActivePoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_baseRate",type:"uint256"}],name:"BaseRateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_newBorrowerOperationsAddress",type:"address"}],name:"BorrowerOperationsAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_collSurplusPoolAddress",type:"address"}],name:"CollSurplusPoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_defaultPoolAddress",type:"address"}],name:"DefaultPoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_gasPoolAddress",type:"address"}],name:"GasPoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_interestRateManagerAddress",type:"address"}],name:"InterestRateManagerAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_L_Collateral",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_L_Principal",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_L_Interest",type:"uint256"}],name:"LTermsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_liquidatedPrincipal",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_liquidatedInterest",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_liquidatedColl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_collGasCompensation",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_gasCompensation",type:"uint256"}],name:"Liquidation",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_newMUSDTokenAddress",type:"address"}],name:"MUSDTokenAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_pcvAddress",type:"address"}],name:"PCVAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_newPriceFeedAddress",type:"address"}],name:"PriceFeedAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_attemptedAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_actualAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_collateralSent",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_collateralFee",type:"uint256"}],name:"Redemption",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_sortedTrovesAddress",type:"address"}],name:"SortedTrovesAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_stabilityPoolAddress",type:"address"}],name:"StabilityPoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_totalStakesSnapshot",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_totalCollateralSnapshot",type:"uint256"}],name:"SystemSnapshotsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_newTotalStakes",type:"uint256"}],name:"TotalStakesUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_borrower",type:"address"},{indexed:!1,internalType:"uint256",name:"_newIndex",type:"uint256"}],name:"TroveIndexUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_borrower",type:"address"},{indexed:!1,internalType:"uint256",name:"_debt",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_coll",type:"uint256"},{indexed:!1,internalType:"uint8",name:"operation",type:"uint8"}],name:"TroveLiquidated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_L_Collateral",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_L_Principal",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_L_Interest",type:"uint256"}],name:"TroveSnapshotsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_borrower",type:"address"},{indexed:!1,internalType:"uint256",name:"_principal",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_interest",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_coll",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stake",type:"uint256"},{indexed:!1,internalType:"uint16",name:"_interestRate",type:"uint16"},{indexed:!1,internalType:"uint256",name:"_lastInterestUpdateTime",type:"uint256"},{indexed:!1,internalType:"uint8",name:"operation",type:"uint8"}],name:"TroveUpdated",type:"event"},{inputs:[],name:"CCR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DECIMAL_PRECISION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"L_Collateral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"L_Interest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"L_Principal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MCR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MUSD_GAS_COMPENSATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERCENT_DIVISOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"TroveOwners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"Troves",outputs:[{internalType:"uint256",name:"coll",type:"uint256"},{internalType:"uint256",name:"principal",type:"uint256"},{internalType:"uint256",name:"interestOwed",type:"uint256"},{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"enum ITroveManager.Status",name:"status",type:"uint8"},{internalType:"uint16",name:"interestRate",type:"uint16"},{internalType:"uint256",name:"lastInterestUpdateTime",type:"uint256"},{internalType:"uint256",name:"maxBorrowingCapacity",type:"uint256"},{internalType:"uint128",name:"arrayIndex",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"_100pct",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"activePool",outputs:[{internalType:"contract IActivePool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"addTroveOwnerToArray",outputs:[{internalType:"uint256",name:"index",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"applyPendingRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_troveArray",type:"address[]"}],name:"batchLiquidateTroves",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowerOperations",outputs:[{internalType:"contract IBorrowerOperations",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"checkRecoveryMode",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"closeTrove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collSurplusPool",outputs:[{internalType:"contract ICollSurplusPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"uint256",name:"_collDecrease",type:"uint256"}],name:"decreaseTroveColl",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"uint256",name:"_debtDecrease",type:"uint256"}],name:"decreaseTroveDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"defaultPool",outputs:[{internalType:"contract IDefaultPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"gasPoolAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"getCurrentICR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getEntireDebtAndColl",outputs:[{internalType:"uint256",name:"coll",type:"uint256"},{internalType:"uint256",name:"principal",type:"uint256"},{internalType:"uint256",name:"interest",type:"uint256"},{internalType:"uint256",name:"pendingCollateral",type:"uint256"},{internalType:"uint256",name:"pendingPrincipal",type:"uint256"},{internalType:"uint256",name:"pendingInterest",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEntireSystemColl",outputs:[{internalType:"uint256",name:"entireSystemColl",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEntireSystemDebt",outputs:[{internalType:"uint256",name:"entireSystemDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getNominalICR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getPendingCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getPendingDebt",outputs:[{internalType:"uint256",name:"pendingPrincipal",type:"uint256"},{internalType:"uint256",name:"pendingInterest",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"getTCR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getTroveColl",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getTroveDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getTroveFromTroveOwnersArray",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getTroveInterestOwed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getTroveInterestRate",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getTroveLastInterestUpdateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getTroveMaxBorrowingCapacity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTroveOwnersCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getTrovePrincipal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getTroveStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"getTroveStatus",outputs:[{internalType:"enum ITroveManager.Status",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"hasPendingRewards",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"uint256",name:"_collIncrease",type:"uint256"}],name:"increaseTroveColl",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"uint256",name:"_debtIncrease",type:"uint256"}],name:"increaseTroveDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"interestRateManager",outputs:[{internalType:"contract IInterestRateManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastCollateralError_Redistribution",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastInterestError_Redistribution",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastPrincipalError_Redistribution",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"musdToken",outputs:[{internalType:"contract IMUSD",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pcv",outputs:[{internalType:"contract IPCV",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceFeed",outputs:[{internalType:"contract IPriceFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_firstRedemptionHint",type:"address"},{internalType:"address",name:"_upperPartialRedemptionHint",type:"address"},{internalType:"address",name:"_lowerPartialRedemptionHint",type:"address"},{internalType:"uint256",name:"_partialRedemptionHintNICR",type:"uint256"},{internalType:"uint256",name:"_maxIterations",type:"uint256"}],name:"redeemCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"removeStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewardSnapshots",outputs:[{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"uint256",name:"principal",type:"uint256"},{internalType:"uint256",name:"interest",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_activePoolAddress",type:"address"},{internalType:"address",name:"_borrowerOperationsAddress",type:"address"},{internalType:"address",name:"_collSurplusPoolAddress",type:"address"},{internalType:"address",name:"_defaultPoolAddress",type:"address"},{internalType:"address",name:"_gasPoolAddress",type:"address"},{internalType:"address",name:"_interestRateManagerAddress",type:"address"},{internalType:"address",name:"_musdTokenAddress",type:"address"},{internalType:"address",name:"_pcvAddress",type:"address"},{internalType:"address",name:"_priceFeedAddress",type:"address"},{internalType:"address",name:"_sortedTrovesAddress",type:"address"},{internalType:"address",name:"_stabilityPoolAddress",type:"address"}],name:"setAddresses",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"uint16",name:"_rate",type:"uint16"}],name:"setTroveInterestRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"uint256",name:"_timestamp",type:"uint256"}],name:"setTroveLastInterestUpdateTime",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"uint256",name:"_maxBorrowingCapacity",type:"uint256"}],name:"setTroveMaxBorrowingCapacity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"enum ITroveManager.Status",name:"_status",type:"uint8"}],name:"setTroveStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"sortedTroves",outputs:[{internalType:"contract ISortedTroves",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stabilityPool",outputs:[{internalType:"contract IStabilityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalCollateralSnapshot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStakesSnapshot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"updateStakeAndTotalStakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"updateSystemAndTroveInterest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateSystemInterest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"}],name:"updateTroveRewardSnapshots",outputs:[],stateMutability:"nonpayable",type:"function"}];var Eh=(t=>(t[t.nonExistent=0]="nonExistent",t[t.active=1]="active",t[t.closedByOwner=2]="closedByOwner",t[t.closedByLiquidation=3]="closedByLiquidation",t[t.closedByRedemption=4]="closedByRedemption",t))(Eh||{});const TM=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_activePoolAddress",type:"address"}],name:"ActivePoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_borrowerOperationsSignaturesAddress",type:"address"}],name:"BorrowerOperationsSignaturesAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_borrower",type:"address"},{indexed:!1,internalType:"uint256",name:"_fee",type:"uint256"}],name:"BorrowingFeePaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"borrowingRate",type:"uint256"}],name:"BorrowingRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"proposedBorrowingRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"proposedBorrowingRateTime",type:"uint256"}],name:"BorrowingRateProposed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_collSurplusPoolAddress",type:"address"}],name:"CollSurplusPoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_defaultPoolAddress",type:"address"}],name:"DefaultPoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_gasPoolAddress",type:"address"}],name:"GasPoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_governableVariablesAddress",type:"address"}],name:"GovernableVariablesAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_interestRateManagerAddress",type:"address"}],name:"InterestRateManagerAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_musdTokenAddress",type:"address"}],name:"MUSDTokenAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_minNetDebt",type:"uint256"}],name:"MinNetDebtChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_minNetDebt",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_proposalTime",type:"uint256"}],name:"MinNetDebtProposed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_pcvAddress",type:"address"}],name:"PCVAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_newPriceFeedAddress",type:"address"}],name:"PriceFeedAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"redemptionRate",type:"uint256"}],name:"RedemptionRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"proposedRedemptionRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"proposedRedemptionRateTime",type:"uint256"}],name:"RedemptionRateProposed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_borrower",type:"address"},{indexed:!1,internalType:"uint256",name:"_fee",type:"uint256"}],name:"RefinancingFeePaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"_refinanceFeePercentage",type:"uint8"}],name:"RefinancingFeePercentageChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_sortedTrovesAddress",type:"address"}],name:"SortedTrovesAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_stabilityPoolAddress",type:"address"}],name:"StabilityPoolAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_borrower",type:"address"},{indexed:!1,internalType:"uint256",name:"arrayIndex",type:"uint256"}],name:"TroveCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_newTroveManagerAddress",type:"address"}],name:"TroveManagerAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_borrower",type:"address"},{indexed:!1,internalType:"uint256",name:"_principal",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_interest",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_coll",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stake",type:"uint256"},{indexed:!1,internalType:"uint8",name:"operation",type:"uint8"}],name:"TroveUpdated",type:"event"},{inputs:[],name:"CCR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DECIMAL_PRECISION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MCR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_NET_DEBT_MIN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MUSD_GAS_COMPENSATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERCENT_DIVISOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_100pct",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"activePool",outputs:[{internalType:"contract IActivePool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"addColl",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_collWithdrawal",type:"uint256"},{internalType:"uint256",name:"_debtChange",type:"uint256"},{internalType:"bool",name:"_isDebtIncrease",type:"bool"},{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"adjustTrove",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"approveBorrowingRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"approveMinNetDebt",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"approveRedemptionRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowerOperationsSignaturesAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowingRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_musdToBurn",type:"uint256"}],name:"burnDebtFromPCV",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"closeTrove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collSurplusPool",outputs:[{internalType:"contract ICollSurplusPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"defaultPool",outputs:[{internalType:"contract IDefaultPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"gasPoolAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_debt",type:"uint256"}],name:"getBorrowingFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEntireSystemColl",outputs:[{internalType:"uint256",name:"entireSystemColl",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEntireSystemDebt",outputs:[{internalType:"uint256",name:"entireSystemDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralDrawn",type:"uint256"}],name:"getRedemptionRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"governableVariables",outputs:[{internalType:"contract IGovernableVariables",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"interestRateManager",outputs:[{internalType:"contract IInterestRateManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"minNetDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_musdToMint",type:"uint256"}],name:"mintBootstrapLoanFromPCV",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"moveCollateralGainToTrove",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"musd",outputs:[{internalType:"contract IMUSD",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_debtAmount",type:"uint256"},{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"openTrove",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pcv",outputs:[{internalType:"contract IPCV",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pcvAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceFeed",outputs:[{internalType:"contract IPriceFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"proposeBorrowingRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_minNetDebt",type:"uint256"}],name:"proposeMinNetDebt",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"}],name:"proposeRedemptionRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedBorrowingRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedBorrowingRateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedMinNetDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedMinNetDebtTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedRedemptionRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedRedemptionRateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"redemptionRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"refinance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"refinancingFeePercentage",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"repayMUSD",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"address",name:"_recipient",type:"address"},{internalType:"address",name:"_caller",type:"address"},{internalType:"uint256",name:"_collWithdrawal",type:"uint256"},{internalType:"uint256",name:"_mUSDChange",type:"uint256"},{internalType:"bool",name:"_isDebtIncrease",type:"bool"},{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"restrictedAdjustTrove",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"address",name:"_recipient",type:"address"}],name:"restrictedClaimCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"address",name:"_caller",type:"address"},{internalType:"address",name:"_recipient",type:"address"}],name:"restrictedCloseTrove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"address",name:"_recipient",type:"address"},{internalType:"uint256",name:"_debtAmount",type:"uint256"},{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"restrictedOpenTrove",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_borrower",type:"address"},{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"restrictedRefinance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[13]",name:"_addresses",type:"address[13]"}],name:"setAddresses",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"_refinanceFeePercentage",type:"uint8"}],name:"setRefinancingFeePercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"sortedTroves",outputs:[{internalType:"contract ISortedTroves",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stabilityPoolAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"troveManager",outputs:[{internalType:"contract ITroveManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"withdrawColl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_upperHint",type:"address"},{internalType:"address",name:"_lowerHint",type:"address"}],name:"withdrawMUSD",outputs:[],stateMutability:"nonpayable",type:"function"}],PM=10000n;class CM{constructor(e,n=fr.MEZO_TROVE_MANAGER,r=fr.MEZO_BORROWER_OPERATIONS){_(this,"abi",Mt);this.client=e,this.contractAddress=n,this.borrowerOperationsCA=r}async getPriceFeedAddress(){return await this.client.readContract({address:this.contractAddress,abi:this.abi,functionName:"priceFeed"})}async getSystemState(){const n=["getEntireSystemColl","getEntireSystemDebt","getTroveOwnersCount"].map(s=>({address:this.contractAddress,abi:this.abi,functionName:s})),r=await this.client.multicall({contracts:n});if(!r.every(s=>s.status==="success"))throw new Error("Failed to fetch system debt and collateral");return{collateral:r[0].result,debt:r[1].result,troveOwnersCount:r[2].result}}async getTCR(e){const n=[{address:this.contractAddress,abi:this.abi,functionName:"getTCR",args:[e]},{address:this.contractAddress,abi:this.abi,functionName:"checkRecoveryMode",args:[e]}],r=await this.client.multicall({contracts:n});if(!r.every(s=>s.status==="success"))throw new Error("Failed to fetch system debt and collateral");return{tcr:r[0].result,recovery:r[1].result}}async getTroveOwnersCount(){return this.client.readContract({abi:Mt,address:this.contractAddress,functionName:"getTroveOwnersCount"})}async getTroveOwners(e){e||(e=await this.getTroveOwnersCount());let n=[];for(let s=0n;s<e;s++)n.push({address:this.contractAddress,abi:Mt,functionName:"getTroveFromTroveOwnersArray",args:[s]});return(await this.client.multicall({contracts:n})).map(s=>s.result)}async getTrovesWithData(e,n){const r=e.flatMap(a=>[{abi:Mt,address:this.contractAddress,functionName:"getEntireDebtAndColl",args:[a]},{abi:Mt,address:this.contractAddress,functionName:"getTroveStatus",args:[a]},{abi:Mt,address:this.contractAddress,functionName:"getTroveStake",args:[a]},{abi:Mt,address:this.contractAddress,functionName:"getTroveInterestRate",args:[a]},{abi:Mt,address:this.contractAddress,functionName:"getTroveLastInterestUpdateTime",args:[a]},{abi:Mt,address:this.contractAddress,functionName:"getCurrentICR",args:[a,n]}]),s=await this.client.multicall({contracts:r}),i=[];let o=0;for(let a=0;a<e.length;a++){const c=s[o++],l=s[o++],u=s[o++],d=s[o++],p=s[o++],f=s[o++];if(!(c.status==="success"&&l.status==="success"&&u.status==="success"))continue;const[m,h,y,b,E,x]=c.result,A=l.result,T=u.result;let P=0n;if(d.status==="success"&&d.result!=="0x")try{P=d.result}catch{}let S=0n;if(p.status==="success"&&p.result!=="0x")try{S=p.result}catch{}let R=0n;if(f.status==="success"&&f.result!=="0x")try{R=f.result}catch{}const M=A===1n?Eh.active:Eh.nonExistent;i.push({owner:e[a],collateral:m,principal:h,interest:y,stake:T,status:M,interestRate:P,lastInterestUpdateTime:S,pendingCollateral:b,pendingPrincipal:E,pendingInterest:x,ICR:R})}return i}async getEventLog(e,n,r="troveManager"){let s=n.fromBlock??0n,i=n.toBlock??await this.client.getBlockNumber(),o=n.chunkSize??PM,a=r=="troveManager"?Mt:TM,c=r=="troveManager"?this.contractAddress:this.borrowerOperationsCA;if(s>i)return[];let l=[],u=s;for(;u<=i;){const d=u+o-1n>i?i:u+o-1n,p=await this.client.getContractEvents({address:c,abi:a,eventName:e,fromBlock:u,toBlock:d});u=d+1n,l=[...l,...p]}return l.sort((d,p)=>{const f=(d.blockNumber??0n)-(p.blockNumber??0n);if(f!==0n)return f>0n?1:-1;const m=d.logIndex??0,h=p.logIndex??0;return m-h}),l}async buildBlockTimestampMap(e){const n=[...new Set(e.map(i=>i.blockNumber).filter(i=>i!=null))],r=await Promise.all(n.map(i=>this.client.getBlock({blockNumber:i}))),s=new Map;return n.forEach((i,o)=>{const a=r[o],c=a&&typeof a.timestamp=="number"?a.timestamp:Number((a==null?void 0:a.timestamp)??0);s.set(i,c)}),s}async buildReceiptStatusMap(e){const n=[...new Set(e.map(s=>s.transactionHash).filter(s=>!!s))],r=await Promise.all(n.map(async s=>{try{const i=await this.client.getTransactionReceipt({hash:s});return i?[s,i.status==="success"?"success":"failed"]:[s,"success"]}catch(i){return console.warn("Failed to fetch transaction receipt",{hash:s,error:i}),[s,"failed"]}}));return new Map(r)}async getRedemptionBorrowersFromReceipts(e){const n=[...new Set(e.map(s=>s.transactionHash).filter(s=>!!s))],r=new Map;return await Promise.all(n.map(async s=>{try{const i=await this.client.getTransactionReceipt({hash:s});if(!i)return;i.logs.forEach(o=>{var a,c;if(!(!o.address||o.address.toLowerCase()!==this.contractAddress.toLowerCase()))try{const l=Vd({abi:Mt,data:o.data,topics:o.topics});if(l.eventName!=="TroveUpdated")return;const u=(a=l.args)==null?void 0:a.operation,d=(c=l.args)==null?void 0:c._borrower;if(!d)return;const p=typeof u=="bigint"?Number(u):u??Number.NaN;if(Number.isNaN(p)||p!==2)return;const f=r.get(s)??[];f.push(d),r.set(s,f)}catch{}})}catch(i){console.warn("Failed to fetch transaction receipt when deriving redemption borrowers",{hash:s,error:i})}})),r}static computeTroveICR(e,n){const r=e.collateral+e.pendingCollateral,s=e.principal+e.interest+e.pendingPrincipal+e.pendingInterest;return s===0n?null:r*n/s}}class SM{constructor(e,n){this.fetcher=e,this.priceFeed=n}async getBtcPrice(){return this.priceFeed.fetchBtcOraclePrice()}async getTcr(){const e=await this.priceFeed.fetchBtcOraclePrice(),{tcr:n,recovery:r}=await this.fetcher.getTCR(e);return{tcr:n,recovery:r,price:e}}async getSystemState(e){const n=await this.fetcher.getSystemState(),r=e||await this.priceFeed.fetchBtcOraclePrice();return{collateral:Number(Ge(n.collateral,18)),debt:Number(Ge(n.debt,18)),ratio:Number(Ge(n.collateral,18))*Number(Ge(r,18))/Number(Ge(n.debt,18)),btcPrice:Number(Ge(r,18))}}async getTrovesWithData(e,n){const r=e||await this.priceFeed.fetchBtcOraclePrice();let s;return n?s=await this.fetcher.getTroveOwners(BigInt(n)):s=await this.fetcher.getTroveOwners(),(await this.fetcher.getTrovesWithData(s,r)).map(o=>{const a=Number(Ge(o.collateral,18)),c=Number(Ge(o.principal,18)),l=Number(Ge(o.interest,18)),u=Number(Ge(o.ICR,18));let d=Number.isFinite(u)?u:Number.MAX_SAFE_INTEGER;return{owner:o.owner,collateral:a,principal_debt:c,interest:l,collaterizationRatio:d}})}async getLiquidationsSinceBlock(e,n=1e4){const r=await this.fetcher.getEventLog("TroveLiquidated",{fromBlock:BigInt(e),chunkSize:BigInt(n)});return this._buildLiquidationEvents(r)}async getRedemptionsSinceBlock(e,n=1e4){const r=await this.fetcher.getEventLog("Redemption",{fromBlock:BigInt(e),chunkSize:BigInt(n)});if(r.length===0)return[];const s=await this.fetcher.getRedemptionBorrowersFromReceipts(r);return this._buildRedemptionEvents(r,s)}async _buildRedemptionEvents(e,n){if(e.length===0)return[];const r=await this.fetcher.buildBlockTimestampMap(e),s=await this.fetcher.buildReceiptStatusMap(e);return e.map(o=>{const a=o.args._attemptedAmount,c=o.args._actualAmount,l=o.args._collateralSent,u=o.args._collateralFee,d=o.blockNumber??0n,p=o.logIndex??0;return{attemptedAmount:Number(Ge(a,18)),actualAmount:Number(Ge(c,18)),collateralSent:Number(Ge(l,18)),collateralFee:Number(Ge(u,18)),affectedBorrowers:o.transactionHash?n.get(o.transactionHash)??[]:[],txHash:o.transactionHash??"",blockNumber:Number(d),logIndex:p,timestamp:r.get(d)??0,status:o.transactionHash?s.get(o.transactionHash)??"success":"success"}}).filter(o=>o!==null&&!!o.txHash).sort((o,a)=>o.blockNumber===a.blockNumber?o.logIndex-a.logIndex:o.blockNumber-a.blockNumber)}async _buildLiquidationEvents(e){if(e.length===0)return[];const n=await this.fetcher.buildBlockTimestampMap(e),r=await this.fetcher.buildReceiptStatusMap(e);return e.map(i=>{const o=i.args._borrower,a=i.args._debt,c=i.args._coll,l=i.args.operation,u=i.blockNumber??0n,d=i.logIndex??0;return{borrower:o,debt:Number(Ge(a,18)),collateral:Number(Ge(c,18)),operation:typeof l=="bigint"?Number(l):l??0,txHash:i.transactionHash??"",blockNumber:Number(u),logIndex:d,timestamp:n.get(u)??0,status:i.transactionHash?r.get(i.transactionHash)??"success":"success"}}).filter(i=>i!==null&&!!i.txHash).sort((i,o)=>i.blockNumber===o.blockNumber?i.logIndex-o.logIndex:i.blockNumber-o.blockNumber)}}const NM=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_lastGoodPrice",type:"uint256"}],name:"LastGoodPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_oracle",type:"address"}],name:"NewOracleRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"TARGET_DIGITS",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"fetchPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"contract ChainlinkAggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_oracle",type:"address"}],name:"setOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];class RM{constructor(e,n){this.client=e,this.contractAddress=n}async fetchBtcOraclePrice(){return await this.client.readContract({abi:NM,address:this.contractAddress,functionName:"fetchPrice"})}}const Lg=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_borrowerOperationsAddress",type:"address"}],name:"BorrowerOperationsAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_sortedTrovesAddress",type:"address"}],name:"SortedTrovesAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_troveManagerAddress",type:"address"}],name:"TroveManagerAddressChanged",type:"event"},{inputs:[],name:"CCR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DECIMAL_PRECISION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MCR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MUSD_GAS_COMPENSATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERCENT_DIVISOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_100pct",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"activePool",outputs:[{internalType:"contract IActivePool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowerOperations",outputs:[{internalType:"contract IBorrowerOperations",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_coll",type:"uint256"},{internalType:"uint256",name:"_debt",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"computeCR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_coll",type:"uint256"},{internalType:"uint256",name:"_debt",type:"uint256"}],name:"computeNominalCR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"defaultPool",outputs:[{internalType:"contract IDefaultPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_CR",type:"uint256"},{internalType:"uint256",name:"_numTrials",type:"uint256"},{internalType:"uint256",name:"_inputRandomSeed",type:"uint256"}],name:"getApproxHint",outputs:[{internalType:"address",name:"hintAddress",type:"address"},{internalType:"uint256",name:"diff",type:"uint256"},{internalType:"uint256",name:"latestRandomSeed",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEntireSystemColl",outputs:[{internalType:"uint256",name:"entireSystemColl",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getEntireSystemDebt",outputs:[{internalType:"uint256",name:"entireSystemDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_maxIterations",type:"uint256"}],name:"getRedemptionHints",outputs:[{internalType:"address",name:"firstRedemptionHint",type:"address"},{internalType:"uint256",name:"partialRedemptionHintNICR",type:"uint256"},{internalType:"uint256",name:"truncatedAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"interestRateManager",outputs:[{internalType:"contract IInterestRateManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceFeed",outputs:[{internalType:"contract IPriceFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_borrowerOperationsAddress",type:"address"},{internalType:"address",name:"_sortedTrovesAddress",type:"address"},{internalType:"address",name:"_troveManagerAddress",type:"address"}],name:"setAddresses",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"sortedTroves",outputs:[{internalType:"contract ISortedTroves",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"troveManager",outputs:[{internalType:"contract ITroveManager",name:"",type:"address"}],stateMutability:"view",type:"function"}],IM=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_borrowerOperationsAddress",type:"address"}],name:"BorrowerOperationsAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_id",type:"address"},{indexed:!1,internalType:"uint256",name:"_NICR",type:"uint256"}],name:"NodeAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_id",type:"address"}],name:"NodeRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_sortedDoublyLLAddress",type:"address"}],name:"SortedTrovesAddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_troveManagerAddress",type:"address"}],name:"TroveManagerAddressChanged",type:"event"},{inputs:[],name:"borrowerOperationsAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_id",type:"address"}],name:"contains",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"data",outputs:[{internalType:"address",name:"head",type:"address"},{internalType:"address",name:"tail",type:"address"},{internalType:"uint256",name:"maxSize",type:"uint256"},{internalType:"uint256",name:"size",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_NICR",type:"uint256"},{internalType:"address",name:"_prevId",type:"address"},{internalType:"address",name:"_nextId",type:"address"}],name:"findInsertPosition",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFirst",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLast",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMaxSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_id",type:"address"}],name:"getNext",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_id",type:"address"}],name:"getPrev",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_id",type:"address"},{internalType:"uint256",name:"_NICR",type:"uint256"},{internalType:"address",name:"_prevId",type:"address"},{internalType:"address",name:"_nextId",type:"address"}],name:"insert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isEmpty",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isFull",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_id",type:"address"},{internalType:"uint256",name:"_newNICR",type:"uint256"},{internalType:"address",name:"_prevId",type:"address"},{internalType:"address",name:"_nextId",type:"address"}],name:"reInsert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_id",type:"address"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_size",type:"uint256"},{internalType:"address",name:"_borrowerOperationsAddress",type:"address"},{internalType:"address",name:"_troveManagerAddress",type:"address"}],name:"setParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"troveManager",outputs:[{internalType:"contract ITroveManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_NICR",type:"uint256"},{internalType:"address",name:"_prevId",type:"address"},{internalType:"address",name:"_nextId",type:"address"}],name:"validInsertPosition",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];class BM{constructor(e,n,r){_(this,"musdAddress",Z8.MUSD.address);this.client=e,this.fetcher=n,this.walletClient=r}setWalletClient(e){this.walletClient=e}async getRedemptionHintsForAmount(e,n=100){const r=v4(e,18),s=BigInt(n),i=await this.fetcher.getBtcPrice(),[o,a,c]=await this.client.readContract({abi:Lg,address:fr.MEZO_HINT_HELPERS,functionName:"getRedemptionHints",args:[r,i,s]});if(a===0n)return{firstRedemptionHint:o,upperHint:"0x0000000000000000000000000000000000000000",lowerHint:"0x0000000000000000000000000000000000000000",partialRedemptionHintNICR:a,truncatedAmount:c};const l=32n,u=BigInt(Date.now()),[d]=await this.client.readContract({abi:Lg,address:fr.MEZO_HINT_HELPERS,functionName:"getApproxHint",args:[a,l,u]}),[p,f]=await this.client.readContract({abi:IM,address:fr.MEZO_SORTED_TROVES,functionName:"findInsertPosition",args:[a,d,d]});return{firstRedemptionHint:o,upperHint:p,lowerHint:f,partialRedemptionHintNICR:a,truncatedAmount:c}}async simulateRedemption(e,n,r=100n){var o,a;const s=n??((a=(o=this.walletClient)==null?void 0:o.account)==null?void 0:a.address);if(!s)throw new Error("No account available to simulate redemption. Connect a wallet first.");const i=await this.client.estimateGas({account:s,to:fr.MEZO_TROVE_MANAGER,data:Bt({abi:Mt,functionName:"redeemCollateral",args:[e.truncatedAmount,e.firstRedemptionHint,e.upperHint,e.lowerHint,e.partialRedemptionHintNICR,r]})});return{truncatedAmount:e.truncatedAmount,gasEstimate:i}}async executeRedemption(e,n){var a;if(e.truncatedAmount===0n)throw new Error("HintHelper returned zero redeemable amount.");if(!this.walletClient)throw new Error("Wallet client is not initialized.");if(!this.walletClient.account)throw new Error("Connected wallet does not expose an account address.");if(await this.client.readContract({address:this.musdAddress,abi:Qf,functionName:"balanceOf",args:[this.walletClient.account.address]})<e.truncatedAmount)throw new Error("Insufficient mUSD balance to redeem the requested amount.");await this.ensureMusdAllowance(e.truncatedAmount);const s=(n==null?void 0:n.maxIterations)??100n,i=await this.simulateRedemption(e,(a=this.walletClient.account)==null?void 0:a.address,s);return{txHash:await this.walletClient.writeContract({account:this.walletClient.account,address:fr.MEZO_TROVE_MANAGER,abi:Mt,functionName:"redeemCollateral",chain:this.walletClient.chain,args:[i.truncatedAmount,e.firstRedemptionHint,e.upperHint,e.lowerHint,e.partialRedemptionHintNICR,s]}),...i}}async ensureMusdAllowance(e){var s;if(!((s=this.walletClient)!=null&&s.account))throw new Error("Wallet client is not initialized.");const n=this.walletClient.account.address;await this.client.readContract({address:this.musdAddress,abi:Qf,functionName:"allowance",args:[n,fr.MEZO_TROVE_MANAGER]})>=e||await this.walletClient.writeContract({account:this.walletClient.account,address:this.musdAddress,abi:Qf,functionName:"approve",args:[fr.MEZO_TROVE_MANAGER,e],chain:this.walletClient.chain})}}const OM=EM(S0.rpcUrls.default.http[0]),kM=1100000000000000000n,Fg=(t,e=50)=>{const n=Number(t);return Number.isFinite(n)?Math.min(Math.max(Math.floor(n),1),250):e},up=(t,e)=>t instanceof H?t.shortMessage==="Execution reverted with reason: rpc error: code = Unknown desc = TroveManager: Requested redemption amount must be <= user's mUSD token balance."?"Your MUSD balance is insufficient to simulate redemption. Requested redemption amount must be <= MUSD token balance.":t.shortMessage||t.message||e:t instanceof Error?t.message:e,MM=t=>{if(!t)return null;const e=Number.parseFloat(Ge(t,18));return Number.isFinite(e)?e*100:null},DM=(t,e=18,n=4)=>{const r=Number.parseFloat(Ge(t,e));return Number.isFinite(r)?r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:n}):""},LM=t=>t?`${t.slice(0,6)}${t.slice(-4)}`:"",FM=({open:t,onOpenChange:e,wallet:n})=>{const[r,s]=w.useState("1000"),[i,o]=w.useState("50"),[a,c]=w.useState("Bootstrapping redemption helpers"),[l,u]=w.useState(null),[d,p]=w.useState(null),[f,m]=w.useState(null),[h,y]=w.useState(null),[b,E]=w.useState(null),[x,A]=w.useState(null),[T,P]=w.useState(null),[S,R]=w.useState(!1),[M,F]=w.useState(!1),[B,D]=w.useState(!0),[$,z]=w.useState(null),[N,I]=w.useState(null),U=w.useMemo(()=>nM({chain:S0,transport:OM}),[]);w.useEffect(()=>{let Q=!1;return(async()=>{D(!0),p(null);try{const le=new CM(U),ie=await le.getPriceFeedAddress();if(Q)return;const Ce=new RM(U,ie);if(Q)return;u(new SM(le,Ce)),c("Connect your wallet to begin.")}catch(le){Q||(p(up(le,"Failed to initialize redemption helpers.")),c("Unable to initialize redemption helpers."))}finally{Q||D(!1)}})(),()=>{Q=!0}},[U]),w.useEffect(()=>{if(!n.account){m(null),y(null),E(null),c("Connect your wallet to begin.");return}if(B){c("Bootstrapping redemption helpers");return}c(Q=>Q==="Connect your wallet to begin."||Q==="Bootstrapping redemption helpers"?"Ready to simulate a redemption.":Q)},[n.account,B]),w.useEffect(()=>{t||(A(null),P(null))},[t]);const k=w.useMemo(()=>l?new BM(U,l,n.walletClient??void 0):null,[l,U,n.walletClient]),L=async()=>{if(!n.account){A("Connect a wallet to simulate redemptions.");return}if(!k){A("Redemption helpers are still loading. Try again in a moment.");return}const Q=Number.parseFloat(r);if(!Number.isFinite(Q)||Q<=0){A("Enter a positive MUSD amount to redeem.");return}try{R(!0),A(null),P(null),E(null),c("Checking system health");const se=Fg(i),le=await(l==null?void 0:l.getTcr());if(le&&(z(le.tcr),I(le.recovery),le.tcr<kM)){m(null),y(null),c("Redemptions disabled while TCR < 110%"),A("The total collateral ratio must stay above 110%. Wait for the system to recover, then try again.");return}c("Calculating redemption hints");const ie=await k.getRedemptionHintsForAmount(r,se);if(m(ie),ie.truncatedAmount===0n){y(null),c("No redeemable troves for this amount"),A("HintHelper returned zero redeemable amount. Try a different amount or wait for troves to update.");return}c("Estimating execution and gas");const Ce=await k.simulateRedemption(ie,n.account,BigInt(se));y(Ce),c("Simulation ready")}catch(se){y(null),m(null),c("Simulation failed"),A(up(se,"Failed to simulate redemption."))}finally{R(!1)}},G=async()=>{if(!k||!f){P("Run a successful simulation before redeeming.");return}if(!n.walletClient){P("Connect a wallet that can sign transactions to execute the redemption.");return}try{F(!0),P(null),c("Submitting redemption transaction");const Q=Fg(i),se=await k.executeRedemption(f,{maxIterations:BigInt(Q)});E(se),c("Redemption submitted")}catch(Q){c("Redemption failed"),P(up(Q,"Redemption transaction failed."))}finally{F(!1)}},q=MM($),K=S||M,te=!n.account||!n.walletClient||!h||!f||K;return g.jsx(A0,{open:t,onOpenChange:e,children:g.jsxs(Id,{className:"flex h-[calc(100vh-2rem)] w-[calc(100vw-2rem)] max-w-3xl flex-col gap-4 overflow-hidden sm:w-full sm:max-h-[90vh]",children:[g.jsxs(Bd,{children:[g.jsxs(Od,{className:"flex items-center gap-2",children:[g.jsx(lA,{className:"h-5 w-5 text-primary"}),"Redeem MUSD"]}),g.jsx(kd,{className:"space-y-1 text-sm",children:"Simulate and execute redemptions directly against the Mezo contracts. The simulation uses on-chain hints and checks the system health before attempting a transaction."})]}),g.jsxs("div",{className:"flex-1 space-y-5 overflow-y-auto pr-1",children:[g.jsxs(Gs,{className:"border border-primary/40 bg-primary/5",children:[g.jsx(uA,{className:"h-4 w-4"}),g.jsx(Vs,{children:"Experimental tooling"}),g.jsx(Ws,{children:"Heads up: this redemption utility currently runs in a public test mode. Redemptions might still fail even after a successful simulation while we finish validating the flow."})]}),d&&g.jsxs(Gs,{variant:"destructive",children:[g.jsx(Vs,{children:"Initialization failed"}),g.jsx(Ws,{children:d})]}),g.jsx("div",{className:"rounded-2xl border border-card-border/50 bg-card/30 p-4",children:g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold",children:"Wallet status"}),g.jsx("p",{className:"text-xs text-muted-foreground",children:n.account?"Connected wallet will be used for simulations and transactions.":"Connect a wallet to load personalized data and run redemptions."})]}),g.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[n.account&&g.jsx(gc,{variant:"outline",className:"font-mono text-xs",children:LM(n.account)}),g.jsx(Pt,{variant:n.account?"outline":"default",onClick:()=>n.account?n.disconnect():void n.connect(),disabled:n.isConnecting,children:n.account?"Disconnect":n.isConnecting?"Connecting...":"Connect wallet"})]})]})}),g.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(yr,{htmlFor:"redeem-amount",children:"Amount (MUSD)"}),g.jsx(mr,{id:"redeem-amount",type:"number",min:"0",step:"0.01",value:r,onChange:Q=>s(Q.target.value),disabled:K,placeholder:"Enter the MUSD amount to redeem"}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the total MUSD value you want to redeem from the riskiest troves."})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(yr,{htmlFor:"redeem-iterations",children:"Hint iterations"}),g.jsx(mr,{id:"redeem-iterations",type:"number",min:"1",max:"250",step:"1",value:i,onChange:Q=>o(Q.target.value),disabled:K}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Higher iterations scan more troves to find redeemable hints (max 250). Default: 50."})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsxs(Pt,{onClick:()=>void L(),disabled:K||!n.account||!k||!!d||B,children:[S&&g.jsx(Mu,{className:"mr-2 h-4 w-4 animate-spin"}),"Run simulation"]}),g.jsxs(Pt,{variant:"secondary",onClick:()=>void G(),disabled:te||!!d,children:[M&&g.jsx(Mu,{className:"mr-2 h-4 w-4 animate-spin"}),"Redeem now"]})]}),g.jsx("div",{className:"rounded-2xl border border-card-border/50 bg-card/20 p-4",children:g.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Current status"}),g.jsx("p",{className:"text-lg font-semibold text-foreground",children:a})]}),g.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"System TCR"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-semibold text-foreground",children:q?`${q.toFixed(2)}%`:B?"":"Fetching"}),N&&g.jsx(gc,{variant:"destructive",children:"Recovery mode"})]}),g.jsx("p",{className:"text-xs",children:"Redemptions pause automatically if the TCR drops below 110%."})]})]})}),x&&g.jsxs(Gs,{variant:"destructive",children:[g.jsx(Vs,{children:"Simulation error"}),g.jsx(Ws,{children:x})]}),T&&g.jsxs(Gs,{variant:"destructive",children:[g.jsx(Vs,{children:"Redemption error"}),g.jsx(Ws,{children:T})]}),h&&f&&g.jsxs("div",{className:"rounded-2xl border border-card-border/50 bg-card/30 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-semibold",children:"Simulation output"}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"These values come from the on-chain hint helper."})]}),g.jsx(gc,{variant:"secondary",children:"Ready"})]}),g.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-muted-foreground",children:"Truncated amount"}),g.jsxs("p",{className:"text-xl font-semibold text-foreground",children:[DM(h.truncatedAmount,18,4)," MUSD"]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-muted-foreground",children:"Gas estimate"}),g.jsxs("p",{className:"text-xl font-semibold text-foreground",children:[Number(h.gasEstimate).toLocaleString()," gas units"]})]})]})]}),b&&g.jsxs(Gs,{children:[g.jsx(Vs,{children:"Redemption submitted"}),g.jsxs(Ws,{className:"space-y-1 text-sm",children:[g.jsx("p",{children:"Your redemption transaction was broadcast. Track it on the Mezo explorer."}),g.jsx("a",{href:`https://explorer.mezo.org/tx/${b.txHash}`,target:"_blank",rel:"noreferrer",className:"font-mono text-xs text-primary underline-offset-2 hover:underline",children:b.txHash})]})]}),!n.account&&g.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-dashed border-card-border/50 bg-muted/5 p-4 text-sm text-muted-foreground",children:[g.jsx(dA,{className:"h-4 w-4 text-primary"}),"Connect a wallet first to unlock simulations and transactions."]})]})]})})};let t5,n5;t5="https://bibgpjkwckxgexuhqvxx.supabase.co",n5="sb_publishable_c6DDEJ9NLyXI4e7ggxZGrg_hItB42iT";const ao=gA(t5,n5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ac=t=>{if(t.error)throw new Error(t.error.message);return t.data??[]},_M=t=>{if(t.error&&t.error.code!=="PGRST116")throw new Error(t.error.message);return t.data??null},UM=async()=>{const[t,e,n,r,s,i]=await Promise.all([ao.from("troves").select("*").order("collaterization_ratio",{ascending:!0}),ao.from("liquidations").select("*").order("block_timestamp",{ascending:!1}).limit(50),ao.from("redemptions").select("*").order("block_timestamp",{ascending:!1}).limit(50),ao.from("system_metrics_daily").select("*").order("day",{ascending:!1}).limit(30),ao.from("indexer_state").select("*").eq("key","latest_block").maybeSingle(),ao.from("bridge_assets").select("*").order("token_symbol",{ascending:!0})]),o=ac(t),a=ac(e),c=ac(n),l=ac(r),u=_M(s),d=ac(i);return{troves:o,liquidations:a,redemptions:c,dailyMetrics:l,indexerState:u,bridgeAssets:d}},jM=()=>{const{data:t,error:e,isLoading:n,isFetching:r,refetch:s,dataUpdatedAt:i}=oA({queryKey:["monitor-data"],queryFn:UM,refetchInterval:6e4,staleTime:3e4,refetchOnWindowFocus:!0,retry:1});return{troves:(t==null?void 0:t.troves)??[],liquidations:(t==null?void 0:t.liquidations)??[],redemptions:(t==null?void 0:t.redemptions)??[],dailyMetrics:(t==null?void 0:t.dailyMetrics)??[],indexerState:(t==null?void 0:t.indexerState)??null,bridgeAssets:(t==null?void 0:t.bridgeAssets)??[],isLoading:n,isFetching:r,error:e instanceof Error?e.message:null,refetch:s,lastUpdatedAt:t?new Date(i).toISOString():null}},$M="6.15.0";function zM(t,e,n){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function ft(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function oe(t,e,n){for(let r in e){let s=e[r];const i=n?n[r]:null;i&&zM(s,i,r),Object.defineProperty(t,r,{enumerable:!0,value:s,writable:!1})}}function bo(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>bo(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let s=0;s<t.length;s++)r+=n[t[s]>>4],r+=n[t[s]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return bo(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${bo(r,e)}: ${bo(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function rt(t,e){return t&&t.code===e}function ym(t){return rt(t,"CALL_EXCEPTION")}function Oe(t,e,n){let r=t;{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${bo(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];i.push(o+"="+bo(a))}}i.push(`code=${e}`),i.push(`version=${$M}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return oe(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&oe(s,{shortMessage:r}),s}function V(t,e,n,r){if(!t)throw Oe(e,n,r)}function O(t,e,n,r){V(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function r5(t,e,n){n==null&&(n=""),n&&(n=": "+n),V(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),V(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function sf(t,e,n){if(n==null&&(n=""),t!==e){let r=n,s="new";n&&(r+=".",s+=" "+n),V(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function s5(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(s,s+2),16),s+=2;return r}O(!1,"invalid BytesLike value",e||"value",t)}function pe(t,e){return s5(t,e,!1)}function ht(t,e){return s5(t,e,!0)}function Se(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function gm(t){return Se(t,!0)||t instanceof Uint8Array}const _g="0123456789abcdef";function Z(t){const e=pe(t);let n="0x";for(let r=0;r<e.length;r++){const s=e[r];n+=_g[(s&240)>>4]+_g[s&15]}return n}function Le(t){return"0x"+t.map(e=>Z(e).substring(2)).join("")}function Io(t){return Se(t,!0)?(t.length-2)/2:pe(t).length}function Me(t,e,n){const r=pe(t);return n!=null&&n>r.length&&V(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Z(r.slice(e??0,n??r.length))}function i5(t,e,n){const r=pe(t);V(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(r,e-r.length):s.set(r,0),Z(s)}function Hr(t,e){return i5(t,e,!0)}function HM(t,e){return i5(t,e,!1)}const of=BigInt(0),xn=BigInt(1),wo=9007199254740991;function GM(t,e){const n=af(t,"value"),r=BigInt(he(e,"width"));if(V(n>>r===of,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-xn){const s=(xn<<r)-xn;return-((~n&s)+xn)}return n}function o5(t,e){let n=ee(t,"value");const r=BigInt(he(e,"width")),s=xn<<r-xn;if(n<of){n=-n,V(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(xn<<r)-xn;return(~n&i)+xn}else V(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function uc(t,e){const n=af(t,"value"),r=BigInt(he(e,"bits"));return n&(xn<<r)-xn}function ee(t,e){switch(typeof t){case"bigint":return t;case"number":return O(Number.isInteger(t),"underflow",e||"value",t),O(t>=-wo&&t<=wo,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){O(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}O(!1,"invalid BigNumberish value",e||"value",t)}function af(t,e){const n=ee(t,e);return V(n>=of,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Ug="0123456789abcdef";function bm(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Ug[n>>4],e+=Ug[n&15];return BigInt(e)}return ee(t)}function he(t,e){switch(typeof t){case"bigint":return O(t>=-wo&&t<=wo,"overflow",e||"value",t),Number(t);case"number":return O(Number.isInteger(t),"underflow",e||"value",t),O(t>=-wo&&t<=wo,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return he(BigInt(t),e)}catch(n){O(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}O(!1,"invalid numeric value",e||"value",t)}function VM(t){return he(bm(t))}function Os(t,e){let r=af(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=he(e,"width");for(V(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<s*2;)r="0"+r}return"0x"+r}function qe(t){const e=af(t,"value");if(e===of)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(n.substring(i,i+2),16)}return r}function vn(t){let e=Z(gm(t)?t:qe(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const jg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const $g=BigInt(58);function WM(t){const e=pe(t);let n=bm(e),r="";for(;n;)r=jg[Number(n%$g)]+r,n/=$g;for(let s=0;s<e.length&&!e[s];s++)r=jg[0]+r;return r}function qM(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return pe(e)}function QM(t){const e=pe(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var ko;class a5{constructor(e,n,r){_(this,"filter");_(this,"emitter");j(this,ko);C(this,ko,n),oe(this,{emitter:e,filter:r})}async removeListener(){v(this,ko)!=null&&await this.emitter.off(this.filter,v(this,ko))}}ko=new WeakMap;function KM(t,e,n,r,s){O(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function c5(t,e,n,r,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function JM(t,e,n,r,s){return t==="OVERLONG"?(O(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),c5(t,e,n))}const YM=Object.freeze({error:KM,ignore:c5,replace:JM});function ZM(t,e){e==null&&(e=YM.error);const n=pe(t,"bytes"),r=[];let s=0;for(;s<n.length;){const i=n[s++];if(!(i>>7)){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,r):s+=e("BAD_PREFIX",s-1,n,r);continue}if(s-1+o>=n.length){s+=e("OVERRUN",s-1,n,r);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=n[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,n,r),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,n,r,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,n,r,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,n,r,c);continue}r.push(c)}}return r}function Dr(t,e){O(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);O(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function XM(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Yu(t,e){return XM(ZM(t,e))}function l5(t){async function e(n,r){V(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();V(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),V(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=Oe("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{i=Oe("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let l;try{l=await fetch(n.url,c)}catch(f){throw clearTimeout(a),i||f}clearTimeout(a);const u={};l.headers.forEach((f,m)=>{u[m.toLowerCase()]=f});const d=await l.arrayBuffer(),p=d==null?null:new Uint8Array(d);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:p}}return e}const e9=12,t9=250;let zg=l5();const n9=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),r9=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let dp=!1;async function u5(t,e){try{const n=t.match(n9);if(!n)throw new Error("invalid data");return new Ss(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?qM(n[3]):i9(n[3]))}catch{return new Ss(599,"BAD REQUEST (invalid data: URI)",{},null,new ks(t))}}function d5(t){async function e(n,r){try{const s=n.match(r9);if(!s)throw new Error("invalid link");return new ks(`${t}${s[2]}`)}catch{return new Ss(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ks(n))}}return e}const au={data:u5,ipfs:d5("https://gateway.ipfs.io/ipfs/")},f5=new WeakMap;var ri,os;class s9{constructor(e){j(this,ri);j(this,os);C(this,ri,[]),C(this,os,!1),f5.set(e,()=>{if(!v(this,os)){C(this,os,!0);for(const n of v(this,ri))setTimeout(()=>{n()},0);C(this,ri,[])}})}addListener(e){V(!v(this,os),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),v(this,ri).push(e)}get cancelled(){return v(this,os)}checkSignal(){V(!this.cancelled,"cancelled","CANCELLED",{})}}ri=new WeakMap,os=new WeakMap;function cu(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Mo,Do,mn,wr,Lo,Fo,Je,Lt,vr,si,ii,oi,Fn,yn,as,ai,dc;const ud=class ud{constructor(e){j(this,ai);j(this,Mo);j(this,Do);j(this,mn);j(this,wr);j(this,Lo);j(this,Fo);j(this,Je);j(this,Lt);j(this,vr);j(this,si);j(this,ii);j(this,oi);j(this,Fn);j(this,yn);j(this,as);C(this,Fo,String(e)),C(this,Mo,!1),C(this,Do,!0),C(this,mn,{}),C(this,wr,""),C(this,Lo,3e5),C(this,yn,{slotInterval:t9,maxAttempts:e9}),C(this,as,null)}get url(){return v(this,Fo)}set url(e){C(this,Fo,String(e))}get body(){return v(this,Je)==null?null:new Uint8Array(v(this,Je))}set body(e){if(e==null)C(this,Je,void 0),C(this,Lt,void 0);else if(typeof e=="string")C(this,Je,Dr(e)),C(this,Lt,"text/plain");else if(e instanceof Uint8Array)C(this,Je,e),C(this,Lt,"application/octet-stream");else if(typeof e=="object")C(this,Je,Dr(JSON.stringify(e))),C(this,Lt,"application/json");else throw new Error("invalid body")}hasBody(){return v(this,Je)!=null}get method(){return v(this,wr)?v(this,wr):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),C(this,wr,String(e).toUpperCase())}get headers(){const e=Object.assign({},v(this,mn));return v(this,vr)&&(e.authorization=`Basic ${QM(Dr(v(this,vr)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&v(this,Lt)&&(e["content-type"]=v(this,Lt)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){v(this,mn)[String(e).toLowerCase()]=String(n)}clearHeaders(){C(this,mn,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return v(this,vr)||null}setCredentials(e,n){O(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),C(this,vr,`${e}:${n}`)}get allowGzip(){return v(this,Do)}set allowGzip(e){C(this,Do,!!e)}get allowInsecureAuthentication(){return!!v(this,Mo)}set allowInsecureAuthentication(e){C(this,Mo,!!e)}get timeout(){return v(this,Lo)}set timeout(e){O(e>=0,"timeout must be non-zero","timeout",e),C(this,Lo,e)}get preflightFunc(){return v(this,si)||null}set preflightFunc(e){C(this,si,e)}get processFunc(){return v(this,ii)||null}set processFunc(e){C(this,ii,e)}get retryFunc(){return v(this,oi)||null}set retryFunc(e){C(this,oi,e)}get getUrlFunc(){return v(this,as)||zg}set getUrlFunc(e){C(this,as,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${v(this,Je)?Z(v(this,Je)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(v(this,yn).slotInterval=e.slotInterval),e.maxAttempts!=null&&(v(this,yn).maxAttempts=e.maxAttempts)}send(){return V(v(this,Fn)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),C(this,Fn,new s9(this)),J(this,ai,dc).call(this,0,Hg()+this.timeout,0,this,new Ss(0,"",{},null,this))}cancel(){V(v(this,Fn)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=f5.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();V(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new ud(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,C(s,mn,Object.assign({},v(this,mn))),v(this,Je)&&C(s,Je,new Uint8Array(v(this,Je))),C(s,Lt,v(this,Lt)),s}clone(){const e=new ud(this.url);return C(e,wr,v(this,wr)),v(this,Je)&&C(e,Je,v(this,Je)),C(e,Lt,v(this,Lt)),C(e,mn,Object.assign({},v(this,mn))),C(e,vr,v(this,vr)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),C(e,si,v(this,si)),C(e,ii,v(this,ii)),C(e,oi,v(this,oi)),C(e,yn,Object.assign({},v(this,yn))),C(e,as,v(this,as)),e}static lockConfig(){dp=!0}static getGateway(e){return au[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(dp)throw new Error("gateways locked");au[e]=n}static registerGetUrl(e){if(dp)throw new Error("gateways locked");zg=e}static createGetUrlFunc(e){return l5(e)}static createDataGateway(){return u5}static createIpfsGatewayFunc(e){return d5(e)}};Mo=new WeakMap,Do=new WeakMap,mn=new WeakMap,wr=new WeakMap,Lo=new WeakMap,Fo=new WeakMap,Je=new WeakMap,Lt=new WeakMap,vr=new WeakMap,si=new WeakMap,ii=new WeakMap,oi=new WeakMap,Fn=new WeakMap,yn=new WeakMap,as=new WeakMap,ai=new WeakSet,dc=async function(e,n,r,s,i){var u,d,p;if(e>=v(this,yn).maxAttempts)return i.makeServerError("exceeded maximum retry limit");V(Hg()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await o9(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in au){const f=await au[a](o.url,cu(v(s,Fn)));if(f instanceof Ss){let m=f;if(this.processFunc){cu(v(s,Fn));try{m=await this.processFunc(o,m)}catch(h){(h.throttle==null||typeof h.stall!="number")&&m.makeServerError("error in post-processing function",h).assertOk()}}return m}o=f}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,cu(v(s,Fn)));let l=new Ss(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const f=l.headers.location||"";return J(u=o.redirect(f),ai,dc).call(u,e+1,n,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){const f=l.headers["retry-after"];let m=v(this,yn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof f=="string"&&f.match(/^[1-9][0-9]*$/)&&(m=parseInt(f)),J(d=o.clone(),ai,dc).call(d,e+1,n,m,s,l)}if(this.processFunc){cu(v(s,Fn));try{l=await this.processFunc(o,l)}catch(f){(f.throttle==null||typeof f.stall!="number")&&l.makeServerError("error in post-processing function",f).assertOk();let m=v(this,yn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(m=f.stall),J(p=o.clone(),ai,dc).call(p,e+1,n,m,s,l)}}return l};let ks=ud;var ll,ul,dl,Ft,_o,ci;const Lm=class Lm{constructor(e,n,r,s,i){j(this,ll);j(this,ul);j(this,dl);j(this,Ft);j(this,_o);j(this,ci);C(this,ll,e),C(this,ul,n),C(this,dl,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),C(this,Ft,s==null?null:new Uint8Array(s)),C(this,_o,i||null),C(this,ci,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${v(this,Ft)?Z(v(this,Ft)):"null"}>`}get statusCode(){return v(this,ll)}get statusMessage(){return v(this,ul)}get headers(){return Object.assign({},v(this,dl))}get body(){return v(this,Ft)==null?null:new Uint8Array(v(this,Ft))}get bodyText(){try{return v(this,Ft)==null?"":Yu(v(this,Ft))}catch{V(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{V(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new Lm(599,r,this.headers,this.body,v(this,_o)||void 0);return C(s,ci,{message:e,error:n}),s}throwThrottleError(e,n){n==null?n=-1:O(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw oe(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return v(this,Ft)!=null}get request(){return v(this,_o)}ok(){return v(this,ci).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=v(this,ci);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{v(this,Ft)&&(s=Yu(v(this,Ft)))}catch{}V(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};ll=new WeakMap,ul=new WeakMap,dl=new WeakMap,Ft=new WeakMap,_o=new WeakMap,ci=new WeakMap;let Ss=Lm;function Hg(){return new Date().getTime()}function i9(t){return Dr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function o9(t){return new Promise(e=>setTimeout(e,t))}function a9(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Gg(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function Vg(t,e,n,r){const s=[];for(;n<e+1+r;){const i=p5(t,n);s.push(i.result),n+=i.consumed,V(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:s}}function p5(t,e){V(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{V(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const s=Gg(t,e+1,r);return n(e+1+r+s),Vg(t,e,e+1+r,r+s)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),Vg(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const s=Gg(t,e+1,r);n(e+1+r+s);const i=Z(t.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const s=Z(t.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:a9(t[e])}}function $l(t){const e=pe(t,"data"),n=p5(e,0);return O(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function Wg(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function h5(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(h5(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=Wg(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(pe(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=Wg(e.length);return n.unshift(183+n.length),n.concat(e)}const qg="0123456789abcdef";function Ms(t){let e="0x";for(const n of h5(t))e+=qg[n>>4],e+=qg[n&15];return e}const mt=32,Th=new Uint8Array(mt),c9=["then"],lu={},m5=new WeakMap;function qs(t){return m5.get(t)}function Qg(t,e){m5.set(t,e)}function cc(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function Ph(t,e,n){return t.indexOf(null)>=0?e.map((r,s)=>r instanceof Ia?Ph(qs(r),r,n):r):t.reduce((r,s,i)=>{let o=e.getValue(s);return s in r||(n&&o instanceof Ia&&(o=Ph(qs(o),o,n)),r[s]=o),r},{})}var Uo;const vo=class vo extends Array{constructor(...n){const r=n[0];let s=n[1],i=(n[2]||[]).slice(),o=!0;r!==lu&&(s=n,i=[],o=!1);super(s.length);j(this,Uo);s.forEach((l,u)=>{this[u]=l});const a=i.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(Qg(this,Object.freeze(s.map((l,u)=>{const d=i[u];return d!=null&&a.get(d)===1?d:null}))),C(this,Uo,[]),v(this,Uo)==null&&v(this,Uo),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(l,u,d)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const f=he(u,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const m=l[f];return m instanceof Error&&cc(`index ${f}`,m),m}if(c9.indexOf(u)>=0)return Reflect.get(l,u,d);const p=l[u];if(p instanceof Function)return function(...f){return p.apply(this===d?l:this,f)};if(!(u in l))return l.getValue.apply(this===d?l:this,[u])}return Reflect.get(l,u,d)}});return Qg(c,qs(this)),c}toArray(n){const r=[];return this.forEach((s,i)=>{s instanceof Error&&cc(`index ${i}`,s),n&&s instanceof vo&&(s=s.toArray(n)),r.push(s)}),r}toObject(n){const r=qs(this);return r.reduce((s,i,o)=>(V(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Ph(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=qs(this),i=[],o=[];for(let a=n;a<r;a++)i.push(this[a]),o.push(s[a]);return new vo(lu,i,o)}filter(n,r){const s=qs(this),i=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&cc(`index ${a}`,c),n.call(r,c,a,this)&&(i.push(c),o.push(s[a]))}return new vo(lu,i,o)}map(n,r){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&cc(`index ${i}`,o),s.push(n.call(r,o,i,this))}return s}getValue(n){const r=qs(this).indexOf(n);if(r===-1)return;const s=this[r];return s instanceof Error&&cc(`property ${JSON.stringify(n)}`,s.error),s}static fromItems(n,r){return new vo(lu,n,r)}};Uo=new WeakMap;let Ia=vo;function Kg(t){let e=qe(t);return V(e.length<=mt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:mt,offset:e.length}),e.length!==mt&&(e=ht(Le([Th.slice(e.length%mt),e]))),e}class Wr{constructor(e,n,r,s){_(this,"name");_(this,"type");_(this,"localName");_(this,"dynamic");oe(this,{name:e,type:n,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){O(!1,e,this.localName,n)}}var xr,li,jo,Tu;class Ch{constructor(){j(this,jo);j(this,xr);j(this,li);C(this,xr,[]),C(this,li,0)}get data(){return Le(v(this,xr))}get length(){return v(this,li)}appendWriter(e){return J(this,jo,Tu).call(this,ht(e.data))}writeBytes(e){let n=ht(e);const r=n.length%mt;return r&&(n=ht(Le([n,Th.slice(r)]))),J(this,jo,Tu).call(this,n)}writeValue(e){return J(this,jo,Tu).call(this,Kg(e))}writeUpdatableValue(){const e=v(this,xr).length;return v(this,xr).push(Th),C(this,li,v(this,li)+mt),n=>{v(this,xr)[e]=Kg(n)}}}xr=new WeakMap,li=new WeakMap,jo=new WeakSet,Tu=function(e){return v(this,xr).push(e),C(this,li,v(this,li)+e.length),e.length};var wt,_t,ui,di,cs,ji,Nh,y5;const Fm=class Fm{constructor(e,n,r){j(this,ji);_(this,"allowLoose");j(this,wt);j(this,_t);j(this,ui);j(this,di);j(this,cs);oe(this,{allowLoose:!!n}),C(this,wt,ht(e)),C(this,ui,0),C(this,di,null),C(this,cs,r??1024),C(this,_t,0)}get data(){return Z(v(this,wt))}get dataLength(){return v(this,wt).length}get consumed(){return v(this,_t)}get bytes(){return new Uint8Array(v(this,wt))}subReader(e){const n=new Fm(v(this,wt).slice(v(this,_t)+e),this.allowLoose,v(this,cs));return C(n,di,this),n}readBytes(e,n){let r=J(this,ji,y5).call(this,0,e,!!n);return J(this,ji,Nh).call(this,e),C(this,_t,v(this,_t)+r.length),r.slice(0,e)}readValue(){return bm(this.readBytes(mt))}readIndex(){return VM(this.readBytes(mt))}};wt=new WeakMap,_t=new WeakMap,ui=new WeakMap,di=new WeakMap,cs=new WeakMap,ji=new WeakSet,Nh=function(e){var n;if(v(this,di))return J(n=v(this,di),ji,Nh).call(n,e);C(this,ui,v(this,ui)+e),V(v(this,cs)<1||v(this,ui)<=v(this,cs)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${v(this,cs)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ht(v(this,wt)),offset:v(this,_t),length:e,info:{bytesRead:v(this,ui),dataLength:this.dataLength}})},y5=function(e,n,r){let s=Math.ceil(n/mt)*mt;return v(this,_t)+s>v(this,wt).length&&(this.allowLoose&&r&&v(this,_t)+n<=v(this,wt).length?s=n:V(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ht(v(this,wt)),length:v(this,wt).length,offset:v(this,_t)+s})),v(this,wt).slice(v(this,_t),v(this,_t)+s)};let Sh=Fm;function Zu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function wm(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function l9(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Zu(t.outputLen),Zu(t.blockLen)}function Ba(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function g5(t,e){wm(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const fp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const b5=t=>t instanceof Uint8Array,u9=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),pp=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Dn=(t,e)=>t<<32-e|t>>>e,d9=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!d9)throw new Error("Non little-endian hardware is not supported");function f9(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function cf(t){if(typeof t=="string"&&(t=f9(t)),!b5(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function p9(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!b5(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class vm{clone(){return this._cloneInto()}}function xm(t){const e=r=>t().update(cf(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function h9(t=32){if(fp&&typeof fp.getRandomValues=="function")return fp.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class w5 extends vm{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,l9(e);const r=cf(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Ba(this),this.iHash.update(e),this}digestInto(e){Ba(this),wm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const v5=(t,e,n)=>new w5(t,e).update(n).digest();v5.create=(t,e)=>new w5(t,e);function m9(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}class x5 extends vm{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pp(this.buffer)}update(e){Ba(this);const{view:n,buffer:r,blockLen:s}=this;e=cf(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=pp(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ba(this),g5(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;m9(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=pp(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const y9=(t,e,n)=>t&e^~t&n,g9=(t,e,n)=>t&e^t&n^e&n,b9=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),es=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ts=new Uint32Array(64);class w9 extends x5{constructor(){super(64,32,8,!1),this.A=es[0]|0,this.B=es[1]|0,this.C=es[2]|0,this.D=es[3]|0,this.E=es[4]|0,this.F=es[5]|0,this.G=es[6]|0,this.H=es[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ts[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const p=ts[d-15],f=ts[d-2],m=Dn(p,7)^Dn(p,18)^p>>>3,h=Dn(f,17)^Dn(f,19)^f>>>10;ts[d]=h+ts[d-7]+m+ts[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const p=Dn(a,6)^Dn(a,11)^Dn(a,25),f=u+p+y9(a,c,l)+b9[d]+ts[d]|0,h=(Dn(r,2)^Dn(r,13)^Dn(r,22))+g9(r,s,i)|0;u=l,l=c,c=a,a=o+f|0,o=i,i=s,s=r,r=f+h|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){ts.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const A5=xm(()=>new w9),uu=BigInt(2**32-1),Rh=BigInt(32);function E5(t,e=!1){return e?{h:Number(t&uu),l:Number(t>>Rh&uu)}:{h:Number(t>>Rh&uu)|0,l:Number(t&uu)|0}}function T5(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=E5(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const v9=(t,e)=>BigInt(t>>>0)<<Rh|BigInt(e>>>0),x9=(t,e,n)=>t>>>n,A9=(t,e,n)=>t<<32-n|e>>>n,E9=(t,e,n)=>t>>>n|e<<32-n,T9=(t,e,n)=>t<<32-n|e>>>n,P9=(t,e,n)=>t<<64-n|e>>>n-32,C9=(t,e,n)=>t>>>n-32|e<<64-n,S9=(t,e)=>e,N9=(t,e)=>t,P5=(t,e,n)=>t<<n|e>>>32-n,C5=(t,e,n)=>e<<n|t>>>32-n,S5=(t,e,n)=>e<<n-32|t>>>64-n,N5=(t,e,n)=>t<<n-32|e>>>64-n;function R9(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const I9=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),B9=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,O9=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),k9=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,M9=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),D9=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,de={fromBig:E5,split:T5,toBig:v9,shrSH:x9,shrSL:A9,rotrSH:E9,rotrSL:T9,rotrBH:P9,rotrBL:C9,rotr32H:S9,rotr32L:N9,rotlSH:P5,rotlSL:C5,rotlBH:S5,rotlBL:N5,add:R9,add3L:I9,add3H:B9,add4L:O9,add4H:k9,add5H:D9,add5L:M9},[L9,F9]=de.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ns=new Uint32Array(80),rs=new Uint32Array(80);class _9 extends x5{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:p,Gh:f,Gl:m,Hh:h,Hl:y}=this;return[e,n,r,s,i,o,a,c,l,u,d,p,f,m,h,y]}set(e,n,r,s,i,o,a,c,l,u,d,p,f,m,h,y){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=p|0,this.Gh=f|0,this.Gl=m|0,this.Hh=h|0,this.Hl=y|0}process(e,n){for(let x=0;x<16;x++,n+=4)ns[x]=e.getUint32(n),rs[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const A=ns[x-15]|0,T=rs[x-15]|0,P=de.rotrSH(A,T,1)^de.rotrSH(A,T,8)^de.shrSH(A,T,7),S=de.rotrSL(A,T,1)^de.rotrSL(A,T,8)^de.shrSL(A,T,7),R=ns[x-2]|0,M=rs[x-2]|0,F=de.rotrSH(R,M,19)^de.rotrBH(R,M,61)^de.shrSH(R,M,6),B=de.rotrSL(R,M,19)^de.rotrBL(R,M,61)^de.shrSL(R,M,6),D=de.add4L(S,B,rs[x-7],rs[x-16]),$=de.add4H(D,P,F,ns[x-7],ns[x-16]);ns[x]=$|0,rs[x]=D|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:p,Fh:f,Fl:m,Gh:h,Gl:y,Hh:b,Hl:E}=this;for(let x=0;x<80;x++){const A=de.rotrSH(d,p,14)^de.rotrSH(d,p,18)^de.rotrBH(d,p,41),T=de.rotrSL(d,p,14)^de.rotrSL(d,p,18)^de.rotrBL(d,p,41),P=d&f^~d&h,S=p&m^~p&y,R=de.add5L(E,T,S,F9[x],rs[x]),M=de.add5H(R,b,A,P,L9[x],ns[x]),F=R|0,B=de.rotrSH(r,s,28)^de.rotrBH(r,s,34)^de.rotrBH(r,s,39),D=de.rotrSL(r,s,28)^de.rotrBL(r,s,34)^de.rotrBL(r,s,39),$=r&i^r&a^i&a,z=s&o^s&c^o&c;b=h|0,E=y|0,h=f|0,y=m|0,f=d|0,m=p|0,{h:d,l:p}=de.add(l|0,u|0,M|0,F|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const N=de.add3L(F,D,z);r=de.add3H(N,M,B,$),s=N|0}({h:r,l:s}=de.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=de.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=de.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=de.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:p}=de.add(this.Eh|0,this.El|0,d|0,p|0),{h:f,l:m}=de.add(this.Fh|0,this.Fl|0,f|0,m|0),{h,l:y}=de.add(this.Gh|0,this.Gl|0,h|0,y|0),{h:b,l:E}=de.add(this.Hh|0,this.Hl|0,b|0,E|0),this.set(r,s,i,o,a,c,l,u,d,p,f,m,h,y,b,E)}roundClean(){ns.fill(0),rs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const U9=xm(()=>new _9);function j9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Jg=j9();Jg.crypto||Jg.msCrypto;function $9(t){switch(t){case"sha256":return A5.create();case"sha512":return U9.create()}O(!1,"invalid hashing algorithm name","algorithm",t)}const[R5,I5,B5]=[[],[],[]],z9=BigInt(0),lc=BigInt(1),H9=BigInt(2),G9=BigInt(7),V9=BigInt(256),W9=BigInt(113);for(let t=0,e=lc,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],R5.push(2*(5*r+n)),I5.push((t+1)*(t+2)/2%64);let s=z9;for(let i=0;i<7;i++)e=(e<<lc^(e>>G9)*W9)%V9,e&H9&&(s^=lc<<(lc<<BigInt(i))-lc);B5.push(s)}const[q9,Q9]=T5(B5,!0),Yg=(t,e,n)=>n>32?S5(t,e,n):P5(t,e,n),Zg=(t,e,n)=>n>32?N5(t,e,n):C5(t,e,n);function K9(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=Yg(l,u,1)^n[a],p=Zg(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=p}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=I5[o],c=Yg(s,i,a),l=Zg(s,i,a),u=R5[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=q9[r],t[1]^=Q9[r]}n.fill(0)}class Am extends vm{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Zu(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u9(this.state)}keccak(){K9(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ba(this);const{blockLen:n,state:r}=this;e=cf(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ba(this,!1),wm(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Zu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(g5(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Am(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const J9=(t,e,n)=>xm(()=>new Am(e,t,n)),Y9=J9(1,136,256/8);let O5=!1;const k5=function(t){return Y9(t)};let M5=k5;function Ve(t){const e=pe(t,"data");return Z(M5(e))}Ve._=k5;Ve.lock=function(){O5=!0};Ve.register=function(t){if(O5)throw new TypeError("keccak256 is locked");M5=t};Object.freeze(Ve);const D5=function(t){return $9("sha256").update(t).digest()};let L5=D5,F5=!1;function Ka(t){const e=pe(t,"data");return Z(L5(e))}Ka._=D5;Ka.lock=function(){F5=!0};Ka.register=function(t){if(F5)throw new Error("sha256 is locked");L5=t};Object.freeze(Ka);Object.freeze(Ka);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _5=BigInt(0),lf=BigInt(1),Z9=BigInt(2),uf=t=>t instanceof Uint8Array,X9=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Oa(t){if(!uf(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=X9[t[n]];return e}function U5(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Em(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ka(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Ci(t){return Em(Oa(t))}function Tm(t){if(!uf(t))throw new Error("Uint8Array expected");return Em(Oa(Uint8Array.from(t).reverse()))}function Ma(t,e){return ka(t.toString(16).padStart(e*2,"0"))}function Pm(t,e){return Ma(t,e).reverse()}function eD(t){return ka(U5(t))}function hn(t,e,n){let r;if(typeof e=="string")try{r=ka(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(uf(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function Zc(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!uf(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function tD(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function nD(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function rD(t){let e;for(e=0;t>_5;t>>=lf,e+=1);return e}function sD(t,e){return t>>BigInt(e)&lf}const iD=(t,e,n)=>t|(n?lf:_5)<<BigInt(e),Cm=t=>(Z9<<BigInt(t-1))-lf,hp=t=>new Uint8Array(t),Xg=t=>Uint8Array.from(t);function j5(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=hp(t),s=hp(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=hp())=>{s=a(Xg([0]),d),r=a(),d.length!==0&&(s=a(Xg([1]),d),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const p=[];for(;d<e;){r=a();const f=r.slice();p.push(f),d+=r.length}return Zc(...p)};return(d,p)=>{o(),c(d);let f;for(;!(f=p(l()));)c();return o(),f}}const oD={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function zl(t,e,n={}){const r=(s,i,o)=>{const a=oD[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const aD=Object.freeze(Object.defineProperty({__proto__:null,bitGet:sD,bitLen:rD,bitMask:Cm,bitSet:iD,bytesToHex:Oa,bytesToNumberBE:Ci,bytesToNumberLE:Tm,concatBytes:Zc,createHmacDrbg:j5,ensureBytes:hn,equalBytes:tD,hexToBytes:ka,hexToNumber:Em,numberToBytesBE:Ma,numberToBytesLE:Pm,numberToHexUnpadded:U5,numberToVarBytesBE:eD,utf8ToBytes:nD,validateObject:zl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xe=BigInt(0),je=BigInt(1),Qs=BigInt(2),cD=BigInt(3),Ih=BigInt(4),eb=BigInt(5),tb=BigInt(8);BigInt(9);BigInt(16);function Et(t,e){const n=t%e;return n>=Xe?n:e+n}function lD(t,e,n){if(n<=Xe||e<Xe)throw new Error("Expected power/modulo > 0");if(n===je)return Xe;let r=je;for(;e>Xe;)e&je&&(r=r*t%n),t=t*t%n,e>>=je;return r}function Qt(t,e,n){let r=t;for(;e-- >Xe;)r*=r,r%=n;return r}function Bh(t,e){if(t===Xe||e<=Xe)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Et(t,e),r=e,s=Xe,i=je;for(;n!==Xe;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==je)throw new Error("invert: does not exist");return Et(s,e)}function uD(t){const e=(t-je)/Qs;let n,r,s;for(n=t-je,r=0;n%Qs===Xe;n/=Qs,r++);for(s=Qs;s<t&&lD(s,e,t)!==t-je;s++);if(r===1){const o=(t+je)/Ih;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(n+je)/Qs;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,s),n),d=a.pow(c,i),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let f=1;for(let h=a.sqr(p);f<l&&!a.eql(h,a.ONE);f++)h=a.sqr(h);const m=a.pow(u,je<<BigInt(l-f-1));u=a.sqr(m),d=a.mul(d,m),p=a.mul(p,u),l=f}return d}}function dD(t){if(t%Ih===cD){const e=(t+je)/Ih;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%tb===eb){const e=(t-eb)/tb;return function(r,s){const i=r.mul(s,Qs),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Qs),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),s))throw new Error("Cannot find square root");return l}}return uD(t)}const fD=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pD(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=fD.reduce((r,s)=>(r[s]="function",r),e);return zl(t,n)}function hD(t,e,n){if(n<Xe)throw new Error("Expected power > 0");if(n===Xe)return t.ONE;if(n===je)return e;let r=t.ONE,s=e;for(;n>Xe;)n&je&&(r=t.mul(r,s)),s=t.sqr(s),n>>=je;return r}function mD(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function $5(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function yD(t,e,n=!1,r={}){if(t<=Xe)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=$5(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=dD(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:Cm(s),ZERO:Xe,ONE:je,create:c=>Et(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Xe<=c&&c<t},is0:c=>c===Xe,isOdd:c=>(c&je)===je,neg:c=>Et(-c,t),eql:(c,l)=>c===l,sqr:c=>Et(c*c,t),add:(c,l)=>Et(c+l,t),sub:(c,l)=>Et(c-l,t),mul:(c,l)=>Et(c*l,t),pow:(c,l)=>hD(a,c,l),div:(c,l)=>Et(c*Bh(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Bh(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>mD(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Pm(c,i):Ma(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return n?Tm(c):Ci(c)}});return Object.freeze(a)}function z5(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function H5(t){const e=z5(t);return e+Math.ceil(e/2)}function gD(t,e,n=!1){const r=t.length,s=z5(e),i=H5(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?Ci(t):Tm(t),a=Et(o,e-je)+je;return n?Pm(a,s):Ma(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bD=BigInt(0),mp=BigInt(1);function wD(t,e){const n=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>bD;)i&mp&&(o=o.add(a)),a=a.double(),i>>=mp;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let l=s,u=l;for(let d=0;d<o;d++){u=l,c.push(u);for(let p=1;p<a;p++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let l=t.ZERO,u=t.BASE;const d=BigInt(2**s-1),p=2**s,f=BigInt(s);for(let m=0;m<a;m++){const h=m*c;let y=Number(o&d);o>>=f,y>c&&(y-=p,o+=mp);const b=h,E=h+Math.abs(y)-1,x=m%2!==0,A=y<0;y===0?u=u.add(n(x,i[b])):l=l.add(n(A,i[E]))}return{p:l,f:u}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,a(l))),this.wNAF(c,l,o)}}}function G5(t){return pD(t.Fp),zl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$5(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vD(t){const e=G5(t);zl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:xD,hexToBytes:AD}=aD,ei={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ei;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:xD(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ei,n=typeof t=="string"?AD(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ei._parseInt(n.subarray(2)),{d:o,l:a}=ei._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,o=s.length/2,a=n(i),c=n(o);return`30${n(o+i+4)}02${c}${s}02${a}${r}`}},Br=BigInt(0),nn=BigInt(1);BigInt(2);const nb=BigInt(3);BigInt(4);function ED(t){const e=vD(t),{Fp:n}=e,r=e.toBytes||((m,h,y)=>{const b=h.toAffine();return Zc(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=e.fromBytes||(m=>{const h=m.subarray(1),y=n.fromBytes(h.subarray(0,n.BYTES)),b=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b}});function i(m){const{a:h,b:y}=e,b=n.sqr(m),E=n.mul(b,m);return n.add(n.add(E,n.mul(m,h)),y)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Br<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:h,nByteLength:y,wrapPrivateKey:b,n:E}=e;if(h&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Oa(m)),typeof m!="string"||!h.includes(m.length))throw new Error("Invalid key");m=m.padStart(y*2,"0")}let x;try{x=typeof m=="bigint"?m:Ci(hn("private key",m,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof m}`)}return b&&(x=Et(x,E)),a(x),x}const l=new Map;function u(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(h,y,b){if(this.px=h,this.py=y,this.pz=b,h==null||!n.isValid(h))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(h){const{x:y,y:b}=h||{};if(!h||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(h instanceof d)throw new Error("projective point not allowed");const E=x=>n.eql(x,n.ZERO);return E(y)&&E(b)?d.ZERO:new d(y,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const y=n.invertBatch(h.map(b=>b.pz));return h.map((b,E)=>b.toAffine(y[E])).map(d.fromAffine)}static fromHex(h){const y=d.fromAffine(s(hn("pointHex",h)));return y.assertValidity(),y}static fromPrivateKey(h){return d.BASE.multiply(c(h))}_setWindowSize(h){this._WINDOW_SIZE=h,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:h,y}=this.toAffine();if(!n.isValid(h)||!n.isValid(y))throw new Error("bad point: x or y not FE");const b=n.sqr(y),E=i(h);if(!n.eql(b,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){u(h);const{px:y,py:b,pz:E}=this,{px:x,py:A,pz:T}=h,P=n.eql(n.mul(y,T),n.mul(x,E)),S=n.eql(n.mul(b,T),n.mul(A,E));return P&&S}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b:y}=e,b=n.mul(y,nb),{px:E,py:x,pz:A}=this;let T=n.ZERO,P=n.ZERO,S=n.ZERO,R=n.mul(E,E),M=n.mul(x,x),F=n.mul(A,A),B=n.mul(E,x);return B=n.add(B,B),S=n.mul(E,A),S=n.add(S,S),T=n.mul(h,S),P=n.mul(b,F),P=n.add(T,P),T=n.sub(M,P),P=n.add(M,P),P=n.mul(T,P),T=n.mul(B,T),S=n.mul(b,S),F=n.mul(h,F),B=n.sub(R,F),B=n.mul(h,B),B=n.add(B,S),S=n.add(R,R),R=n.add(S,R),R=n.add(R,F),R=n.mul(R,B),P=n.add(P,R),F=n.mul(x,A),F=n.add(F,F),R=n.mul(F,B),T=n.sub(T,R),S=n.mul(F,M),S=n.add(S,S),S=n.add(S,S),new d(T,P,S)}add(h){u(h);const{px:y,py:b,pz:E}=this,{px:x,py:A,pz:T}=h;let P=n.ZERO,S=n.ZERO,R=n.ZERO;const M=e.a,F=n.mul(e.b,nb);let B=n.mul(y,x),D=n.mul(b,A),$=n.mul(E,T),z=n.add(y,b),N=n.add(x,A);z=n.mul(z,N),N=n.add(B,D),z=n.sub(z,N),N=n.add(y,E);let I=n.add(x,T);return N=n.mul(N,I),I=n.add(B,$),N=n.sub(N,I),I=n.add(b,E),P=n.add(A,T),I=n.mul(I,P),P=n.add(D,$),I=n.sub(I,P),R=n.mul(M,N),P=n.mul(F,$),R=n.add(P,R),P=n.sub(D,R),R=n.add(D,R),S=n.mul(P,R),D=n.add(B,B),D=n.add(D,B),$=n.mul(M,$),N=n.mul(F,N),D=n.add(D,$),$=n.sub(B,$),$=n.mul(M,$),N=n.add(N,$),B=n.mul(D,N),S=n.add(S,B),B=n.mul(I,N),P=n.mul(z,P),P=n.sub(P,B),B=n.mul(z,D),R=n.mul(I,R),R=n.add(R,B),new d(P,S,R)}subtract(h){return this.add(h.negate())}is0(){return this.equals(d.ZERO)}wNAF(h){return f.wNAFCached(this,l,h,y=>{const b=n.invertBatch(y.map(E=>E.pz));return y.map((E,x)=>E.toAffine(b[x])).map(d.fromAffine)})}multiplyUnsafe(h){const y=d.ZERO;if(h===Br)return y;if(a(h),h===nn)return this;const{endo:b}=e;if(!b)return f.unsafeLadder(this,h);let{k1neg:E,k1:x,k2neg:A,k2:T}=b.splitScalar(h),P=y,S=y,R=this;for(;x>Br||T>Br;)x&nn&&(P=P.add(R)),T&nn&&(S=S.add(R)),R=R.double(),x>>=nn,T>>=nn;return E&&(P=P.negate()),A&&(S=S.negate()),S=new d(n.mul(S.px,b.beta),S.py,S.pz),P.add(S)}multiply(h){a(h);let y=h,b,E;const{endo:x}=e;if(x){const{k1neg:A,k1:T,k2neg:P,k2:S}=x.splitScalar(y);let{p:R,f:M}=this.wNAF(T),{p:F,f:B}=this.wNAF(S);R=f.constTimeNegate(A,R),F=f.constTimeNegate(P,F),F=new d(n.mul(F.px,x.beta),F.py,F.pz),b=R.add(F),E=M.add(B)}else{const{p:A,f:T}=this.wNAF(y);b=A,E=T}return d.normalizeZ([b,E])[0]}multiplyAndAddUnsafe(h,y,b){const E=d.BASE,x=(T,P)=>P===Br||P===nn||!T.equals(E)?T.multiplyUnsafe(P):T.multiply(P),A=x(this,y).add(x(h,b));return A.is0()?void 0:A}toAffine(h){const{px:y,py:b,pz:E}=this,x=this.is0();h==null&&(h=x?n.ONE:n.inv(E));const A=n.mul(y,h),T=n.mul(b,h),P=n.mul(E,h);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:A,y:T}}isTorsionFree(){const{h,isTorsionFree:y}=e;if(h===nn)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:y}=e;return h===nn?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(h=!0){return this.assertValidity(),r(d,this,h)}toHex(h=!0){return Oa(this.toRawBytes(h))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,f=wD(d,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function TD(t){const e=G5(t);return zl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function PD(t){const e=TD(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(N){return Br<N&&N<n.ORDER}function a(N){return Et(N,r)}function c(N){return Bh(N,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:p}=ED({...e,toBytes(N,I,U){const k=I.toAffine(),L=n.toBytes(k.x),G=Zc;return U?G(Uint8Array.from([I.hasEvenY()?2:3]),L):G(Uint8Array.from([4]),L,n.toBytes(k.y))},fromBytes(N){const I=N.length,U=N[0],k=N.subarray(1);if(I===s&&(U===2||U===3)){const L=Ci(k);if(!o(L))throw new Error("Point is not on curve");const G=d(L);let q=n.sqrt(G);const K=(q&nn)===nn;return(U&1)===1!==K&&(q=n.neg(q)),{x:L,y:q}}else if(I===i&&U===4){const L=n.fromBytes(k.subarray(0,n.BYTES)),G=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:L,y:G}}else throw new Error(`Point of length ${I} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),f=N=>Oa(Ma(N,e.nByteLength));function m(N){const I=r>>nn;return N>I}function h(N){return m(N)?a(-N):N}const y=(N,I,U)=>Ci(N.slice(I,U));class b{constructor(I,U,k){this.r=I,this.s=U,this.recovery=k,this.assertValidity()}static fromCompact(I){const U=e.nByteLength;return I=hn("compactSignature",I,U*2),new b(y(I,0,U),y(I,U,2*U))}static fromDER(I){const{r:U,s:k}=ei.toSig(hn("DER",I));return new b(U,k)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new b(this.r,this.s,I)}recoverPublicKey(I){const{r:U,s:k,recovery:L}=this,G=S(hn("msgHash",I));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const q=L===2||L===3?U+e.n:U;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=L&1?"03":"02",te=l.fromHex(K+f(q)),Q=c(q),se=a(-G*Q),le=a(k*Q),ie=l.BASE.multiplyAndAddUnsafe(te,se,le);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ka(this.toDERHex())}toDERHex(){return ei.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ka(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const E={isValidPrivateKey(N){try{return u(N),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const N=H5(e.n);return gD(e.randomBytes(N),e.n)},precompute(N=8,I=l.BASE){return I._setWindowSize(N),I.multiply(BigInt(3)),I}};function x(N,I=!0){return l.fromPrivateKey(N).toRawBytes(I)}function A(N){const I=N instanceof Uint8Array,U=typeof N=="string",k=(I||U)&&N.length;return I?k===s||k===i:U?k===2*s||k===2*i:N instanceof l}function T(N,I,U=!0){if(A(N))throw new Error("first arg must be private key");if(!A(I))throw new Error("second arg must be public key");return l.fromHex(I).multiply(u(N)).toRawBytes(U)}const P=e.bits2int||function(N){const I=Ci(N),U=N.length*8-e.nBitLength;return U>0?I>>BigInt(U):I},S=e.bits2int_modN||function(N){return a(P(N))},R=Cm(e.nBitLength);function M(N){if(typeof N!="bigint")throw new Error("bigint expected");if(!(Br<=N&&N<R))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ma(N,e.nByteLength)}function F(N,I,U=B){if(["recovered","canonical"].some(Te=>Te in U))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:L}=e;let{lowS:G,prehash:q,extraEntropy:K}=U;G==null&&(G=!0),N=hn("msgHash",N),q&&(N=hn("prehashed msgHash",k(N)));const te=S(N),Q=u(I),se=[M(Q),M(te)];if(K!=null){const Te=K===!0?L(n.BYTES):K;se.push(hn("extraEntropy",Te))}const le=Zc(...se),ie=te;function Ce(Te){const Re=P(Te);if(!p(Re))return;const ze=c(Re),Ie=l.BASE.multiply(Re).toAffine(),Y=a(Ie.x);if(Y===Br)return;const ae=a(ze*a(ie+Y*Q));if(ae===Br)return;let He=(Ie.x===Y?0:2)|Number(Ie.y&nn),_e=ae;return G&&m(ae)&&(_e=h(ae),He^=1),new b(Y,_e,He)}return{seed:le,k2sig:Ce}}const B={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function $(N,I,U=B){const{seed:k,k2sig:L}=F(N,I,U),G=e;return j5(G.hash.outputLen,G.nByteLength,G.hmac)(k,L)}l.BASE._setWindowSize(8);function z(N,I,U,k=D){var Ie;const L=N;if(I=hn("msgHash",I),U=hn("publicKey",U),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:G,prehash:q}=k;let K,te;try{if(typeof L=="string"||L instanceof Uint8Array)try{K=b.fromDER(L)}catch(Y){if(!(Y instanceof ei.Err))throw Y;K=b.fromCompact(L)}else if(typeof L=="object"&&typeof L.r=="bigint"&&typeof L.s=="bigint"){const{r:Y,s:ae}=L;K=new b(Y,ae)}else throw new Error("PARSE");te=l.fromHex(U)}catch(Y){if(Y.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(G&&K.hasHighS())return!1;q&&(I=e.hash(I));const{r:Q,s:se}=K,le=S(I),ie=c(se),Ce=a(le*ie),Te=a(Q*ie),Re=(Ie=l.BASE.multiplyAndAddUnsafe(te,Ce,Te))==null?void 0:Ie.toAffine();return Re?a(Re.x)===Q:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:T,sign:$,verify:z,ProjectivePoint:l,Signature:b,utils:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function CD(t){return{hash:t,hmac:(e,...n)=>v5(t,e,p9(...n)),randomBytes:h9}}function SD(t,e){const n=r=>PD({...t,...CD(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V5=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ND=BigInt(1),Oh=BigInt(2),sb=(t,e)=>(t+e/Oh)/e;function RD(t){const e=V5,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Qt(u,n,e)*u%e,p=Qt(d,n,e)*u%e,f=Qt(p,Oh,e)*l%e,m=Qt(f,s,e)*f%e,h=Qt(m,i,e)*m%e,y=Qt(h,a,e)*h%e,b=Qt(y,c,e)*y%e,E=Qt(b,a,e)*h%e,x=Qt(E,n,e)*u%e,A=Qt(x,o,e)*m%e,T=Qt(A,r,e)*l%e,P=Qt(T,Oh,e);if(!kh.eql(kh.sqr(P),t))throw new Error("Cannot find square root");return P}const kh=yD(V5,void 0,void 0,{sqrt:RD}),is=SD({a:BigInt(0),b:BigInt(7),Fp:kh,n:rb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=rb,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ND*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=sb(i*t,e),c=sb(-r*t,e);let l=Et(t-a*n-c*s,e),u=Et(-a*r-c*i,e);const d=l>o,p=u>o;if(d&&(l=e-l),p&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:p,k2:u}}}},A5);BigInt(0);is.ProjectivePoint;const Xc="0x0000000000000000000000000000000000000000",ib="0x0000000000000000000000000000000000000000000000000000000000000000",ob=BigInt(0),ab=BigInt(1),cb=BigInt(2),lb=BigInt(27),ub=BigInt(28),du=BigInt(35),co={};function db(t){return Hr(qe(t),32)}var $o,_n,zo,fi;const pn=class pn{constructor(e,n,r,s){j(this,$o);j(this,_n);j(this,zo);j(this,fi);sf(e,co,"Signature"),C(this,$o,n),C(this,_n,r),C(this,zo,s),C(this,fi,null)}get r(){return v(this,$o)}set r(e){O(Io(e)===32,"invalid r","value",e),C(this,$o,Z(e))}get s(){return O(parseInt(v(this,_n).substring(0,3))<8,"non-canonical s; use ._s","s",v(this,_n)),v(this,_n)}set s(e){O(Io(e)===32,"invalid s","value",e),C(this,_n,Z(e))}get _s(){return v(this,_n)}isValid(){return parseInt(v(this,_n).substring(0,3))<8}get v(){return v(this,zo)}set v(e){const n=he(e,"value");O(n===27||n===28,"invalid v","v",e),C(this,zo,n)}get networkV(){return v(this,fi)}get legacyChainId(){const e=this.networkV;return e==null?null:pn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=pe(this.s);return this.yParity&&(e[0]|=128),Z(e)}get compactSerialized(){return Le([this.r,this.yParityAndS])}get serialized(){return Le([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new pn(co,this.r,this._s,this.v);return this.networkV&&C(e,fi,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=ee(e,"v");return n==lb||n==ub?ob:(O(n>=du,"invalid EIP-155 v","v",e),(n-du)/cb)}static getChainIdV(e,n){return ee(e)*cb+BigInt(35+n-27)}static getNormalizedV(e){const n=ee(e);return n===ob||n===lb?27:n===ab||n===ub?28:(O(n>=du,"invalid v","v",e),n&ab?27:28)}static from(e){function n(l,u){O(l,u,"signature",e)}if(e==null)return new pn(co,ib,ib,27);if(typeof e=="string"){const l=pe(e,"signature");if(l.length===64){const u=Z(l.slice(0,32)),d=l.slice(32,64),p=d[0]&128?28:27;return d[0]&=127,new pn(co,u,Z(d),p)}if(l.length===65){const u=Z(l.slice(0,32)),d=Z(l.slice(32,64)),p=pn.getNormalizedV(l[64]);return new pn(co,u,d,p)}n(!1,"invalid raw signature length")}if(e instanceof pn)return e.clone();const r=e.r;n(r!=null,"missing r");const s=db(r),i=function(l,u){if(l!=null)return db(l);if(u!=null){n(Se(u,32),"invalid yParityAndS");const d=pe(u);return d[0]&=127,Z(d)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(l,u,d){if(l!=null){const p=ee(l);return{networkV:p>=du?p:void 0,v:pn.getNormalizedV(p)}}if(u!=null)return n(Se(u,32),"invalid yParityAndS"),{v:pe(u)[0]&128?28:27};if(d!=null){switch(he(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new pn(co,s,i,a);return o&&C(c,fi,o),n(e.yParity==null||he(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};$o=new WeakMap,_n=new WeakMap,zo=new WeakMap,fi=new WeakMap;let Nt=pn;var Ar;const Ks=class Ks{constructor(e){j(this,Ar);O(Io(e)===32,"invalid private key","privateKey","[REDACTED]"),C(this,Ar,Z(e))}get privateKey(){return v(this,Ar)}get publicKey(){return Ks.computePublicKey(v(this,Ar))}get compressedPublicKey(){return Ks.computePublicKey(v(this,Ar),!0)}sign(e){O(Io(e)===32,"invalid digest length","digest",e);const n=is.sign(ht(e),ht(v(this,Ar)),{lowS:!0});return Nt.from({r:Os(n.r,32),s:Os(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Ks.computePublicKey(e);return Z(is.getSharedSecret(ht(v(this,Ar)),pe(n),!1))}static computePublicKey(e,n){let r=pe(e,"key");if(r.length===32){const i=is.getPublicKey(r,!!n);return Z(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=is.ProjectivePoint.fromHex(r);return Z(s.toRawBytes(n))}static recoverPublicKey(e,n){O(Io(e)===32,"invalid digest length","digest",e);const r=Nt.from(n);let s=is.Signature.fromCompact(ht(Le([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(ht(e));return O(i!=null,"invalid signature for digest","signature",n),"0x"+i.toHex(!1)}static addPoints(e,n,r){const s=is.ProjectivePoint.fromHex(Ks.computePublicKey(e).substring(2)),i=is.ProjectivePoint.fromHex(Ks.computePublicKey(n).substring(2));return"0x"+s.add(i).toHex(!!r)}};Ar=new WeakMap;let el=Ks;const ID=BigInt(0),BD=BigInt(36);function fb(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=pe(Ve(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Sm={};for(let t=0;t<10;t++)Sm[String(t)]=String(t);for(let t=0;t<26;t++)Sm[String.fromCharCode(65+t)]=String(10+t);const pb=15;function OD(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Sm[r]).join("");for(;e.length>=pb;){let r=e.substring(0,pb);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const kD=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function MD(t){t=t.toLowerCase();let e=ID;for(let n=0;n<t.length;n++)e=e*BD+kD[t[n]];return e}function ve(t){if(O(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=fb(t);return O(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){O(t.substring(2,4)===OD(t),"bad icap checksum","address",t);let e=MD(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return fb("0x"+e)}O(!1,"invalid address","address",t)}function DD(t){const e=ve(t.from);let r=ee(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,ve(Me(Ve(Ms([e,r])),12))}function W5(t){return t&&typeof t.getAddress=="function"}async function yp(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(V(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),O(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ve(n)}function yt(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ve(t):(V(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),yp(t,e.resolveName(t)));if(W5(t))return yp(t,t.getAddress());if(t&&typeof t.then=="function")return yp(t,t);O(!1,"unsupported addressable value","target",t)}const pr={};function X(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new ut(pr,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function be(t,e){return new ut(pr,`bytes${e||""}`,t,{size:e})}const hb=Symbol.for("_ethers_typed");var pi;const hr=class hr{constructor(e,n,r,s){_(this,"type");_(this,"value");j(this,pi);_(this,"_typedSymbol");s==null&&(s=null),sf(pr,e,"Typed"),oe(this,{_typedSymbol:hb,type:n,value:r}),C(this,pi,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return v(this,pi)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return v(this,pi)===!0?-1:v(this,pi)===!1?this.value.length:null}static from(e,n){return new hr(pr,e,n)}static uint8(e){return X(e,8)}static uint16(e){return X(e,16)}static uint24(e){return X(e,24)}static uint32(e){return X(e,32)}static uint40(e){return X(e,40)}static uint48(e){return X(e,48)}static uint56(e){return X(e,56)}static uint64(e){return X(e,64)}static uint72(e){return X(e,72)}static uint80(e){return X(e,80)}static uint88(e){return X(e,88)}static uint96(e){return X(e,96)}static uint104(e){return X(e,104)}static uint112(e){return X(e,112)}static uint120(e){return X(e,120)}static uint128(e){return X(e,128)}static uint136(e){return X(e,136)}static uint144(e){return X(e,144)}static uint152(e){return X(e,152)}static uint160(e){return X(e,160)}static uint168(e){return X(e,168)}static uint176(e){return X(e,176)}static uint184(e){return X(e,184)}static uint192(e){return X(e,192)}static uint200(e){return X(e,200)}static uint208(e){return X(e,208)}static uint216(e){return X(e,216)}static uint224(e){return X(e,224)}static uint232(e){return X(e,232)}static uint240(e){return X(e,240)}static uint248(e){return X(e,248)}static uint256(e){return X(e,256)}static uint(e){return X(e,256)}static int8(e){return X(e,-8)}static int16(e){return X(e,-16)}static int24(e){return X(e,-24)}static int32(e){return X(e,-32)}static int40(e){return X(e,-40)}static int48(e){return X(e,-48)}static int56(e){return X(e,-56)}static int64(e){return X(e,-64)}static int72(e){return X(e,-72)}static int80(e){return X(e,-80)}static int88(e){return X(e,-88)}static int96(e){return X(e,-96)}static int104(e){return X(e,-104)}static int112(e){return X(e,-112)}static int120(e){return X(e,-120)}static int128(e){return X(e,-128)}static int136(e){return X(e,-136)}static int144(e){return X(e,-144)}static int152(e){return X(e,-152)}static int160(e){return X(e,-160)}static int168(e){return X(e,-168)}static int176(e){return X(e,-176)}static int184(e){return X(e,-184)}static int192(e){return X(e,-192)}static int200(e){return X(e,-200)}static int208(e){return X(e,-208)}static int216(e){return X(e,-216)}static int224(e){return X(e,-224)}static int232(e){return X(e,-232)}static int240(e){return X(e,-240)}static int248(e){return X(e,-248)}static int256(e){return X(e,-256)}static int(e){return X(e,-256)}static bytes1(e){return be(e,1)}static bytes2(e){return be(e,2)}static bytes3(e){return be(e,3)}static bytes4(e){return be(e,4)}static bytes5(e){return be(e,5)}static bytes6(e){return be(e,6)}static bytes7(e){return be(e,7)}static bytes8(e){return be(e,8)}static bytes9(e){return be(e,9)}static bytes10(e){return be(e,10)}static bytes11(e){return be(e,11)}static bytes12(e){return be(e,12)}static bytes13(e){return be(e,13)}static bytes14(e){return be(e,14)}static bytes15(e){return be(e,15)}static bytes16(e){return be(e,16)}static bytes17(e){return be(e,17)}static bytes18(e){return be(e,18)}static bytes19(e){return be(e,19)}static bytes20(e){return be(e,20)}static bytes21(e){return be(e,21)}static bytes22(e){return be(e,22)}static bytes23(e){return be(e,23)}static bytes24(e){return be(e,24)}static bytes25(e){return be(e,25)}static bytes26(e){return be(e,26)}static bytes27(e){return be(e,27)}static bytes28(e){return be(e,28)}static bytes29(e){return be(e,29)}static bytes30(e){return be(e,30)}static bytes31(e){return be(e,31)}static bytes32(e){return be(e,32)}static address(e){return new hr(pr,"address",e)}static bool(e){return new hr(pr,"bool",!!e)}static bytes(e){return new hr(pr,"bytes",e)}static string(e){return new hr(pr,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new hr(pr,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===hb}static dereference(e,n){if(hr.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};pi=new WeakMap;let ut=hr;class LD extends Wr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=ut.dereference(n,"string");try{r=ve(r)}catch(s){return this._throwError(s.message,n)}return e.writeValue(r)}decode(e){return ve(Os(e.readValue(),20))}}class FD extends Wr{constructor(n){super(n.name,n.type,"_",n.dynamic);_(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function q5(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(l=>{const u=l.localName;return V(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),V(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),c[u]=!0,n[u]})}else O(!1,"invalid tuple value","tuple",n);O(e.length===r.length,"types/value length mismatch","tuple",n);let s=new Ch,i=new Ch,o=[];e.forEach((c,l)=>{let u=r[l];if(c.dynamic){let d=i.length;c.encode(i,u);let p=s.writeUpdatableValue();o.push(f=>{p(f+d)})}else c.encode(s,u)}),o.forEach(c=>{c(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function Q5(t,e){let n=[],r=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(l){if(rt(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(rt(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");n.push(o),r.push(i.localName||null)}),Ia.fromItems(n,r)}class _D extends Wr{constructor(n,r,s){const i=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",i,s,o);_(this,"coder");_(this,"length");oe(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(n);return r}encode(n,r){const s=ut.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,n.writeValue(s.length)),r5(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return q5(n,o,s)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),V(r*mt<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*mt,length:n.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new FD(this.coder));return Q5(n,s)}}class UD extends Wr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=ut.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class K5 extends Wr{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=ht(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class jD extends K5{constructor(e){super("bytes",e)}decode(e){return Z(super.decode(e))}}class $D extends Wr{constructor(n,r){let s="bytes"+String(n);super(s,s,r,!1);_(this,"size");oe(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let s=ht(ut.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(s)}decode(n){return Z(n.readBytes(this.size))}}const zD=new Uint8Array([]);class HD extends Wr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(zD)}decode(e){return e.readBytes(0),null}}const GD=BigInt(0),VD=BigInt(1),WD=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class qD extends Wr{constructor(n,r,s){const i=(r?"int":"uint")+n*8;super(i,i,s,!1);_(this,"size");_(this,"signed");oe(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let s=ee(ut.dereference(r,this.type)),i=uc(WD,mt*8);if(this.signed){let o=uc(i,this.size*8-1);(s>o||s<-(o+VD))&&this._throwError("value out-of-bounds",r),s=o5(s,8*mt)}else(s<GD||s>uc(i,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(s)}decode(n){let r=uc(n.readValue(),this.size*8);return this.signed&&(r=GM(r,this.size*8)),r}}class QD extends K5{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Dr(ut.dereference(n,"string")))}decode(e){return Yu(super.decode(e))}}class fu extends Wr{constructor(n,r){let s=!1;const i=[];n.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);_(this,"coders");oe(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(s=>{n.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[i]))}),Object.freeze(n)}encode(n,r){const s=ut.dereference(r,"tuple");return q5(n,this.coders,s)}decode(n){return Q5(n,this.coders)}}function gp(t,e){return{address:ve(t),storageKeys:e.map((n,r)=>(O(Se(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Qi(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(O(n.length===2,"invalid slot set",`value[${r}]`,n),gp(n[0],n[1])):(O(n!=null&&typeof n=="object","invalid address-slot set","value",t),gp(n.address,n.storageKeys)));O(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return gp(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function J5(t){return{address:ve(t.address),nonce:ee(t.nonce!=null?t.nonce:0),chainId:ee(t.chainId!=null?t.chainId:0),signature:Nt.from(t.signature)}}function KD(t){let e;return typeof t=="string"?e=el.computePublicKey(t,!1):e=t.publicKey,ve(Ve("0x"+e.substring(4)).substring(26))}function JD(t,e){return KD(el.recoverPublicKey(t,e))}const Ze=BigInt(0),YD=BigInt(2),ZD=BigInt(27),XD=BigInt(28),eL=BigInt(35),tL=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),bp=4096*32;function nL(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return pe(t.blobToKzgCommitment(Z(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return pe(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return pe(t.blobToKZGCommitment(Z(r)));O(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return pe(t.computeBlobProof(Z(r),Z(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return pe(t.computeBlobKZGProof(Z(r),Z(s)));O(!1,"unsupported KZG library","kzg",t)}}}function mb(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Ka(e).substring(4),"0x"+n}function Ja(t){return t==="0x"?null:ve(t)}function df(t,e){try{return Qi(t)}catch(n){O(!1,n.message,e,t)}}function rL(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const s=t[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Ja(s[1]),nonce:Ee(s[2],"nonce"),chainId:Ee(s[0],"chainId"),signature:Nt.from({yParity:Ki(s[3],"yParity"),r:Hr(s[4],32),s:Hr(s[5],32)})})}return n}catch(n){O(!1,n.message,e,t)}}function Ki(t,e){return t==="0x"?0:he(t,e)}function Ee(t,e){if(t==="0x")return Ze;const n=ee(t,e);return O(n<=tL,"value exceeds uint size",e,n),n}function ge(t,e){const n=ee(t,"value"),r=qe(n);return O(r.length<=32,"value too large",`tx.${e}`,n),r}function ff(t){return Qi(t).map(e=>[e.address,e.storageKeys])}function sL(t){return t.map(e=>[ge(e.chainId,"chainId"),e.address,ge(e.nonce,"nonce"),ge(e.signature.yParity,"yParity"),qe(e.signature.r),qe(e.signature.s)])}function iL(t,e){O(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)O(Se(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function oL(t){const e=$l(t);O(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Ki(e[0],"nonce"),gasPrice:Ee(e[1],"gasPrice"),gasLimit:Ee(e[2],"gasLimit"),to:Ja(e[3]),value:Ee(e[4],"value"),data:Z(e[5]),chainId:Ze};if(e.length===6)return n;const r=Ee(e[6],"v"),s=Ee(e[7],"r"),i=Ee(e[8],"s");if(s===Ze&&i===Ze)n.chainId=r;else{let o=(r-eL)/YD;o<Ze&&(o=Ze),n.chainId=o,O(o!==Ze||r===ZD||r===XD,"non-canonical legacy v","v",e[6]),n.signature=Nt.from({r:Hr(e[7],32),s:Hr(e[8],32),v:r})}return n}function aL(t,e){const n=[ge(t.nonce,"nonce"),ge(t.gasPrice||0,"gasPrice"),ge(t.gasLimit,"gasLimit"),t.to||"0x",ge(t.value,"value"),t.data];let r=Ze;if(t.chainId!=Ze)r=ee(t.chainId,"tx.chainId"),O(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==Ze&&(n.push(qe(r)),n.push("0x"),n.push("0x")),Ms(n);let s=BigInt(27+e.yParity);return r!==Ze?s=Nt.getChainIdV(r,e.v):BigInt(e.v)!==s&&O(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(qe(s)),n.push(qe(e.r)),n.push(qe(e.s)),Ms(n)}function pf(t,e){let n;try{if(n=Ki(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{O(!1,"invalid yParity","yParity",e[0])}const r=Hr(e[1],32),s=Hr(e[2],32),i=Nt.from({r,s,yParity:n});t.signature=i}function cL(t){const e=$l(pe(t).slice(1));O(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Z(t));const n={type:2,chainId:Ee(e[0],"chainId"),nonce:Ki(e[1],"nonce"),maxPriorityFeePerGas:Ee(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ee(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ee(e[4],"gasLimit"),to:Ja(e[5]),value:Ee(e[6],"value"),data:Z(e[7]),accessList:df(e[8],"accessList")};return e.length===9||pf(n,e.slice(9)),n}function lL(t,e){const n=[ge(t.chainId,"chainId"),ge(t.nonce,"nonce"),ge(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ge(t.maxFeePerGas||0,"maxFeePerGas"),ge(t.gasLimit,"gasLimit"),t.to||"0x",ge(t.value,"value"),t.data,ff(t.accessList||[])];return e&&(n.push(ge(e.yParity,"yParity")),n.push(qe(e.r)),n.push(qe(e.s))),Le(["0x02",Ms(n)])}function uL(t){const e=$l(pe(t).slice(1));O(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Z(t));const n={type:1,chainId:Ee(e[0],"chainId"),nonce:Ki(e[1],"nonce"),gasPrice:Ee(e[2],"gasPrice"),gasLimit:Ee(e[3],"gasLimit"),to:Ja(e[4]),value:Ee(e[5],"value"),data:Z(e[6]),accessList:df(e[7],"accessList")};return e.length===8||pf(n,e.slice(8)),n}function dL(t,e){const n=[ge(t.chainId,"chainId"),ge(t.nonce,"nonce"),ge(t.gasPrice||0,"gasPrice"),ge(t.gasLimit,"gasLimit"),t.to||"0x",ge(t.value,"value"),t.data,ff(t.accessList||[])];return e&&(n.push(ge(e.yParity,"recoveryParam")),n.push(qe(e.r)),n.push(qe(e.s))),Le(["0x01",Ms(n)])}function fL(t){let e=$l(pe(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const i=e[1],o=e[2],a=e[3];O(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),O(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),O(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),O(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),O(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}O(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Z(t));const s={type:3,chainId:Ee(e[0],"chainId"),nonce:Ki(e[1],"nonce"),maxPriorityFeePerGas:Ee(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ee(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ee(e[4],"gasLimit"),to:Ja(e[5]),value:Ee(e[6],"value"),data:Z(e[7]),accessList:df(e[8],"accessList"),maxFeePerBlobGas:Ee(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),O(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),O(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)O(Se(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||pf(s,e.slice(11)),s}function pL(t,e,n){const r=[ge(t.chainId,"chainId"),ge(t.nonce,"nonce"),ge(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ge(t.maxFeePerGas||0,"maxFeePerGas"),ge(t.gasLimit,"gasLimit"),t.to||Xc,ge(t.value,"value"),t.data,ff(t.accessList||[]),ge(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),iL(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(ge(e.yParity,"yParity")),r.push(qe(e.r)),r.push(qe(e.s)),n)?Le(["0x03",Ms([r,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):Le(["0x03",Ms(r)])}function hL(t){const e=$l(pe(t).slice(1));O(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Z(t));const n={type:4,chainId:Ee(e[0],"chainId"),nonce:Ki(e[1],"nonce"),maxPriorityFeePerGas:Ee(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ee(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ee(e[4],"gasLimit"),to:Ja(e[5]),value:Ee(e[6],"value"),data:Z(e[7]),accessList:df(e[8],"accessList"),authorizationList:rL(e[9],"authorizationList")};return e.length===10||pf(n,e.slice(10)),n}function mL(t,e){const n=[ge(t.chainId,"chainId"),ge(t.nonce,"nonce"),ge(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ge(t.maxFeePerGas||0,"maxFeePerGas"),ge(t.gasLimit,"gasLimit"),t.to||"0x",ge(t.value,"value"),t.data,ff(t.accessList||[]),sL(t.authorizationList||[])];return e&&(n.push(ge(e.yParity,"yParity")),n.push(qe(e.r)),n.push(qe(e.s))),Le(["0x04",Ms(n)])}var gn,Ho,Go,Vo,Wo,qo,Qo,Ko,Jo,Yo,Zo,Xo,hi,ls,Un,us,ea,ta,Pu;const Ln=class Ln{constructor(){j(this,ta);j(this,gn);j(this,Ho);j(this,Go);j(this,Vo);j(this,Wo);j(this,qo);j(this,Qo);j(this,Ko);j(this,Jo);j(this,Yo);j(this,Zo);j(this,Xo);j(this,hi);j(this,ls);j(this,Un);j(this,us);j(this,ea);C(this,gn,null),C(this,Ho,null),C(this,Vo,0),C(this,Wo,Ze),C(this,qo,null),C(this,Qo,null),C(this,Ko,null),C(this,Go,"0x"),C(this,Jo,Ze),C(this,Yo,Ze),C(this,Zo,null),C(this,Xo,null),C(this,hi,null),C(this,ls,null),C(this,Un,null),C(this,us,null),C(this,ea,null)}get type(){return v(this,gn)}set type(e){switch(e){case null:C(this,gn,null);break;case 0:case"legacy":C(this,gn,0);break;case 1:case"berlin":case"eip-2930":C(this,gn,1);break;case 2:case"london":case"eip-1559":C(this,gn,2);break;case 3:case"cancun":case"eip-4844":C(this,gn,3);break;case 4:case"pectra":case"eip-7702":C(this,gn,4);break;default:O(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=v(this,Ho);return e==null&&this.type===3?Xc:e}set to(e){C(this,Ho,e==null?null:ve(e))}get nonce(){return v(this,Vo)}set nonce(e){C(this,Vo,he(e,"value"))}get gasLimit(){return v(this,Wo)}set gasLimit(e){C(this,Wo,ee(e))}get gasPrice(){const e=v(this,qo);return e==null&&(this.type===0||this.type===1)?Ze:e}set gasPrice(e){C(this,qo,e==null?null:ee(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=v(this,Qo);return e??(this.type===2||this.type===3?Ze:null)}set maxPriorityFeePerGas(e){C(this,Qo,e==null?null:ee(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=v(this,Ko);return e??(this.type===2||this.type===3?Ze:null)}set maxFeePerGas(e){C(this,Ko,e==null?null:ee(e,"maxFeePerGas"))}get data(){return v(this,Go)}set data(e){C(this,Go,Z(e))}get value(){return v(this,Jo)}set value(e){C(this,Jo,ee(e,"value"))}get chainId(){return v(this,Yo)}set chainId(e){C(this,Yo,ee(e))}get signature(){return v(this,Zo)||null}set signature(e){C(this,Zo,e==null?null:Nt.from(e))}get accessList(){const e=v(this,Xo)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){C(this,Xo,e==null?null:Qi(e))}get authorizationList(){const e=v(this,ea)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){C(this,ea,e==null?null:e.map(n=>J5(n)))}get maxFeePerBlobGas(){const e=v(this,hi);return e==null&&this.type===3?Ze:e}set maxFeePerBlobGas(e){C(this,hi,e==null?null:ee(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=v(this,ls);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){O(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)O(Se(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}C(this,ls,e)}get blobs(){return v(this,us)==null?null:v(this,us).map(e=>Object.assign({},e))}set blobs(e){if(e==null){C(this,us,null);return}const n=[],r=[];for(let s=0;s<e.length;s++){const i=e[s];if(gm(i)){V(v(this,Un),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=pe(i);if(O(o.length<=bp,"blob is too large",`blobs[${s}]`,i),o.length!==bp){const l=new Uint8Array(bp);l.set(o),o=l}const a=v(this,Un).blobToKzgCommitment(o),c=Z(v(this,Un).computeBlobKzgProof(o,a));n.push({data:Z(o),commitment:Z(a),proof:c}),r.push(mb(1,a))}else{const o=Z(i.commitment);n.push({data:Z(i.data),commitment:o,proof:Z(i.proof)}),r.push(mb(1,o))}}C(this,us,n),C(this,ls,r)}get kzg(){return v(this,Un)}set kzg(e){e==null?C(this,Un,null):C(this,Un,nL(e))}get hash(){return this.signature==null?null:Ve(J(this,ta,Pu).call(this,!0,!1))}get unsignedHash(){return Ve(this.unsignedSerialized)}get from(){return this.signature==null?null:JD(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:el.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return J(this,ta,Pu).call(this,!0,!0)}get unsignedSerialized(){return J(this,ta,Pu).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=v(this,hi)!=null||v(this,ls);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&V(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),V(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),V(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ln.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ln;if(typeof e=="string"){const r=pe(e);if(r[0]>=127)return Ln.from(oL(r));switch(r[0]){case 1:return Ln.from(uL(r));case 2:return Ln.from(cL(r));case 3:return Ln.from(fL(r));case 4:return Ln.from(hL(r))}V(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Ln;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Nt.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(O(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),O(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(O(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),O(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};gn=new WeakMap,Ho=new WeakMap,Go=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,qo=new WeakMap,Qo=new WeakMap,Ko=new WeakMap,Jo=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,Xo=new WeakMap,hi=new WeakMap,ls=new WeakMap,Un=new WeakMap,us=new WeakMap,ea=new WeakMap,ta=new WeakSet,Pu=function(e,n){V(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return aL(this,r);case 1:return dL(this,r);case 2:return lL(this,r);case 3:return pL(this,r,n?this.blobs:null);case 4:return mL(this,r)}V(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Xu=Ln;function Li(t){return Ve(Dr(t))}var yL="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const yb=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),gb=4;function gL(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let T=1;T<r;T++)i.push(s+=n());let o=n(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const d=31,p=2**d,f=p>>>1,m=f>>1,h=p-1;let y=0;for(let T=0;T<d;T++)y=y<<1|u();let b=[],E=0,x=p;for(;;){let T=Math.floor(((y-E+1)*s-1)/x),P=0,S=r;for(;S-P>1;){let F=P+S>>>1;T<i[F]?S=F:P=F}if(P==0)break;b.push(P);let R=E+Math.floor(x*i[P]/s),M=E+Math.floor(x*i[P+1]/s)-1;for(;!((R^M)&f);)y=y<<1&h|u(),R=R<<1&h,M=M<<1&h|1;for(;R&~M&m;)y=y&f|y<<1&h>>>1|u(),R=R<<1^f,M=(M^f)<<1|f|1;E=R,x=1+M-R}let A=r-4;return b.map(T=>{switch(T-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return T-1}})}function bL(t){let e=0;return()=>t[e++]}function Y5(t){return bL(gL(wL(t)))}function wL(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,a=0;s<n;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function vL(t){return t&1?~t>>1:t>>1}function xL(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=vL(e());return n}function tl(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function Z5(t){return nl(()=>{let e=tl(t);if(e.length)return e})}function X5(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(AL(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(EL(n,t))}return e.flat()}function nl(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function e2(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)xL(t,n).forEach((i,o)=>r[o].push(i));return r}function AL(t,e){let n=1+e(),r=e(),s=nl(e);return e2(s.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((u,d)=>{let p=d*r;return[c+d*n,l.map(f=>f+p)]})})}function EL(t,e){let n=1+e();return e2(n,1+t,e).map(s=>[s[0],s.slice(1)])}function TL(t){let e=[],n=tl(t);return s(r([]),[]),e;function r(i){let o=t(),a=nl(()=>{let c=tl(t).map(l=>n[l]);if(c.length)return r(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let l of o)for(let u of l.Q)s(l,[...a,u],c)}}}function PL(t){return t.toString(16).toUpperCase().padStart(2,"0")}function t2(t){return`{${PL(t)}}`}function CL(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function Da(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function SL(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var NL="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const rl=44032,ed=4352,td=4449,nd=4519,n2=19,r2=21,La=28,rd=r2*La,RL=n2*rd,IL=rl+RL,BL=ed+n2,OL=td+r2,kL=nd+La;function fc(t){return t>>24&255}function s2(t){return t&16777215}let Mh,bb,Dh,Cu;function ML(){let t=Y5(NL);Mh=new Map(Z5(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),bb=new Set(tl(t)),Dh=new Map,Cu=new Map;for(let[e,n]of X5(t)){if(!bb.has(e)&&n.length==2){let[r,s]=n,i=Cu.get(r);i||(i=new Map,Cu.set(r,i)),i.set(s,e)}Dh.set(e,n.reverse())}}function i2(t){return t>=rl&&t<IL}function DL(t,e){if(t>=ed&&t<BL&&e>=td&&e<OL)return rl+(t-ed)*rd+(e-td)*La;if(i2(t)&&e>nd&&e<kL&&(t-rl)%La==0)return t+(e-nd);{let n=Cu.get(t);return n&&(n=n.get(e),n)?n:-1}}function o2(t){Mh||ML();let e=[],n=[],r=!1;function s(i){let o=Mh.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(i2(i)){let o=i-rl,a=o/rd|0,c=o%rd/La|0,l=o%La;s(ed+a),s(td+c),l>0&&s(nd+l)}else{let o=Dh.get(i);o?n.push(...o):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=fc(e[0]);for(let o=1;o<e.length;o++){let a=fc(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=fc(e[--c]),i<=a))break}i=fc(e[o])}}return e}function LL(t){let e=[],n=[],r=-1,s=0;for(let i of t){let o=fc(i),a=s2(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),s=o;else{let c=DL(r,a);c>=0?r=c:s==0&&o==0?(e.push(r),r=a):(n.push(a),s=o)}}return r>=0&&e.push(r,...n),e}function a2(t){return o2(t).map(s2)}function FL(t){return LL(o2(t))}const wb=45,c2=".",l2=65039,u2=1,sd=t=>Array.from(t);function sl(t,e){return t.P.has(e)||t.Q.has(e)}class _L extends Array{get is_emoji(){return!0}}let Lh,d2,ti,Fh,f2,Bo,wp,fo,Hs,vb,_h;function Nm(){if(Lh)return;let t=Y5(yL);const e=()=>tl(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(p=>u.add(p));Lh=new Map(X5(t)),d2=n(),ti=e(),Fh=new Set(e().map(u=>ti[u])),ti=new Set(ti),f2=n(),n();let s=Z5(t),i=t();const o=()=>{let u=new Set;return e().forEach(d=>r(u,s[d])),r(u,e()),u};Bo=nl(u=>{let d=nl(t).map(p=>p+96);if(d.length){let p=u>=i;d[0]-=32,d=Da(d),p&&(d=`Restricted[${d}]`);let f=o(),m=o(),h=!t();return{N:d,P:f,Q:m,M:h,R:p}}}),wp=n(),fo=new Map;let a=e().concat(sd(wp)).sort((u,d)=>u-d);a.forEach((u,d)=>{let p=t(),f=a[d]=p?a[d-p]:{V:[],M:new Map};f.V.push(u),wp.has(u)||fo.set(u,f)});for(let{V:u,M:d}of new Set(fo.values())){let p=[];for(let m of u){let h=Bo.filter(b=>sl(b,m)),y=p.find(({G:b})=>h.some(E=>b.has(E)));y||(y={G:new Set,V:[]},p.push(y)),y.V.push(m),r(y.G,h)}let f=p.flatMap(m=>sd(m.G));for(let{G:m,V:h}of p){let y=new Set(f.filter(b=>!m.has(b)));for(let b of h)d.set(b,y)}}Hs=new Set;let c=new Set;const l=u=>Hs.has(u)?c.add(u):Hs.add(u);for(let u of Bo){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of Hs)!fo.has(u)&&!c.has(u)&&fo.set(u,u2);r(Hs,a2(Hs)),vb=TL(t).map(u=>_L.from(u)).sort(SL),_h=new Map;for(let u of vb){let d=[_h];for(let p of u){let f=d.map(m=>{let h=m.get(p);return h||(h=new Map,m.set(p,h)),h});p===l2?d.push(...f):d=f}for(let p of d)p.V=u}}function Rm(t){return(p2(t)?"":`${Im(hf([t]))} `)+t2(t)}function Im(t){return`"${t}"`}function UL(t){if(t.length>=4&&t[2]==wb&&t[3]==wb)throw new Error(`invalid label extension: "${Da(t.slice(0,4))}"`)}function jL(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function $L(t){let e=t[0],n=yb.get(e);if(n)throw wc(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let o=yb.get(e);if(o){if(s==i)throw wc(`${n} + ${o}`);s=i+1,n=o}}if(s==r)throw wc(`trailing ${n}`)}function hf(t,e=1/0,n=t2){let r=[];zL(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];p2(a)&&(r.push(Da(t.slice(s,o))),r.push(n(a)),s=o+1)}return r.push(Da(t.slice(s,i))),r.join("")}function zL(t){return Nm(),ti.has(t)}function p2(t){return Nm(),f2.has(t)}function HL(t){return qL(GL(t,FL,JL))}function GL(t,e,n){if(!t)return[];Nm();let r=0;return t.split(c2).map(s=>{let i=CL(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=KL(i,e,n),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(jL(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(p=>p<128))UL(u),l="ASCII";else{let p=a.flatMap(f=>f.is_emoji?[]:f);if(!p.length)l="Emoji";else{if(ti.has(u[0]))throw wc("leading combining mark");for(let h=1;h<c;h++){let y=a[h];if(!y.is_emoji&&ti.has(y[0]))throw wc(`emoji + combining mark: "${Da(a[h-1])} + ${hf([y[0]])}"`)}$L(u);let f=sd(new Set(p)),[m]=WL(f);QL(m,p),VL(m,f),l=m.N}}o.type=l}catch(a){o.error=a}return o})}function VL(t,e){let n,r=[];for(let s of e){let i=fo.get(s);if(i===u2)return;if(i){let o=i.M.get(s);if(n=n?n.filter(a=>o.has(a)):sd(o),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>sl(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function WL(t){let e=Bo;for(let n of t){let r=e.filter(s=>sl(s,n));if(!r.length)throw Bo.some(s=>sl(s,n))?m2(e[0],n):h2(n);if(e=r,r.length==1)break}return e}function qL(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${Im(hf(e,63))}: ${s}`)}return Da(r)}).join(c2)}function h2(t){return new Error(`disallowed character: ${Rm(t)}`)}function m2(t,e){let n=Rm(e),r=Bo.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function wc(t){return new Error(`illegal placement: ${t}`)}function QL(t,e){for(let n of e)if(!sl(t,n))throw m2(t,n);if(t.M){let n=a2(e);for(let r=1,s=n.length;r<s;r++)if(Fh.has(n[r])){let i=r+1;for(let o;i<s&&Fh.has(o=n[i]);i++)for(let a=r;a<i;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${Rm(o)}`);if(i-r>gb)throw new Error(`excessive non-spacing marks: ${Im(hf(n.slice(r-1,i)))} (${i-r}/${gb})`);r=i}}}function KL(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=YL(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let o=t.pop();if(Hs.has(o))s.push(o);else{let a=Lh.get(o);if(a)s.push(...a);else if(!d2.has(o))throw h2(o)}}}return s.length&&r.push(e(s)),r}function JL(t){return t.filter(e=>e!=l2)}function YL(t,e){let n=_h,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const y2=new Uint8Array(32);y2.fill(0);function xb(t){return O(t.length!==0,"invalid ENS name; empty component","comp",t),t}function g2(t){const e=Dr(ZL(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(xb(e.slice(r,s))),r=s+1);return O(r<e.length,"invalid ENS name; empty component","name",t),n.push(xb(e.slice(r))),n}function ZL(t){try{if(t.length===0)throw new Error("empty label");return HL(t)}catch(e){O(!1,`invalid ENS name (${e.message})`,"name",t)}}function Uh(t){O(typeof t=="string","invalid ENS name; not a string","name",t),O(t.length,"invalid ENS name (empty label)","name",t);let e=y2;const n=g2(t);for(;n.length;)e=Ve(Le([e,Ve(n.pop())]));return Z(e)}function XL(t,e){const n=e;return O(n<=255,"DNS encoded label cannot exceed 255","length",n),Z(Le(g2(t).map(r=>{O(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}const b2=new Uint8Array(32);b2.fill(0);const eF=BigInt(-1),w2=BigInt(0),v2=BigInt(1),tF=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function nF(t){const e=pe(t),n=e.length%32;return n?Le([e,b2.slice(n)]):Z(e)}const rF=Os(v2,32),sF=Os(w2,32),Ab={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},vp=["name","version","chainId","verifyingContract","salt"];function Eb(t){return function(e){return O(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const iF={name:Eb("name"),version:Eb("version"),chainId:function(t){const e=ee(t,"domain.chainId");return O(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):vn(e)},verifyingContract:function(t){try{return ve(t).toLowerCase()}catch{}O(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=pe(t,"domain.salt");return O(e.length===32,'invalid domain value "salt"',"domain.salt",t),Z(e)}};function xp(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);O(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const s=uc(tF,n?r-1:r),i=n?(s+v2)*eF:w2;return function(o){const a=ee(o,"value");return O(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),Os(n?o5(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return O(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const s=pe(r);return O(s.length===n,`invalid length for ${t}`,"value",r),nF(r)}}}switch(t){case"address":return function(e){return Hr(ve(e),32)};case"bool":return function(e){return e?rF:sF};case"bytes":return function(e){return Ve(e)};case"string":return function(e){return Li(e)}}return null}function Tb(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function pu(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var fl,Er,na,dd,x2;const Kt=class Kt{constructor(e){j(this,dd);_(this,"primaryType");j(this,fl);j(this,Er);j(this,na);C(this,Er,new Map),C(this,na,new Map);const n=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:l,type:u})=>{let{base:d,index:p}=pu(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(p||"")}}),n.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),C(this,fl,JSON.stringify(i));for(const c in i){const l=new Set;for(const u of i[c]){O(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);const d=pu(u.type).base;O(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!xp(d)&&(O(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(c),n.get(c).add(d))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);O(o.length!==0,"missing primary type","types",e),O(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),oe(this,{primaryType:o[0]});function a(c,l){O(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const u of n.get(c))if(r.has(u)){a(u,l);for(const d of l)s.get(d).add(u)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of s){const u=Array.from(l);u.sort(),v(this,Er).set(c,Tb(c,i[c])+u.map(d=>Tb(d,i[d])).join(""))}}get types(){return JSON.parse(v(this,fl))}getEncoder(e){let n=v(this,na).get(e);return n||(n=J(this,dd,x2).call(this,e),v(this,na).set(e,n)),n}encodeType(e){const n=v(this,Er).get(e);return O(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Ve(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(xp(e))return r(e,n);const s=pu(e).array;if(s)return O(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(o=>this._visit(s.prefix,o,r));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{});O(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Kt(e)}static getPrimaryType(e){return Kt.from(e).primaryType}static hashStruct(e,n,r){return Kt.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const s=Ab[r];O(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>vp.indexOf(r.name)-vp.indexOf(s.name)),Kt.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Le(["0x1901",Kt.hashDomain(e),Kt.from(n).hash(r)])}static hash(e,n,r){return Ve(Kt.encode(e,n,r))}static async resolveNames(e,n,r,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!Se(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Kt.from(n);o.visit(r,(a,c)=>(a==="address"&&!Se(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:r}}static getPayload(e,n,r){Kt.hashDomain(e);const s={},i=[];vp.forEach(c=>{const l=e[c];l!=null&&(s[c]=iF[c](l),i.push({name:c,type:Ab[c]}))});const o=Kt.from(n);n=o.types;const a=Object.assign({},n);return O(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return Z(pe(l));if(c.match(/^u?int/))return ee(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return O(typeof l=="string","invalid string","value",l),l}O(!1,"unsupported type","type",c)})}}};fl=new WeakMap,Er=new WeakMap,na=new WeakMap,dd=new WeakSet,x2=function(e){{const s=xp(e);if(s)return s}const n=pu(e).array;if(n){const s=n.prefix,i=this.getEncoder(s);return o=>{O(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(i);return v(this,Er).has(s)&&(a=a.map(Ve)),Ve(Le(a))}}const r=this.types[e];if(r){const s=Li(v(this,Er).get(e));return i=>{const o=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(i[a]);return v(this,Er).has(c)?Ve(l):l});return o.unshift(s),Le(o)}}O(!1,`unknown type: ${e}`,"type",e)};let id=Kt;function gt(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const oF="external public payable override",aF=gt(oF.split(" ")),A2="constant external internal payable private public pure view override",cF=gt(A2.split(" ")),E2="constructor error event fallback function receive struct",T2=gt(E2.split(" ")),P2="calldata memory storage payable indexed",lF=gt(P2.split(" ")),uF="tuple returns",dF=[E2,P2,uF,A2].join(" "),fF=gt(dF.split(" ")),pF={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},hF=new RegExp("^(\\s*)"),mF=new RegExp("^([0-9]+)"),yF=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),C2=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),S2=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var et,bn,pl,jh;const fd=class fd{constructor(e){j(this,pl);j(this,et);j(this,bn);C(this,et,0),C(this,bn,e.slice())}get offset(){return v(this,et)}get length(){return v(this,bn).length-v(this,et)}clone(){return new fd(v(this,bn))}reset(){C(this,et,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=J(this,pl,jh).call(this,v(this,et)+1,e.match+1);return C(this,et,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;v(this,et)<e.match-1;){const r=this.peek().linkNext;n.push(J(this,pl,jh).call(this,v(this,et)+1,r)),C(this,et,r)}return C(this,et,e.match+1),n}peek(){if(v(this,et)>=v(this,bn).length)throw new Error("out-of-bounds");return v(this,bn)[v(this,et)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return Xa(this,et)._++,e}toString(){const e=[];for(let n=v(this,et);n<v(this,bn).length;n++){const r=v(this,bn)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};et=new WeakMap,bn=new WeakMap,pl=new WeakSet,jh=function(e=0,n=0){return new fd(v(this,bn).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Rn=fd;function Us(t){const e=[],n=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(hF);a&&(i+=a[1].length,o=t.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=pF[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=he(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(yF),a){if(c.text=a[1],i+=c.text.length,fF.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(S2)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(mF),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Rn(e.map(o=>Object.freeze(o)))}function Pb(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function mf(t,e){if(e.peekKeyword(T2)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Gr(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function N2(t){let e=Gr(t,cF);return Pb(e,gt("constant payable nonpayable".split(" "))),Pb(e,gt("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Lr(t,e){return t.popParams().map(n=>ot.from(n,e))}function R2(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ee(t.pop().text);throw new Error("invalid gas")}return null}function Fi(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const gF=new RegExp(/^(.*)\[([0-9]*)\]$/);function Cb(t){const e=t.match(S2);if(O(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);O(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);O(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const ke={},Rt=Symbol.for("_ethers_internal"),Sb="_ParamTypeInternal",Nb="_ErrorInternal",Rb="_EventInternal",Ib="_ConstructorInternal",Bb="_FallbackInternal",Ob="_FunctionInternal",kb="_StructInternal";var ra,Su;const Jt=class Jt{constructor(e,n,r,s,i,o,a,c){j(this,ra);_(this,"name");_(this,"type");_(this,"baseType");_(this,"indexed");_(this,"components");_(this,"arrayLength");_(this,"arrayChildren");if(sf(e,ke,"ParamType"),Object.defineProperty(this,Rt,{value:Sb}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");oe(this,{name:n,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],s=[e];return J(this,ra,Su).call(this,r,e,n,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,n){if(Jt.isParamType(e))return e;if(typeof e=="string")try{return Jt.from(Us(e),n)}catch{O(!1,"invalid param type","obj",e)}else if(e instanceof Rn){let a="",c="",l=null;Gr(e,gt(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(h=>Jt.from(h)),a=`tuple(${l.map(h=>h.format()).join(",")})`):(a=Cb(e.popType("TYPE")),c=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const h=e.pop();u=new Jt(ke,"",a,c,null,l,d,u),d=h.value,a+=h.text,c="array",l=null}let p=null;if(Gr(e,lF).has("indexed")){if(!n)throw new Error("");p=!0}const m=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Jt(ke,m,a,c,p,l,d,u)}const r=e.name;O(!r||typeof r=="string"&&r.match(C2),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(O(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(gF);if(o){const a=parseInt(o[2]||"-1"),c=Jt.from({type:o[1],components:e.components});return new Jt(ke,r||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(l=>Jt.from(l)):null;return new Jt(ke,r||"",i,"tuple",s,a,null,null)}return i=Cb(e.type),new Jt(ke,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Rt]===Sb}};ra=new WeakSet,Su=function(e,n,r,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((c,l)=>{var u;J(u=o,ra,Su).call(u,e,c,r,d=>{a[l]=d})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{var u;J(u=o[l],ra,Su).call(u,e,c,r,d=>{a[l]=d})}),s(a);return}const i=r(this.type,n);i.then?e.push(async function(){s(await i)}()):s(i)};let ot=Jt;class _i{constructor(e,n,r){_(this,"type");_(this,"inputs");sf(e,ke,"Fragment"),r=Object.freeze(r.slice()),oe(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{_i.from(JSON.parse(e))}catch{}return _i.from(Us(e))}if(e instanceof Rn)switch(e.peekKeyword(T2)){case"constructor":return Or.from(e);case"error":return Tt.from(e);case"event":return qn.from(e);case"fallback":case"receive":return br.from(e);case"function":return Qn.from(e);case"struct":return Si.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Or.from(e);case"error":return Tt.from(e);case"event":return qn.from(e);case"fallback":case"receive":return br.from(e);case"function":return Qn.from(e);case"struct":return Si.from(e)}V(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}O(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Or.isFragment(e)}static isError(e){return Tt.isFragment(e)}static isEvent(e){return qn.isFragment(e)}static isFunction(e){return Qn.isFragment(e)}static isStruct(e){return Si.isFragment(e)}}class yf extends _i{constructor(n,r,s,i){super(n,r,i);_(this,"name");O(typeof s=="string"&&s.match(C2),"invalid identifier","name",s),i=Object.freeze(i.slice()),oe(this,{name:s})}}function il(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Tt extends yf{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Rt,{value:Nb})}get selector(){return Li(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+il(e,this.inputs)),n.join(" ")}static from(e){if(Tt.isFragment(e))return e;if(typeof e=="string")return Tt.from(Us(e));if(e instanceof Rn){const n=mf("error",e),r=Lr(e);return Fi(e),new Tt(ke,n,r)}return new Tt(ke,e.name,e.inputs?e.inputs.map(ot.from):[])}static isFragment(e){return e&&e[Rt]===Nb}}class qn extends yf{constructor(n,r,s,i){super(n,"event",r,s);_(this,"anonymous");Object.defineProperty(this,Rt,{value:Rb}),oe(this,{anonymous:i})}get topicHash(){return Li(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+il(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(i=>ot.from(i)),new qn(ke,n,r,!1).topicHash}static from(n){if(qn.isFragment(n))return n;if(typeof n=="string")try{return qn.from(Us(n))}catch{O(!1,"invalid event fragment","obj",n)}else if(n instanceof Rn){const r=mf("event",n),s=Lr(n,!0),i=!!Gr(n,gt(["anonymous"])).has("anonymous");return Fi(n),new qn(ke,r,s,i)}return new qn(ke,n.name,n.inputs?n.inputs.map(r=>ot.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Rt]===Rb}}class Or extends _i{constructor(n,r,s,i,o){super(n,r,s);_(this,"payable");_(this,"gas");Object.defineProperty(this,Rt,{value:Ib}),oe(this,{payable:i,gas:o})}format(n){if(V(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[`constructor${il(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(Or.isFragment(n))return n;if(typeof n=="string")try{return Or.from(Us(n))}catch{O(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Rn){Gr(n,gt(["constructor"]));const r=Lr(n),s=!!Gr(n,aF).has("payable"),i=R2(n);return Fi(n),new Or(ke,"constructor",r,s,i)}return new Or(ke,"constructor",n.inputs?n.inputs.map(ot.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Rt]===Ib}}class br extends _i{constructor(n,r,s){super(n,"fallback",r);_(this,"payable");Object.defineProperty(this,Rt,{value:Bb}),oe(this,{payable:s})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(n){if(br.isFragment(n))return n;if(typeof n=="string")try{return br.from(Us(n))}catch{O(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Rn){const r=n.toString(),s=n.peekKeyword(gt(["fallback","receive"]));if(O(s,"type must be fallback or receive","obj",r),n.popKeyword(gt(["fallback","receive"]))==="receive"){const c=Lr(n);return O(c.length===0,"receive cannot have arguments","obj.inputs",c),Gr(n,gt(["payable"])),Fi(n),new br(ke,[],!0)}let o=Lr(n);o.length?O(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[ot.from("bytes")];const a=N2(n);if(O(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Gr(n,gt(["returns"])).has("returns")){const c=Lr(n);O(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return Fi(n),new br(ke,o,a==="payable")}if(n.type==="receive")return new br(ke,[],!0);if(n.type==="fallback"){const r=[ot.from("bytes")],s=n.stateMutability==="payable";return new br(ke,r,s)}O(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Rt]===Bb}}class Qn extends yf{constructor(n,r,s,i,o,a){super(n,"function",r,i);_(this,"constant");_(this,"outputs");_(this,"stateMutability");_(this,"payable");_(this,"gas");Object.defineProperty(this,Rt,{value:Ob}),o=Object.freeze(o.slice()),oe(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return Li(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n))),outputs:this.outputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+il(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(il(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(i=>ot.from(i)),new Qn(ke,n,"view",r,[],null).selector}static from(n){if(Qn.isFragment(n))return n;if(typeof n=="string")try{return Qn.from(Us(n))}catch{O(!1,"invalid function fragment","obj",n)}else if(n instanceof Rn){const s=mf("function",n),i=Lr(n),o=N2(n);let a=[];Gr(n,gt(["returns"])).has("returns")&&(a=Lr(n));const c=R2(n);return Fi(n),new Qn(ke,s,o,i,a,c)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Qn(ke,n.name,r,n.inputs?n.inputs.map(ot.from):[],n.outputs?n.outputs.map(ot.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Rt]===Ob}}class Si extends yf{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Rt,{value:kb})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Si.from(Us(e))}catch{O(!1,"invalid struct fragment","obj",e)}else if(e instanceof Rn){const n=mf("struct",e),r=Lr(e);return Fi(e),new Si(ke,n,r)}return new Si(ke,e.name,e.inputs?e.inputs.map(ot.from):[])}static isFragment(e){return e&&e[Rt]===kb}}const On=new Map;On.set(0,"GENERIC_PANIC");On.set(1,"ASSERT_FALSE");On.set(17,"OVERFLOW");On.set(18,"DIVIDE_BY_ZERO");On.set(33,"ENUM_RANGE_ERROR");On.set(34,"BAD_STORAGE_DATA");On.set(49,"STACK_UNDERFLOW");On.set(50,"ARRAY_RANGE_ERROR");On.set(65,"OUT_OF_MEMORY");On.set(81,"UNINITIALIZED_FUNCTION_CALL");const bF=new RegExp(/^bytes([0-9]*)$/),wF=new RegExp(/^(u?int)([0-9]*)$/);let Ap=null,Mb=1024;function vF(t,e,n,r){let s="missing revert data",i=null;const o=null;let a=null;if(n){s="execution reverted";const l=pe(n);if(n=Z(n),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Z(l.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Z(l.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${On.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?ve(e.to):null,data:e.data||"0x"};return e.from&&(c.from=ve(e.from)),Oe(s,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:c,invocation:o,revert:a})}var ds,po;const pd=class pd{constructor(){j(this,ds)}getDefaultValue(e){const n=e.map(s=>J(this,ds,po).call(this,ot.from(s)));return new fu(n,"_").defaultValue()}encode(e,n){r5(n.length,e.length,"types/values length mismatch");const r=e.map(o=>J(this,ds,po).call(this,ot.from(o))),s=new fu(r,"_"),i=new Ch;return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(o=>J(this,ds,po).call(this,ot.from(o)));return new fu(s,"_").decode(new Sh(n,r,Mb))}static _setDefaultMaxInflation(e){O(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Mb=e}static defaultAbiCoder(){return Ap==null&&(Ap=new pd),Ap}static getBuiltinCallException(e,n,r){return vF(e,n,r,pd.defaultAbiCoder())}};ds=new WeakSet,po=function(e){if(e.isArray())return new _D(J(this,ds,po).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new fu(e.components.map(r=>J(this,ds,po).call(this,r)),e.name);switch(e.baseType){case"address":return new LD(e.name);case"bool":return new UD(e.name);case"string":return new QD(e.name);case"bytes":return new jD(e.name);case"":return new HD(e.name)}let n=e.type.match(wF);if(n){let r=parseInt(n[2]||"256");return O(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new qD(r/8,n[1]==="int",e.name)}if(n=e.type.match(bF),n){let r=parseInt(n[1]);return O(r!==0&&r<=32,"invalid bytes length","param",e),new $D(r,e.name)}O(!1,"invalid type","type",e.type)};let ol=pd;class xF{constructor(e,n,r){_(this,"fragment");_(this,"name");_(this,"signature");_(this,"topic");_(this,"args");const s=e.name,i=e.format();oe(this,{fragment:e,name:s,signature:i,topic:n,args:r})}}class AF{constructor(e,n,r,s){_(this,"fragment");_(this,"name");_(this,"args");_(this,"signature");_(this,"selector");_(this,"value");const i=e.name,o=e.format();oe(this,{fragment:e,name:i,args:r,signature:o,selector:n,value:s})}}class EF{constructor(e,n,r){_(this,"fragment");_(this,"name");_(this,"args");_(this,"signature");_(this,"selector");const s=e.name,i=e.format();oe(this,{fragment:e,name:s,args:r,signature:i,selector:n})}}class Db{constructor(e){_(this,"hash");_(this,"_isIndexed");oe(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Lb={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Fb={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Lb[t.toString()]&&(e=Lb[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var jn,$n,zn,at,er,Nu,Ru;const Js=class Js{constructor(e){j(this,er);_(this,"fragments");_(this,"deploy");_(this,"fallback");_(this,"receive");j(this,jn);j(this,$n);j(this,zn);j(this,at);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,C(this,zn,new Map),C(this,jn,new Map),C(this,$n,new Map);const r=[];for(const o of n)try{r.push(_i.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}oe(this,{fragments:Object.freeze(r)});let s=null,i=!1;C(this,at,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}oe(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(O(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=v(this,zn);break;case"event":c=v(this,$n);break;case"error":c=v(this,jn);break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||oe(this,{deploy:Or.from("constructor()")}),oe(this,{fallback:s,receive:i})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return ol.defaultAbiCoder()}getFunctionName(e){const n=J(this,er,Nu).call(this,e,null,!1);return O(n,"no matching function","key",e),n.name}hasFunction(e){return!!J(this,er,Nu).call(this,e,null,!1)}getFunction(e,n){return J(this,er,Nu).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(v(this,zn).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(v(this,zn).get(s),r)}}getEventName(e){const n=J(this,er,Ru).call(this,e,null,!1);return O(n,"no matching event","key",e),n.name}hasEvent(e){return!!J(this,er,Ru).call(this,e,null,!1)}getEvent(e,n){return J(this,er,Ru).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(v(this,$n).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(v(this,$n).get(s),r)}}getError(e,n){if(Se(e)){const s=e.toLowerCase();if(Fb[s])return Tt.from(Fb[s].signature);for(const i of v(this,jn).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of v(this,jn))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?Tt.from("error Error(string)"):e==="Panic"?Tt.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");O(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Tt.from(e).format(),e==="Error(string)")return Tt.from("error Error(string)");if(e==="Panic(uint256)")return Tt.from("error Panic(uint256)");const r=v(this,jn).get(e);return r||null}forEachError(e){const n=Array.from(v(this,jn).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(v(this,jn).get(s),r)}}_decodeParams(e,n){return v(this,at).decode(e,n)}_encodeParams(e,n){return v(this,at).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);O(r,"unknown error","fragment",e),e=r}return O(Me(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Me(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);O(r,"unknown error","fragment",e),e=r}return Le([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);O(r,"unknown function","fragment",e),e=r}return O(Me(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Me(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);O(r,"unknown function","fragment",e),e=r}return Le([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const i=this.getFunction(e);O(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=ht(n);if(s.length%32===0)try{return v(this,at).decode(e.outputs,s)}catch{r="could not decode result data"}V(!1,r,"BAD_DATA",{value:Z(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=pe(e,"data"),s=ol.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=Z(r.slice(0,4)),c=this.getError(a);if(c)try{const l=v(this,at).decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);O(r,"unknown function","fragment",e),e=r}return Z(v(this,at).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const i=this.getEvent(e);O(i,"unknown event","eventFragment",e),e=i}V(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,o)=>i.type==="string"?Li(o):i.type==="bytes"?Ve(Z(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Os(o):i.type.match(/^bytes/)?o=HM(o,32):i.type==="address"&&v(this,at).encode(["address"],[o]),Hr(Z(o),32));for(n.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){O(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?O(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(c=>s(a,c))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);O(o,"unknown event","eventFragment",e),e=o}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),O(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(Li(c));else if(o.type==="bytes")r.push(Ve(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(v(this,at).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:v(this,at).encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const f=this.getEvent(e);O(f,"unknown event","eventFragment",e),e=f}if(r!=null&&!e.anonymous){const f=e.topicHash;O(Se(r[0],32)&&r[0].toLowerCase()===f,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((f,m)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(s.push(ot.from({type:"bytes32",name:f.name})),o.push(!0)):(s.push(f),o.push(!1)):(i.push(f),o.push(!1))});const a=r!=null?v(this,at).decode(s,Le(r)):null,c=v(this,at).decode(i,n,!0),l=[],u=[];let d=0,p=0;return e.inputs.forEach((f,m)=>{let h=null;if(f.indexed)if(a==null)h=new Db(null);else if(o[m])h=new Db(a[p++]);else try{h=a[p++]}catch(y){h=y}else try{h=c[d++]}catch(y){h=y}l.push(h),u.push(f.name||null)}),Ia.fromItems(l,u)}parseTransaction(e){const n=pe(e.data,"tx.data"),r=ee(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(Z(n.slice(0,4)));if(!s)return null;const i=v(this,at).decode(s.inputs,n.slice(4));return new AF(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new xF(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=Z(e),r=this.getError(Me(n,0,4));if(!r)return null;const s=v(this,at).decode(r.inputs,Me(n,4));return new EF(r,r.selector,s)}static from(e){return e instanceof Js?e:typeof e=="string"?new Js(JSON.parse(e)):typeof e.formatJson=="function"?new Js(e.formatJson()):typeof e.format=="function"?new Js(e.format("json")):new Js(e)}};jn=new WeakMap,$n=new WeakMap,zn=new WeakMap,at=new WeakMap,er=new WeakSet,Nu=function(e,n,r){if(Se(e)){const i=e.toLowerCase();for(const o of v(this,zn).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of v(this,zn))o.split("(")[0]===e&&i.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,c=!0;ut.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=i.length-1;l>=0;l--){const u=i[l].inputs.length;u!==a&&(!c||u!==a-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const u=i[l].inputs;for(let d=0;d<n.length;d++)if(ut.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;i.splice(l,1);break}if(n[d].type!==u[d].baseType){i.splice(l,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");O(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=v(this,zn).get(Qn.from(e).format());return s||null},Ru=function(e,n,r){if(Se(e)){const i=e.toLowerCase();for(const o of v(this,$n).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of v(this,$n))o.split("(")[0]===e&&i.push(a);if(n){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<n.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<n.length;c++)if(ut.isTyped(n[c])&&n[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");O(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=v(this,$n).get(qn.from(e).format());return s||null};let $h=Js;const I2=BigInt(0);function Oo(t){return t??null}function Ue(t){return t==null?null:t.toString()}class _b{constructor(e,n,r){_(this,"gasPrice");_(this,"maxFeePerGas");_(this,"maxPriorityFeePerGas");oe(this,{gasPrice:Oo(e),maxFeePerGas:Oo(n),maxPriorityFeePerGas:Oo(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Ue(e),maxFeePerGas:Ue(n),maxPriorityFeePerGas:Ue(r)}}}function od(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Z(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=ee(t[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=he(t[s],`request.${s}`));return t.accessList&&(e.accessList=Qi(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>gm(s)?Z(s):Object.assign({},s))),e}var Tr;class TF{constructor(e,n){_(this,"provider");_(this,"number");_(this,"hash");_(this,"timestamp");_(this,"parentHash");_(this,"parentBeaconBlockRoot");_(this,"nonce");_(this,"difficulty");_(this,"gasLimit");_(this,"gasUsed");_(this,"stateRoot");_(this,"receiptsRoot");_(this,"blobGasUsed");_(this,"excessBlobGas");_(this,"miner");_(this,"prevRandao");_(this,"extraData");_(this,"baseFeePerGas");j(this,Tr);C(this,Tr,e.transactions.map(r=>typeof r!="string"?new al(r,n):r)),oe(this,{provider:n,hash:Oo(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Oo(e.prevRandao),extraData:e.extraData,baseFeePerGas:Oo(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return v(this,Tr).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=v(this,Tr).slice();return e.length===0?[]:(V(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,parentBeaconBlockRoot:p,stateRoot:f,receiptsRoot:m,timestamp:h,transactions:y}=this;return{_type:"Block",baseFeePerGas:Ue(e),difficulty:Ue(n),extraData:r,gasLimit:Ue(s),gasUsed:Ue(i),blobGasUsed:Ue(this.blobGasUsed),excessBlobGas:Ue(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,timestamp:h,parentBeaconBlockRoot:p,stateRoot:f,receiptsRoot:m,transactions:y}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return v(this,Tr).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=v(this,Tr)[e];else{const r=e.toLowerCase();for(const s of v(this,Tr))if(typeof s=="string"){if(s!==r)continue;n=s;break}else{if(s.hash!==r)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;O(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return PF(this)}}Tr=new WeakMap;class Hl{constructor(e,n){_(this,"provider");_(this,"transactionHash");_(this,"blockHash");_(this,"blockNumber");_(this,"removed");_(this,"address");_(this,"data");_(this,"topics");_(this,"index");_(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());oe(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return V(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return V(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return V(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return CF(this)}}var hl;class B2{constructor(e,n){_(this,"provider");_(this,"to");_(this,"from");_(this,"contractAddress");_(this,"hash");_(this,"index");_(this,"blockHash");_(this,"blockNumber");_(this,"logsBloom");_(this,"gasUsed");_(this,"blobGasUsed");_(this,"cumulativeGasUsed");_(this,"gasPrice");_(this,"blobGasPrice");_(this,"type");_(this,"status");_(this,"root");j(this,hl);C(this,hl,Object.freeze(e.logs.map(s=>new Hl(s,n))));let r=I2;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),oe(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return v(this,hl)}toJSON(){const{to:e,from:n,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Ue(this.cumulativeGasUsed),from:n,gasPrice:Ue(this.gasPrice),blobGasUsed:Ue(this.blobGasUsed),blobGasPrice:Ue(this.blobGasPrice),gasUsed:Ue(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return k2(this)}reorderedEvent(e){return V(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),O2(this,e)}}hl=new WeakMap;var fs;const _m=class _m{constructor(e,n){_(this,"provider");_(this,"blockNumber");_(this,"blockHash");_(this,"index");_(this,"hash");_(this,"type");_(this,"to");_(this,"from");_(this,"nonce");_(this,"gasLimit");_(this,"gasPrice");_(this,"maxPriorityFeePerGas");_(this,"maxFeePerGas");_(this,"maxFeePerBlobGas");_(this,"data");_(this,"value");_(this,"chainId");_(this,"signature");_(this,"accessList");_(this,"blobVersionedHashes");_(this,"authorizationList");j(this,fs);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,C(this,fs,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:s,type:i,to:o,from:a,nonce:c,data:l,signature:u,accessList:d,blobVersionedHashes:p}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:p,chainId:Ue(this.chainId),data:l,from:a,gasLimit:Ue(this.gasLimit),gasPrice:Ue(this.gasPrice),hash:s,maxFeePerGas:Ue(this.maxFeePerGas),maxPriorityFeePerGas:Ue(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ue(this.maxFeePerBlobGas),nonce:c,signature:u,to:o,index:r,type:i,value:Ue(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await ft({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,s=n??0;let i=v(this,fs),o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:p,nonce:f}=await ft({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(f<this.nonce){i=p;return}if(a)return null;const m=await this.getTransaction();if(!(m&&m.blockNumber!=null))for(o===-1&&(o=i-3,o<v(this,fs)&&(o=v(this,fs)));o<=p;){if(a)return null;const h=await this.provider.getBlock(o,!0);if(h==null)return;for(const y of h)if(y===this.hash)return;for(let y=0;y<h.length;y++){const b=await h.getTransaction(y);if(b.from===this.from&&b.nonce===this.nonce){if(a)return null;const E=await this.provider.getTransactionReceipt(b.hash);if(E==null||p-E.blockNumber+1<r)return;let x="replaced";b.data===this.data&&b.to===this.to&&b.value===this.value?x="repriced":b.data==="0x"&&b.from===b.to&&b.value===I2&&(x="cancelled"),V(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:x==="replaced"||x==="cancelled",reason:x,replacement:b.replaceableTransaction(i),hash:b.hash,receipt:E})}}o++}},l=p=>{if(p==null||p.status!==0)return p;V(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:p.to,from:p.from,data:""},receipt:p})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(u);if(u){if(r===1||await u.confirmations()>=r)return l(u)}else if(await c(),r===0)return null;return await new Promise((p,f)=>{const m=[],h=()=>{m.forEach(b=>b())};if(m.push(()=>{a=!0}),s>0){const b=setTimeout(()=>{h(),f(Oe("wait for transaction timeout","TIMEOUT"))},s);m.push(()=>{clearTimeout(b)})}const y=async b=>{if(await b.confirmations()>=r){h();try{p(l(b))}catch(E){f(E)}}};if(m.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),i>=0){const b=async()=>{try{await c()}catch(E){if(rt(E,"TRANSACTION_REPLACED")){h(),f(E);return}}a||this.provider.once("block",b)};m.push(()=>{this.provider.off("block",b)}),this.provider.once("block",b)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return V(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),k2(this)}reorderedEvent(e){return V(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),V(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),O2(this,e)}replaceableTransaction(e){O(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new _m(this,this.provider);return C(n,fs,e),n}};fs=new WeakMap;let al=_m;function PF(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function O2(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function k2(t){return{orphan:"drop-transaction",tx:t}}function CF(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class Bm extends Hl{constructor(n,r,s){super(n,n.provider);_(this,"interface");_(this,"fragment");_(this,"args");const i=r.decodeEventLog(s,n.data,n.topics);oe(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class M2 extends Hl{constructor(n,r){super(n,n.provider);_(this,"error");oe(this,{error:r})}}var sa;class SF extends B2{constructor(n,r,s){super(s,r);j(this,sa);C(this,sa,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?v(this,sa).getEvent(n.topics[0]):null;if(r)try{return new Bm(n,v(this,sa),r)}catch(s){return new M2(n,s)}return n})}}sa=new WeakMap;var ml;class Om extends al{constructor(n,r,s){super(s,r);j(this,ml);C(this,ml,n)}async wait(n,r){const s=await super.wait(n,r);return s==null?null:new SF(v(this,ml),this.provider,s)}}ml=new WeakMap;class D2 extends a5{constructor(n,r,s,i){super(n,r,s);_(this,"log");oe(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class NF extends D2{constructor(e,n,r,s,i){super(e,n,r,new Bm(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);oe(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Ub=BigInt(0);function L2(t){return t&&typeof t.call=="function"}function F2(t){return t&&typeof t.estimateGas=="function"}function gf(t){return t&&typeof t.resolveName=="function"}function _2(t){return t&&typeof t.sendTransaction=="function"}function U2(t){if(t!=null){if(gf(t))return t;if(t.provider)return t.provider}}var yl;class RF{constructor(e,n,r){j(this,yl);_(this,"fragment");if(oe(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const s=Ui(e.runner,"resolveName"),i=gf(s)?s:null;C(this,yl,async function(){const o=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(p=>yt(p,i))):yt(d,i):d)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return v(this,yl)}}yl=new WeakMap;function Ui(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ni(t){return t==null?null:t.provider||null}async function j2(t,e){const n=ut.dereference(t,"overrides");O(typeof n=="object","invalid overrides parameter","overrides",t);const r=od(n);return O(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),O(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function IF(t,e,n){const r=Ui(t,"resolveName"),s=gf(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(n[o],(a,c)=>(c=ut.dereference(c,a),a==="address"?yt(c,s):c))))}function BF(t){const e=async function(o){const a=await j2(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await yt(a.from,U2(t.runner)));const c=t.interface,l=ee(a.value||Ub,"overrides.value")===Ub,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&O(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),O(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const d=c.receive||c.fallback&&c.fallback.payable;return O(d||l,"cannot send value to non-payable fallback","overrides.value",a.value),O(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=Ui(t.runner,"call");V(L2(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(l){throw ym(l)&&l.data?t.interface.makeError(l.data,c):l}},r=async function(o){const a=t.runner;V(_2(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),l=ni(t.runner);return new Om(t.interface,l,c)},s=async function(o){const a=Ui(t.runner,"estimateGas");return V(F2(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await r(o);return oe(i,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),i}function OF(t,e){const n=function(...l){const u=t.interface.getFunction(e,l);return V(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},r=async function(...l){const u=n(...l);let d={};if(u.inputs.length+1===l.length&&(d=await j2(l.pop()),d.from&&(d.from=await yt(d.from,U2(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const p=await IF(t.runner,u.inputs,l);return Object.assign({},d,await ft({to:t.getAddress(),data:t.interface.encodeFunctionData(u,p)}))},s=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},i=async function(...l){const u=t.runner;V(_2(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...l)),p=ni(t.runner);return new Om(t.interface,p,d)},o=async function(...l){const u=Ui(t.runner,"estimateGas");return V(F2(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...l))},a=async function(...l){const u=Ui(t.runner,"call");V(L2(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...l);let p="0x";try{p=await u.call(d)}catch(m){throw ym(m)&&m.data?t.interface.makeError(m.data,d):m}const f=n(...l);return t.interface.decodeFunctionResult(f,p)},c=async(...l)=>n(...l).constant?await s(...l):await i(...l);return oe(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return V(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function kF(t,e){const n=function(...s){const i=t.interface.getEvent(e,s);return V(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new RF(t,n(...s),s)};return oe(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return V(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const ad=Symbol.for("_ethersInternal_contract"),$2=new WeakMap;function MF(t,e){$2.set(t[ad],e)}function Dt(t){return $2.get(t[ad])}function DF(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function km(t,e){let n,r=null;if(Array.isArray(e)){const i=function(o){if(Se(o,32))return o;const a=t.interface.getEvent(o);return O(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?n=[null]:typeof e=="string"?Se(e,32)?n=[e]:(r=t.interface.getEvent(e),O(r,"unknown fragment","event",e),n=[r.topicHash]):DF(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):O(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:n}}async function pc(t,e){const{subs:n}=Dt(t);return n.get((await km(t,e)).tag)||null}async function jb(t,e,n){const r=ni(t.runner);V(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await km(t,n),{addr:a,subs:c}=Dt(t);let l=c.get(i);if(!l){const d={address:a||t,topics:o},p=y=>{let b=s;if(b==null)try{b=t.interface.getEvent(y.topics[0])}catch{}if(b){const E=b,x=s?t.interface.decodeEventLog(s,y.data,y.topics):[];Hh(t,n,x,A=>new NF(t,A,n,E,y))}else Hh(t,n,[],E=>new D2(t,E,n,y))};let f=[];l={tag:i,listeners:[],start:()=>{f.length||f.push(r.on(d,p))},stop:async()=>{if(f.length==0)return;let y=f;f=[],await Promise.all(y),r.off(d,p)}},c.set(i,l)}return l}let zh=Promise.resolve();async function LF(t,e,n,r){await zh;const s=await pc(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=Array.from(n);r&&c.push(r(a?null:o));try{o.call(t,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Dt(t).subs.delete(s.tag)),i>0}async function Hh(t,e,n,r){try{await zh}catch{}const s=LF(t,e,n,r);return zh=s,await s}const hu=["then"];var Jb;Jb=ad;const xc=class xc{constructor(e,n,r,s){_(this,"target");_(this,"interface");_(this,"runner");_(this,"filters");_(this,Jb);_(this,"fallback");O(typeof e=="string"||W5(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=$h.from(n);oe(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,ad,{value:{}});let o,a=null,c=null;if(s){const d=ni(r);c=new Om(this.interface,d,s)}let l=new Map;if(typeof e=="string")if(Se(e))a=e,o=Promise.resolve(e);else{const d=Ui(r,"resolveName");if(!gf(d))throw Oe("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(e).then(p=>{if(p==null)throw Oe("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Dt(this).addr=p,p})}else o=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Dt(this).addr=d,d});MF(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(d,p,f)=>{if(typeof p=="symbol"||hu.indexOf(p)>=0)return Reflect.get(d,p,f);try{return this.getEvent(p)}catch(m){if(!rt(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,p)=>hu.indexOf(p)>=0?Reflect.has(d,p):Reflect.has(d,p)||this.interface.hasEvent(String(p))});return oe(this,{filters:u}),oe(this,{fallback:i.receive||i.fallback?BF(this):null}),new Proxy(this,{get:(d,p,f)=>{if(typeof p=="symbol"||p in d||hu.indexOf(p)>=0)return Reflect.get(d,p,f);try{return d.getFunction(p)}catch(m){if(!rt(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,p)=>typeof p=="symbol"||p in d||hu.indexOf(p)>=0?Reflect.has(d,p):d.interface.hasFunction(p)})}connect(e){return new xc(this.target,this.interface,e)}attach(e){return new xc(e,this.interface,this.runner)}async getAddress(){return await Dt(this).addrPromise}async getDeployedCode(){const e=ni(this.runner);V(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ni(this.runner);return V(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Dt(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),OF(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),kF(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=Dt(this),o=s||await i,{fragment:a,topics:c}=await km(this,e),l={address:o,topics:c,fromBlock:n,toBlock:r},u=ni(this.runner);return V(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(d=>{let p=a;if(p==null)try{p=this.interface.getEvent(d.topics[0])}catch{}if(p)try{return new Bm(d,this.interface,p)}catch(f){return new M2(d,f)}return new Hl(d,u)})}async on(e,n){const r=await jb(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await jb(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await Hh(this,e,n,null)}async listenerCount(e){if(e){const s=await pc(this,e);return s?s.listeners.length:0}const{subs:n}=Dt(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(e){if(e){const s=await pc(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:n}=Dt(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,n){const r=await pc(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Dt(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await pc(this,e);if(!n)return this;n.stop(),Dt(this).subs.delete(n.tag)}else{const{subs:n}=Dt(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends xc{constructor(s,i=null){super(s,e,i)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let Gh=xc;function FF(){return Gh}class vc extends FF(){}function Ep(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):O(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class _F{constructor(e){_(this,"name");oe(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const z2=new RegExp("^(ipfs)://(.*)$","i"),$b=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),z2,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var ps,mi,hs,ho,hd,H2;const xo=class xo{constructor(e,n,r){j(this,hs);_(this,"provider");_(this,"address");_(this,"name");j(this,ps);j(this,mi);oe(this,{provider:e,address:n,name:r}),C(this,ps,null),C(this,mi,new vc(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return v(this,ps)==null&&C(this,ps,(async()=>{try{return await v(this,mi).supportsInterface("0x9061b923")}catch(e){if(rt(e,"CALL_EXCEPTION"))return!1;throw C(this,ps,null),e}})()),await v(this,ps)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await J(this,hs,ho).call(this,"addr(bytes32)");return i==null||i===Xc?null:i}catch(i){if(rt(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await J(this,hs,ho).call(this,"addr(bytes32,uint)",[i]);if(Se(o,20))return ve(o)}let n=null;for(const i of this.provider.plugins)if(i instanceof _F&&i.supportsCoinType(e)){n=i;break}if(n==null)return null;const r=await J(this,hs,ho).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await n.decodeAddress(e,r);if(s!=null)return s;V(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await J(this,hs,ho).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await J(this,hs,ho).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",i=parseInt(n[4],16);if(n[5].length===i*2)return`${s}://${WM("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;V(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<$b.length;r++){const s=n.match($b[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=Ep(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const l=c[1],u=new vc(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const h=await u.ownerOf(l);if(a!==h)return e.push({type:"!owner",value:h}),{url:null,linkage:e};e.push({type:"owner",value:h})}else if(i==="erc1155"){const h=await u.balanceOf(a,l);if(!h)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:h.toString()})}let d=await u[o](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",Os(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Ep(d)),e.push({type:"metadata-url",value:d});let p={};const f=await new ks(d).send();f.assertOk();try{p=f.bodyJson}catch{try{e.push({type:"!metadata",value:f.bodyText})}catch{const b=f.body;return b&&e.push({type:"!metadata",value:Z(b)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let m=p.image;if(typeof m!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(z2)==null)return e.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:m}),m=Ep(m)}return e.push({type:"url",value:m}),{linkage:e,url:m}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return V(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var s;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await J(s=xo,hd,H2).call(s,e,r);if(i!=null){const o=new xo(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};ps=new WeakMap,mi=new WeakMap,hs=new WeakSet,ho=async function(e,n){n=(n||[]).slice();const r=v(this,mi).interface;n.unshift(Uh(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),V(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[XL(this.name,255),r.encodeFunctionData(s,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const i=await v(this,mi)[e](...n);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!rt(i,"CALL_EXCEPTION"))throw i}return null},hd=new WeakSet,H2=async function(e,n){const r=await xo.getEnsAddress(e);try{const i=await new vc(r,["function resolver(bytes32) view returns (address)"],e).resolver(Uh(n),{enableCcipRead:!0});return i===Xc?null:i}catch(s){throw s}return null},j(xo,hd);let cd=xo;const zb=BigInt(0);function ye(t,e){return function(n){return n==null?e:t(n)}}function cl(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function Gl(t,e){return n=>{const r={};for(const s in t){let i=s;if(e&&s in e&&!(i in n)){for(const o of e[s])if(o in n){i=o;break}}try{const o=t[s](n[i]);o!==void 0&&(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";V(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:n})}}return r}}function UF(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}O(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Fa(t){return O(Se(t,!0),"invalid data","value",t),t}function tt(t){return O(Se(t,32),"invalid hash","value",t),t}const jF=Gl({address:ve,blockHash:tt,blockNumber:he,data:Fa,index:he,removed:ye(UF,!1),topics:cl(tt),transactionHash:tt,transactionIndex:he},{index:["logIndex"]});function $F(t){return jF(t)}const zF=Gl({hash:ye(tt),parentHash:tt,parentBeaconBlockRoot:ye(tt,null),number:he,timestamp:he,nonce:ye(Fa),difficulty:ee,gasLimit:ee,gasUsed:ee,stateRoot:ye(tt,null),receiptsRoot:ye(tt,null),blobGasUsed:ye(ee,null),excessBlobGas:ye(ee,null),miner:ye(ve),prevRandao:ye(tt,null),extraData:Fa,baseFeePerGas:ye(ee)},{prevRandao:["mixHash"]});function HF(t){const e=zF(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:G2(n)),e}const GF=Gl({transactionIndex:he,blockNumber:he,transactionHash:tt,address:ve,topics:cl(tt),data:Fa,index:he,blockHash:tt},{index:["logIndex"]});function VF(t){return GF(t)}const WF=Gl({to:ye(ve,null),from:ye(ve,null),contractAddress:ye(ve,null),index:he,root:ye(Z),gasUsed:ee,blobGasUsed:ye(ee,null),logsBloom:ye(Fa),blockHash:tt,hash:tt,logs:cl(VF),blockNumber:he,cumulativeGasUsed:ee,effectiveGasPrice:ye(ee),blobGasPrice:ye(ee,null),status:ye(he),type:ye(he,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function qF(t){return WF(t)}function G2(t){t.to&&ee(t.to)===zb&&(t.to="0x0000000000000000000000000000000000000000");const e=Gl({hash:tt,index:ye(he,void 0),type:n=>n==="0x"||n==null?0:he(n),accessList:ye(Qi,null),blobVersionedHashes:ye(cl(tt,!0),null),authorizationList:ye(cl(n=>{let r;if(n.signature)r=n.signature;else{let s=n.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},n,{yParity:s})}return{address:ve(n.address),chainId:ee(n.chainId),nonce:ee(n.nonce),signature:Nt.from(r)}},!1),null),blockHash:ye(tt,null),blockNumber:ye(he,null),transactionIndex:ye(he,null),from:ve,gasPrice:ye(ee),maxPriorityFeePerGas:ye(ee),maxFeePerGas:ye(ee),maxFeePerBlobGas:ye(ee,null),gasLimit:ee,to:ye(ve,null),value:ee,nonce:he,data:Fa,creates:ye(ve,null),chainId:ye(ee,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=DD(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Nt.from(t.signature):e.signature=Nt.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&ee(e.blockHash)===zb&&(e.blockHash=null),e}const QF="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Vl{constructor(e){_(this,"name");oe(this,{name:e})}clone(){return new Vl(this.name)}}class bf extends Vl{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);_(this,"effectiveBlock");_(this,"txBase");_(this,"txCreate");_(this,"txDataZero");_(this,"txDataNonzero");_(this,"txAccessListStorageKey");_(this,"txAccessListAddress");const s={effectiveBlock:n};function i(o,a){let c=(r||{})[o];c==null&&(c=a),O(typeof c=="number",`invalud value for ${o}`,"costs",r),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),oe(this,s)}clone(){return new bf(this.effectiveBlock,this)}}class wf extends Vl{constructor(n,r){super("org.ethers.plugins.network.Ens");_(this,"address");_(this,"targetNetwork");oe(this,{address:n||QF,targetNetwork:r??1})}clone(){return new wf(this.address,this.targetNetwork)}}var gl,bl;class KF extends Vl{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");j(this,gl);j(this,bl);C(this,gl,n),C(this,bl,r)}get url(){return v(this,gl)}get processFunc(){return v(this,bl)}clone(){return this}}gl=new WeakMap,bl=new WeakMap;const Tp=new Map;var ia,oa,ms;const Ao=class Ao{constructor(e,n){j(this,ia);j(this,oa);j(this,ms);C(this,ia,e),C(this,oa,ee(n)),C(this,ms,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return v(this,ia)}set name(e){C(this,ia,e)}get chainId(){return v(this,oa)}set chainId(e){C(this,oa,ee(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ee(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ee(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ee(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(v(this,ms).values())}attachPlugin(e){if(v(this,ms).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return v(this,ms).set(e.name,e.clone()),this}getPlugin(e){return v(this,ms).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Ao(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new bf;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const s=Qi(e.accessList);for(const i in s)r+=n.txAccessListAddress+n.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(JF(),e==null)return Ao.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=Tp.get(e);if(n)return n();if(typeof e=="bigint")return new Ao("unknown",e);O(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){O(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Ao(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new wf(e.ensAddress,e.ensNetwork)),n}O(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=Tp.get(e);r&&O(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Tp.set(e,n)}};ia=new WeakMap,oa=new WeakMap,ms=new WeakMap;let Yn=Ao;function Hb(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function Gb(t){return new KF(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Hb(a.maxFee,9),maxPriorityFeePerGas:Hb(a.maxPriorityFee,9)}}catch(i){V(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let Vb=!1;function JF(){if(Vb)return;Vb=!0;function t(e,n,r){const s=function(){const i=new Yn(e,n);return r.ensNetwork!=null&&i.attachPlugin(new wf(null,r.ensNetwork)),i.attachPlugin(new bf),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};Yn.register(e,s),Yn.register(n,s),r.altNames&&r.altNames.forEach(i=>{Yn.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Gb("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Gb("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Vh(t){return JSON.parse(JSON.stringify(t))}var Pr,Zt,ys,Hn,aa,Iu;class YF{constructor(e){j(this,aa);j(this,Pr);j(this,Zt);j(this,ys);j(this,Hn);C(this,Pr,e),C(this,Zt,null),C(this,ys,4e3),C(this,Hn,-2)}get pollingInterval(){return v(this,ys)}set pollingInterval(e){C(this,ys,e)}start(){v(this,Zt)||(C(this,Zt,v(this,Pr)._setTimeout(J(this,aa,Iu).bind(this),v(this,ys))),J(this,aa,Iu).call(this))}stop(){v(this,Zt)&&(v(this,Pr)._clearTimeout(v(this,Zt)),C(this,Zt,null))}pause(e){this.stop(),e&&C(this,Hn,-2)}resume(){this.start()}}Pr=new WeakMap,Zt=new WeakMap,ys=new WeakMap,Hn=new WeakMap,aa=new WeakSet,Iu=async function(){try{const e=await v(this,Pr).getBlockNumber();if(v(this,Hn)===-2){C(this,Hn,e);return}if(e!==v(this,Hn)){for(let n=v(this,Hn)+1;n<=e;n++){if(v(this,Zt)==null)return;await v(this,Pr).emit("block",n)}C(this,Hn,e)}}catch{}v(this,Zt)!=null&&C(this,Zt,v(this,Pr)._setTimeout(J(this,aa,Iu).bind(this),v(this,ys)))};var yi,gi,gs;class Mm{constructor(e){j(this,yi);j(this,gi);j(this,gs);C(this,yi,e),C(this,gs,!1),C(this,gi,n=>{this._poll(n,v(this,yi))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){v(this,gs)||(C(this,gs,!0),v(this,gi).call(this,-2),v(this,yi).on("block",v(this,gi)))}stop(){v(this,gs)&&(C(this,gs,!1),v(this,yi).off("block",v(this,gi)))}pause(e){this.stop()}resume(){this.start()}}yi=new WeakMap,gi=new WeakMap,gs=new WeakMap;var ca,Cr;class ZF extends Mm{constructor(n,r){super(n);j(this,ca);j(this,Cr);C(this,ca,r),C(this,Cr,-2)}pause(n){n&&C(this,Cr,-2),super.pause(n)}async _poll(n,r){const s=await r.getBlock(v(this,ca));s!=null&&(v(this,Cr)===-2?C(this,Cr,s.number):s.number>v(this,Cr)&&(r.emit(v(this,ca),s.number),C(this,Cr,s.number)))}}ca=new WeakMap,Cr=new WeakMap;var md;class XF extends Mm{constructor(n,r){super(n);j(this,md);C(this,md,Vh(r))}async _poll(n,r){throw new Error("@TODO")}}md=new WeakMap;var la;class e_ extends Mm{constructor(n,r){super(n);j(this,la);C(this,la,r)}async _poll(n,r){const s=await r.getTransactionReceipt(v(this,la));s&&r.emit(v(this,la),s)}}la=new WeakMap;var Sr,ua,da,bs,Xt,yd,V2;class Dm{constructor(e,n){j(this,yd);j(this,Sr);j(this,ua);j(this,da);j(this,bs);j(this,Xt);C(this,Sr,e),C(this,ua,Vh(n)),C(this,da,J(this,yd,V2).bind(this)),C(this,bs,!1),C(this,Xt,-2)}start(){v(this,bs)||(C(this,bs,!0),v(this,Xt)===-2&&v(this,Sr).getBlockNumber().then(e=>{C(this,Xt,e)}),v(this,Sr).on("block",v(this,da)))}stop(){v(this,bs)&&(C(this,bs,!1),v(this,Sr).off("block",v(this,da)))}pause(e){this.stop(),e&&C(this,Xt,-2)}resume(){this.start()}}Sr=new WeakMap,ua=new WeakMap,da=new WeakMap,bs=new WeakMap,Xt=new WeakMap,yd=new WeakSet,V2=async function(e){if(v(this,Xt)===-2)return;const n=Vh(v(this,ua));n.fromBlock=v(this,Xt)+1,n.toBlock=e;const r=await v(this,Sr).getLogs(n);if(r.length===0){v(this,Xt)<e-60&&C(this,Xt,e-60);return}for(const s of r)v(this,Sr).emit(v(this,ua),s),C(this,Xt,s.blockNumber)};const t_=BigInt(2),n_=10;function mu(t){return t&&typeof t.then=="function"}function Bu(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class W2{constructor(e){_(this,"name");oe(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function r_(t){return JSON.parse(JSON.stringify(t))}function Wh(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Pp(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Se(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Bu("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Bu("orphan",n),filter:r_(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?Wh(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],i=[],o=a=>{Se(a)?s.push(a):i.push((async()=>{s.push(await yt(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),i.length&&await Promise.all(i),r.address=Wh(s.map(a=>a.toLowerCase()))}return{filter:r,tag:Bu("event",r),type:"event"}}O(!1,"unknown ProviderEvent","event",t)}function Cp(){return new Date().getTime()}const s_={cacheTimeout:250,pollingInterval:4e3};var ct,ws,lt,fa,Ut,bi,vs,Nr,wl,en,pa,ha,fe,kt,qh,Qh,hc,Kh,mc,Ou;class i_{constructor(e,n){j(this,fe);j(this,ct);j(this,ws);j(this,lt);j(this,fa);j(this,Ut);j(this,bi);j(this,vs);j(this,Nr);j(this,wl);j(this,en);j(this,pa);j(this,ha);if(C(this,ha,Object.assign({},s_,n||{})),e==="any")C(this,bi,!0),C(this,Ut,null);else if(e){const r=Yn.from(e);C(this,bi,!1),C(this,Ut,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else C(this,bi,!1),C(this,Ut,null);C(this,Nr,-1),C(this,vs,new Map),C(this,ct,new Map),C(this,ws,new Map),C(this,lt,null),C(this,fa,!1),C(this,wl,1),C(this,en,new Map),C(this,pa,!1)}get pollingInterval(){return v(this,ha).pollingInterval}get provider(){return this}get plugins(){return Array.from(v(this,ws).values())}attachPlugin(e){if(v(this,ws).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return v(this,ws).set(e.name,e.connect(this)),this}getPlugin(e){return v(this,ws).get(e)||null}get disableCcipRead(){return v(this,pa)}set disableCcipRead(e){C(this,pa,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",s).replace("{data}",i),u=new ks(l);c.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",p;try{p=await u.send()}catch(f){o.push(f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:f}});continue}try{const f=p.bodyJson;if(f.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:f}),f.data;f.message&&(d=f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:f})}catch{}V(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),o.push(d)}V(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new TF(HF(e),this)}_wrapLog(e,n){return new Hl($F(e),this)}_wrapTransactionReceipt(e,n){return new B2(qF(e),this)}_wrapTransactionResponse(e,n){return new al(G2(e),this)}_detectNetwork(){V(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){V(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=he(await J(this,fe,kt).call(this,{method:"getBlockNumber"}),"%response");return v(this,Nr)>=0&&C(this,Nr,e),e}_getAddress(e){return yt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Se(e))return Se(e,32)?e:vn(e);if(typeof e=="bigint"&&(e=he(e,"blockTag")),typeof e=="number")return e>=0?vn(e):v(this,Nr)>=0?vn(v(this,Nr)+e):this.getBlockNumber().then(n=>vn(n+e));O(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Wh(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(c,l,u)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(r&&(l!=null||u!=null))throw new Error("invalid filter");const p={};return d&&(p.address=d),n.length&&(p.topics=n),l&&(p.fromBlock=l),u&&(p.toBlock=u),r&&(p.blockHash=r),p};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){const n=od(e),r=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const i=yt(n[s],this);mu(i)?r.push(async function(){n[s]=await i}()):n[s]=i}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);mu(s)?r.push(async function(){n.blockTag=await s}()):n.blockTag=s}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(v(this,Ut)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw v(this,Ut)===s&&C(this,Ut,null),i}})();return C(this,Ut,s),(await s).clone()}const e=v(this,Ut),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(v(this,bi)?(this.emit("network",r,n),v(this,Ut)===e&&C(this,Ut,Promise.resolve(r))):V(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await ft({_block:J(this,fe,Kh).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await J(this,fe,kt).call(this,{method:"getGasPrice"});return ee(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await J(this,fe,kt).call(this,{method:"getPriorityFee"});return ee(u,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*t_+c),new _b(i,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new ks(r.url),i=await r.processFunc(n,this,s);return new _b(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return mu(n)&&(n=await n),ee(await J(this,fe,kt).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await ft({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await J(this,fe,Qh).call(this,J(this,fe,qh).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return ee(await J(this,fe,hc).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return he(await J(this,fe,hc).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Z(await J(this,fe,hc).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const s=ee(n,"position");return Z(await J(this,fe,hc).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:s}=await ft({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Xu.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:s}=await ft({network:this.getNetwork(),params:J(this,fe,Kh).call(this,e,!!n)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:n,params:r}=await ft({network:this.getNetwork(),params:J(this,fe,kt).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ft({network:this.getNetwork(),params:J(this,fe,kt).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await J(this,fe,kt).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ft({network:this.getNetwork(),result:J(this,fe,kt).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:Z(n)}async getLogs(e){let n=this._getFilter(e);mu(n)&&(n=await n);const{network:r,params:s}=await ft({network:this.getNetwork(),params:J(this,fe,kt).call(this,{method:"getLogs",filter:n})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){V(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await cd.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=ve(e);const n=Uh(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await cd.getEnsAddress(this),i=await new vc(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(i==null||i===Xc)return null;const a=await new vc(i,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(rt(r,"BAD_DATA")&&r.value==="0x"||rt(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const c=async l=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=s){i(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Oe("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){V(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=v(this,en).get(e);n&&(n.timer&&clearTimeout(n.timer),v(this,en).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=Xa(this,wl)._++,s=()=>{v(this,en).delete(r),e()};if(this.paused)v(this,en).set(r,{timer:null,func:s,time:n});else{const i=setTimeout(s,n);v(this,en).set(r,{timer:i,func:s,time:Cp()})}return r}_forEachSubscriber(e){for(const n of v(this,ct).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new W2(e.type);case"block":{const n=new YF(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new ZF(this,e.type);case"event":return new Dm(this,e.filter);case"transaction":return new e_(this,e.hash);case"orphan":return new XF(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of v(this,ct).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),v(this,lt)!=null&&n.pause(v(this,lt));break}}async on(e,n){const r=await J(this,fe,Ou).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,v(this,lt)!=null&&r.subscriber.pause(v(this,lt))),this}async once(e,n){const r=await J(this,fe,Ou).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,v(this,lt)!=null&&r.subscriber.pause(v(this,lt))),this}async emit(e,...n){const r=await J(this,fe,mc).call(this,e,n);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const a=new a5(this,o?null:i,e);try{i.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),v(this,ct).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await J(this,fe,mc).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of v(this,ct).values())n+=r.length;return n}async listeners(e){if(e){const r=await J(this,fe,mc).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:r}of v(this,ct).values())n=n.concat(r.map(({listener:s})=>s));return n}async off(e,n){const r=await J(this,fe,mc).call(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),v(this,ct).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:s}=await J(this,fe,Ou).call(this,e);r&&s.stop(),v(this,ct).delete(n)}else for(const[n,{started:r,subscriber:s}]of v(this,ct))r&&s.stop(),v(this,ct).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return v(this,fa)}destroy(){this.removeAllListeners();for(const e of v(this,en).keys())this._clearTimeout(e);C(this,fa,!0)}get paused(){return v(this,lt)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(C(this,Nr,-1),v(this,lt)!=null){if(v(this,lt)==!!e)return;V(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),C(this,lt,!!e);for(const n of v(this,en).values())n.timer&&clearTimeout(n.timer),n.time=Cp()-n.time}resume(){if(v(this,lt)!=null){this._forEachSubscriber(e=>e.resume()),C(this,lt,null);for(const e of v(this,en).values()){let n=e.time;n<0&&(n=0),e.time=Cp(),setTimeout(e.func,n)}}}}ct=new WeakMap,ws=new WeakMap,lt=new WeakMap,fa=new WeakMap,Ut=new WeakMap,bi=new WeakMap,vs=new WeakMap,Nr=new WeakMap,wl=new WeakMap,en=new WeakMap,pa=new WeakMap,ha=new WeakMap,fe=new WeakSet,kt=async function(e){const n=v(this,ha).cacheTimeout;if(n<0)return await this._perform(e);const r=Bu(e.method,e);let s=v(this,vs).get(r);return s||(s=this._perform(e),v(this,vs).set(r,s),setTimeout(()=>{v(this,vs).get(r)===s&&v(this,vs).delete(r)},n)),await s},qh=async function(e,n,r){V(r<n_,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const s=od(e);try{return Z(await this._perform({method:"call",transaction:s,blockTag:n}))}catch(i){if(!this.disableCcipRead&&ym(i)&&i.data&&r>=0&&n==="latest"&&s.to!=null&&Me(i.data,0,4)==="0x556f1830"){const o=i.data,a=await yt(s.to,this);let c;try{c=u_(Me(i.data,4))}catch(d){V(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}V(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);V(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const u={to:a,data:Le([c.selector,l_([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await J(this,fe,qh).call(this,u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw i}},Qh=async function(e){const{value:n}=await ft({network:this.getNetwork(),value:e});return n},hc=async function(e,n,r){let s=this._getAddress(n),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await J(this,fe,Qh).call(this,J(this,fe,kt).call(this,Object.assign(e,{address:s,blockTag:i})))},Kh=async function(e,n){if(Se(e,32))return await J(this,fe,kt).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await J(this,fe,kt).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},mc=async function(e,n){let r=await Pp(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await Pp({orphan:"drop-log",log:n[0]},this)),v(this,ct).get(r.tag)||null},Ou=async function(e){const n=await Pp(e,this),r=n.tag;let s=v(this,ct).get(r);return s||(s={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},v(this,ct).set(r,s)),s};function o_(t,e){try{const n=Jh(t,e);if(n)return Yu(n)}catch{}return null}function Jh(t,e){if(t==="0x")return null;try{const n=he(Me(t,e,e+32)),r=he(Me(t,n,n+32));return Me(t,n+32,n+32+r)}catch{}return null}function Wb(t){const e=qe(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function a_(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const c_=new Uint8Array([]);function l_(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(c_),n+=32;for(let r=0;r<t.length;r++){const s=pe(t[r]);e[r]=Wb(n),e.push(Wb(s.length)),e.push(a_(s)),n+=32+Math.ceil(s.length/32)*32}return Le(e)}const qb="0x0000000000000000000000000000000000000000000000000000000000000000";function u_(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};V(Io(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Me(t,0,32);V(Me(n,0,12)===Me(qb,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Me(n,12);try{const r=[],s=he(Me(t,32,64)),i=he(Me(t,s,s+32)),o=Me(t,s+32);for(let a=0;a<i;a++){const c=o_(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{V(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Jh(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{V(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}V(Me(t,100,128)===Me(qb,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Me(t,96,100);try{const r=Jh(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{V(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function zs(t,e){if(t.provider)return t.provider;V(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Qb(t,e){let n=od(e);if(n.to!=null&&(n.to=yt(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),yt(r,t)]).then(([s,i])=>(O(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else n.from=t.getAddress();return await ft(n)}class d_{constructor(e){_(this,"provider");oe(this,{provider:e||null})}async getNonce(e){return zs(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Qb(this,e)}async populateTransaction(e){const n=zs(this,"populateTransaction"),r=await Qb(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=ee(r.chainId);O(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?O(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&O(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();V(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(V(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):V(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await ft(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await zs(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return zs(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return zs(this,"call").call(await this.populateCall(e))}async resolveName(e){return await zs(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=zs(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=Xu.from(r);return await n.broadcastTransaction(await this.signTransaction(s))}authorize(e){V(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function f_(t){return JSON.parse(JSON.stringify(t))}var dt,Gn,wi,xs,vi,ma,Ds,Yh,Zh;class q2{constructor(e){j(this,Ds);j(this,dt);j(this,Gn);j(this,wi);j(this,xs);j(this,vi);j(this,ma);C(this,dt,e),C(this,Gn,null),C(this,wi,J(this,Ds,Yh).bind(this)),C(this,xs,!1),C(this,vi,null),C(this,ma,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){v(this,xs)||(C(this,xs,!0),J(this,Ds,Yh).call(this,-2))}stop(){v(this,xs)&&(C(this,xs,!1),C(this,ma,!0),J(this,Ds,Zh).call(this),v(this,dt).off("block",v(this,wi)))}pause(e){e&&J(this,Ds,Zh).call(this),v(this,dt).off("block",v(this,wi))}resume(){this.start()}}dt=new WeakMap,Gn=new WeakMap,wi=new WeakMap,xs=new WeakMap,vi=new WeakMap,ma=new WeakMap,Ds=new WeakSet,Yh=async function(e){try{v(this,Gn)==null&&C(this,Gn,this._subscribe(v(this,dt)));let n=null;try{n=await v(this,Gn)}catch(i){if(!rt(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(n==null){C(this,Gn,null),v(this,dt)._recoverSubscriber(this,this._recover(v(this,dt)));return}const r=await v(this,dt).getNetwork();if(v(this,vi)||C(this,vi,r),v(this,vi).chainId!==r.chainId)throw new Error("chaid changed");if(v(this,ma))return;const s=await v(this,dt).send("eth_getFilterChanges",[n]);await this._emitResults(v(this,dt),s)}catch(n){console.log("@TODO",n)}v(this,dt).once("block",v(this,wi))},Zh=function(){const e=v(this,Gn);e&&(C(this,Gn,null),e.then(n=>{v(this,dt).destroyed||v(this,dt).send("eth_uninstallFilter",[n])}))};var xi;class p_ extends q2{constructor(n,r){super(n);j(this,xi);C(this,xi,f_(r))}_recover(n){return new Dm(n,v(this,xi))}async _subscribe(n){return await n.send("eth_newFilter",[v(this,xi)])}async _emitResults(n,r){for(const s of r)n.emit(v(this,xi),n._wrapLog(s,n._network))}}xi=new WeakMap;class h_ extends q2{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const m_="bigint,boolean,function,number,string,symbol".split(/,/g);function ku(t){if(t==null||m_.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(ku);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function y_(t){return new Promise(e=>{setTimeout(e,t)})}function lo(t){return t&&t.toLowerCase()}function Kb(t){return t&&typeof t.pollingInterval=="number"}const Q2={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Sp extends d_{constructor(n,r){super(n);_(this,"address");r=ve(r),oe(this,{address:r})}connect(n){V(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=ku(n),s=[];if(r.from){const o=r.from;s.push((async()=>{const a=await yt(o,this.provider);O(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=>{r.to=await yt(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(n);return await new Promise((i,o)=>{const a=[1e3,100];let c=0;const l=async()=>{try{const u=await this.provider.getTransaction(s);if(u!=null){i(u.replaceableTransaction(r));return}}catch(u){if(rt(u,"CANCELLED")||rt(u,"BAD_DATA")||rt(u,"NETWORK_ERROR")||rt(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,o(u);return}if(rt(u,"INVALID_ARGUMENT")&&(c++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,c>10)){o(u);return}this.provider.emit("error",Oe("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},a.pop()||4e3)};l()})}async signTransaction(n){const r=ku(n);if(r.from){const i=await yt(r.from,this.provider);O(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(n){const r=typeof n=="string"?Dr(n):n;return await this.provider.send("personal_sign",[Z(r),this.address.toLowerCase()])}async signTypedData(n,r,s){const i=ku(s),o=await id.resolveNames(n,r,i,async a=>{const c=await yt(a);return O(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(id.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Dr(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Z(r)])}}var Ai,ya,Rr,Vn,wn,tn,vt,vl,Xh;class g_ extends i_{constructor(n,r){super(n,r);j(this,vl);j(this,Ai);j(this,ya);j(this,Rr);j(this,Vn);j(this,wn);j(this,tn);j(this,vt);C(this,ya,1),C(this,Ai,Object.assign({},Q2,r||{})),C(this,Rr,[]),C(this,Vn,null),C(this,tn,null),C(this,vt,null);{let i=null;const o=new Promise(a=>{i=a});C(this,wn,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(O(!s||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&n!=null&&C(this,tn,Yn.from(n))):s&&(O(n==null||s.matches(n),"staticNetwork MUST match network object","options",r),C(this,tn,s))}_getOption(n){return v(this,Ai)[n]}get _network(){return V(v(this,tn),"network is not available yet","NETWORK_ERROR"),v(this,tn)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let s=n.transaction;if(s&&s.type!=null&&ee(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(v(this,tn))return v(this,tn)}else return n;return v(this,vt)?await v(this,vt):this.ready?(C(this,vt,(async()=>{try{const r=Yn.from(ee(await this.send("eth_chainId",[])));return C(this,vt,null),r}catch(r){throw C(this,vt,null),r}})()),await v(this,vt)):(C(this,vt,(async()=>{const r={id:Xa(this,ya)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],C(this,vt,null)}catch(i){throw C(this,vt,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return Yn.from(ee(s.result));throw this.getRpcError(r,s)})()),await v(this,vt))}_start(){v(this,wn)==null||v(this,wn).resolve==null||(v(this,wn).resolve(),C(this,wn,null),(async()=>{for(;v(this,tn)==null&&!this.destroyed;)try{C(this,tn,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Oe("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await y_(1e3)}J(this,vl,Xh).call(this)})())}async _waitUntilReady(){if(v(this,wn)!=null)return await v(this,wn).promise}_getSubscriber(n){return n.type==="pending"?new h_(this):n.type==="event"?this._getOption("polling")?new Dm(this,n.filter):new p_(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new W2("orphan"):super._getSubscriber(n)}get ready(){return v(this,wn)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(n[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=vn(ee(n[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{n[s]!=null&&(r[s]=Z(n[s]))}),n.accessList&&(r.accessList=Qi(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(s=>s.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(s=>{const i=J5(s);return{address:i.address,nonce:vn(i.nonce),chainId:vn(i.chainId),yParity:vn(i.signature.yParity),r:vn(i.signature.r),s:vn(i.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[lo(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[lo(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[lo(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[lo(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(lo):n.filter.address=lo(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:s}=n,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Oe("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return Oe("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=e0(i),l=ol.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",n.params[0],c?c.data:null);return l.info={error:i,payload:n},l}const o=JSON.stringify(w_(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Oe("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:n,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Oe("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Oe("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Oe("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return Oe("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?Oe("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:i,payload:n}}):Oe("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Oe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const s=Xa(this,ya)._++,i=new Promise((o,a)=>{v(this,Rr).push({resolve:o,reject:a,payload:{method:n,params:r,id:s,jsonrpc:"2.0"}})});return J(this,vl,Xh).call(this),i}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const i=await r;if(n>=i.length)throw new Error("no such account");return new Sp(this,i[n])}const{accounts:s}=await ft({network:this.getNetwork(),accounts:r});n=ve(n);for(const i of s)if(ve(i)===n)return new Sp(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Sp(this,r))}destroy(){v(this,Vn)&&(clearTimeout(v(this,Vn)),C(this,Vn,null));for(const{payload:n,reject:r}of v(this,Rr))r(Oe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));C(this,Rr,[]),super.destroy()}}Ai=new WeakMap,ya=new WeakMap,Rr=new WeakMap,Vn=new WeakMap,wn=new WeakMap,tn=new WeakMap,vt=new WeakMap,vl=new WeakSet,Xh=function(){if(v(this,Vn))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");C(this,Vn,setTimeout(()=>{C(this,Vn,null);const r=v(this,Rr);for(C(this,Rr,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==v(this,Ai).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=>o.payload)).length>v(this,Ai).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of s){if(this.destroyed){c(Oe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=o.filter(d=>d.id===l.id)[0];if(u==null){const d=Oe("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",d),c(d);continue}if("error"in u){c(this.getRpcError(l,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},n))};var As;class b_ extends g_{constructor(n,r){super(n,r);j(this,As);let s=this._getOption("pollingInterval");s==null&&(s=Q2.pollingInterval),C(this,As,s)}_getSubscriber(n){const r=super._getSubscriber(n);return Kb(r)&&(r.pollingInterval=v(this,As)),r}get pollingInterval(){return v(this,As)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");C(this,As,n),this._forEachSubscriber(r=>{Kb(r)&&(r.pollingInterval=v(this,As))})}}As=new WeakMap;function e0(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Se(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=e0(t[e]);if(n)return n}return null}if(typeof t=="string")try{return e0(JSON.parse(t))}catch{}return null}function t0(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)t0(t[n],e);if(typeof t=="string")try{return t0(JSON.parse(t),e)}catch{}}}function w_(t){const e=[];return t0(t,e),e}var ga,ba;const Ys=class Ys extends b_{constructor(n,r,s){const i=Object.assign({},s??{},{batchMaxCount:1});O(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,i);j(this,ga);j(this,ba);C(this,ba,null),s&&s.providerInfo&&C(this,ba,s.providerInfo),C(this,ga,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const l=await n.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const u=new Error(l.message);throw u.code=l.code,u.data=l.data,u.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}get providerInfo(){return v(this,ba)}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){O(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await v(this,ga).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(s=>s.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await v(this,ga).call(this,"eth_requestAccounts",[])}catch(r){const s=r.payload;throw this.getRpcError(s,{id:s.id,error:r})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new Ys(n.provider);const r=n.window?n.window:typeof window<"u"?window:null;if(r==null)return null;const s=n.anyProvider;if(s&&r.ethereum)return new Ys(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const i=n.timeout?n.timeout:300;return i===0?null:await new Promise((o,a)=>{let c=[];const l=p=>{c.push(p.detail),s&&u()},u=()=>{if(clearTimeout(d),c.length)if(n&&n.filter){const p=n.filter(c.map(f=>Object.assign({},f.info)));if(p==null)o(null);else if(p instanceof Ys)o(p);else{let f=null;if(p.uuid&&(f=c.filter(h=>p.uuid===h.info.uuid)[0]),f){const{provider:m,info:h}=f;o(new Ys(m,void 0,{providerInfo:h}))}else a(Oe("filter returned unknown info","UNSUPPORTED_OPERATION",{value:p}))}}else{const{provider:p,info:f}=c[0];o(new Ys(p,void 0,{providerInfo:f}))}else o(null);r.removeEventListener("eip6963:announceProvider",l)},d=setTimeout(()=>{u()},i);r.addEventListener("eip6963:announceProvider",l),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};ga=new WeakMap,ba=new WeakMap;let ld=Ys;const v_=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!1),[s,i]=w.useState(null),{toast:o}=tw();w.useEffect(()=>(l(),window.ethereum&&(window.ethereum.on("accountsChanged",c),window.ethereum.on("chainChanged",()=>window.location.reload())),()=>{window.ethereum&&window.ethereum.removeListener("accountsChanged",c)}),[]);const a=p=>window.ethereum?vM({chain:S0,account:p,transport:xM(window.ethereum)}):null,c=p=>{if(p.length===0)e(null),i(null);else{const f=p[0];e(f);const m=a(f);m&&i(m)}},l=async()=>{var p;if(window.ethereum)try{const m=await new ld(window.ethereum).listAccounts();if(m.length>0&&((p=m[0])!=null&&p.address)){const h=m[0].address;e(h);const y=a(h);y&&i(y)}}catch(f){console.error("Error checking connection:",f)}};return{account:t,isConnecting:n,connect:async()=>{if(!window.ethereum){o({title:"MetaMask not found",description:"Please install MetaMask to connect your wallet.",variant:"destructive"});return}r(!0);try{const m=(await new ld(window.ethereum).send("eth_requestAccounts",[]))[0];e(m);const h=a(m);h&&i(h),o({title:"Wallet connected",description:`Connected to ${m.substring(0,6)}...${m.substring(38)}`})}catch(p){o({title:"Connection failed",description:p.message||"Failed to connect wallet",variant:"destructive"})}finally{r(!1)}},disconnect:()=>{e(null),i(null),o({title:"Wallet disconnected",description:"Your wallet has been disconnected."})},walletClient:s}},x_=w.lazy(()=>Ls(()=>import("./SystemState-BLsfjars.js"),__vite__mapDeps([6,1,2,4,3,5])).then(t=>({default:t.SystemState}))),A_=w.lazy(()=>Ls(()=>import("./PriceFeedHistory-MH7BXeAy.js"),__vite__mapDeps([7,1,2,8,4,3,5])).then(t=>({default:t.PriceFeedHistory}))),E_=w.lazy(()=>Ls(()=>import("./RiskAnalysis-BaOpAB9r.js"),__vite__mapDeps([9,1,2,4,3,5])).then(t=>({default:t.RiskAnalysis}))),T_=w.lazy(()=>Ls(()=>import("./LatestActivity-QzZqozvT.js"),__vite__mapDeps([10,1,2,8,4,3,5])).then(t=>({default:t.LatestActivity}))),P_=w.lazy(()=>Ls(()=>import("./AllTroves-v1B2VZH5.js"),__vite__mapDeps([11,1,2,4,3,5])).then(t=>({default:t.AllTroves}))),C_=w.lazy(()=>Ls(()=>import("./PersonalWalletStats-Bw3S8Q9H.js"),__vite__mapDeps([12,1,2,4,3,5])).then(t=>({default:t.PersonalWalletStats}))),S_=()=>g.jsxs("div",{className:"glass-card p-6 space-y-4",children:[g.jsx("div",{className:"h-6 w-40 rounded bg-muted/30"}),g.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((t,e)=>g.jsx("div",{className:"h-20 rounded-xl bg-muted/30"},e))}),g.jsx("div",{className:"h-64 rounded-xl bg-muted/30"})]}),N_=()=>g.jsxs("div",{className:"glass-card p-6 space-y-6",children:[g.jsx("div",{className:"h-5 w-2/5 rounded bg-muted/30"}),g.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((t,e)=>g.jsx("div",{className:"h-20 rounded-xl bg-muted/30"},e))}),g.jsx("div",{className:"h-64 rounded-xl bg-muted/30"})]}),R_=()=>g.jsxs("div",{className:"glass-card p-6 space-y-4",children:[g.jsx("div",{className:"h-6 w-36 rounded bg-muted/30"}),g.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:Array.from({length:4}).map((t,e)=>g.jsx("div",{className:"h-24 rounded-xl bg-muted/30"},e))}),g.jsx("div",{className:"h-64 rounded-xl bg-muted/30"})]}),I_=()=>g.jsxs("div",{className:"glass-card p-6 space-y-4",children:[g.jsx("div",{className:"h-6 w-48 rounded bg-muted/30"}),g.jsx("div",{className:"h-48 rounded-xl bg-muted/30"})]}),B_=()=>g.jsxs("div",{className:"glass-card p-6 space-y-4",children:[g.jsx("div",{className:"h-6 w-32 rounded bg-muted/30"}),g.jsx("div",{className:"h-64 rounded-xl bg-muted/30"})]}),O_=()=>g.jsxs("div",{className:"glass-card p-6 space-y-4",children:[g.jsx("div",{className:"h-6 w-56 rounded bg-muted/30"}),g.jsx("div",{className:"h-32 rounded-xl bg-muted/30"}),g.jsx("div",{className:"h-32 rounded-xl bg-muted/30"})]}),k_=()=>{const{troves:t,liquidations:e,redemptions:n,dailyMetrics:r,indexerState:s,bridgeAssets:i,isLoading:o,isFetching:a,error:c,refetch:l,lastUpdatedAt:u}=jM(),d=v_(),[p,f]=w.useState(!1),[m,h]=w.useState(!1),[y,b]=w.useState(!1),E=r[0],x=w.useMemo(()=>{const B=t.reduce((N,I)=>N+I.collateral,0),D=t.reduce((N,I)=>N+I.principal_debt+I.interest,0),$=(E==null?void 0:E.btc_price)??0;return{tcr:D>0?B*$/D:0,tcrMinus10:D>0?B*$*.9/D:0,tcrMinus20:D>0?B*$*.8/D:0,totalCollateral:B,totalDebt:D,totalTroves:t.length,btcPrice:$}},[t,E]),A=w.useMemo(()=>{const B={critical:{count:0,collateral:0},high:{count:0,collateral:0},elevated:{count:0,collateral:0},safe:{count:0,collateral:0}};return t.forEach(D=>{D.collaterization_ratio<1.2?(B.critical.count++,B.critical.collateral+=D.collateral):D.collaterization_ratio<1.6?(B.high.count++,B.high.collateral+=D.collateral):D.collaterization_ratio<2?(B.elevated.count++,B.elevated.collateral+=D.collateral):(B.safe.count++,B.safe.collateral+=D.collateral)}),B},[t]),T=w.useMemo(()=>r.slice(0,30).reverse().map(B=>({date:new Date(B.day).toLocaleDateString("en-US",{month:"short",day:"numeric"}),tcr:B.tcr,btcPrice:B.btc_price})),[r]),P=(s==null?void 0:s.block_number)??null,S=(s==null?void 0:s.updated_at)??(E==null?void 0:E.updated_at)??null,R=a&&!o,M=!!c,F=u??S;return g.jsxs("div",{className:"min-h-screen",children:[g.jsx(yN,{blockNumber:P,blockTimestamp:S,lastUpdatedAt:F,btcPrice:x.btcPrice,isSyncing:R,onBridgedAssetsClick:()=>f(!0),onDebtCalculatorClick:()=>h(!0),onRedeemClick:()=>b(!0)}),g.jsxs("main",{className:"max-w-[1280px] mx-auto px-4 py-6 space-y-6 sm:px-6",children:[M&&g.jsxs(Gs,{variant:"destructive",className:"glass-card border border-destructive/30",children:[g.jsx(fA,{className:"h-4 w-4"}),g.jsx(Vs,{children:"Unable to sync data"}),g.jsxs(Ws,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[g.jsx("span",{className:"text-sm",children:c??"An unexpected error occurred."}),g.jsxs(Pt,{size:"sm",variant:"outline",onClick:()=>void l(),disabled:a,children:[a&&g.jsx(Mu,{className:"mr-2 h-4 w-4 animate-spin"}),"Retry"]})]})]}),g.jsx(w.Suspense,{fallback:g.jsx(O_,{}),children:g.jsx(C_,{troves:t,liquidations:e,redemptions:n,isLoading:o,wallet:d,onDebtCalculatorClick:()=>h(!0)})}),g.jsx(w.Suspense,{fallback:g.jsx(S_,{}),children:g.jsx(x_,{tcr:x.tcr,tcrMinus10:x.tcrMinus10,tcrMinus20:x.tcrMinus20,totalCollateral:x.totalCollateral,totalDebt:x.totalDebt,totalTroves:x.totalTroves,chartData:T,isLoading:o})}),g.jsx(w.Suspense,{fallback:g.jsx(N_,{}),children:g.jsx(A_,{})}),g.jsx(w.Suspense,{fallback:g.jsx(R_,{}),children:g.jsx(E_,{critical:A.critical,high:A.high,elevated:A.elevated,safe:A.safe,isLoading:o})}),g.jsx(w.Suspense,{fallback:g.jsx(I_,{}),children:g.jsx(T_,{liquidations:e,redemptions:n,isLoading:o})}),g.jsx(w.Suspense,{fallback:g.jsx(B_,{}),children:g.jsx(P_,{troves:t,isLoading:o})})]}),g.jsx(G8,{open:p,onOpenChange:f,assets:i,isLoading:o}),g.jsx(J8,{open:m,onOpenChange:h,btcPrice:x.btcPrice,troves:t,walletAccount:d.account}),g.jsx(FM,{open:y,onOpenChange:b,wallet:d})]})},n0=w.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));n0.displayName="Card";const M_=w.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));M_.displayName="CardHeader";const D_=w.forwardRef(({className:t,...e},n)=>g.jsx("h3",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));D_.displayName="CardTitle";const L_=w.forwardRef(({className:t,...e},n)=>g.jsx("p",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));L_.displayName="CardDescription";const F_=w.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));F_.displayName="CardContent";const __=w.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));__.displayName="CardFooter";const U_=()=>{const t=[{name:"Protocol Support",role:"Technical Assistance",email:"support@musd.protocol",phone:"+1 (555) 123-4567"},{name:"Risk Team",role:"Risk Management",email:"risk@musd.protocol",phone:"+1 (555) 234-5678"},{name:"Operations",role:"General Inquiries",email:"ops@musd.protocol",phone:"+1 (555) 345-6789"}];return g.jsxs("div",{className:"min-h-screen",children:[g.jsx("header",{className:"sticky top-0 z-50 w-full glass-card border-b border-card-border/60",children:g.jsx("div",{className:"mx-auto flex max-w-[1280px] items-center gap-4 px-4 py-3 sm:px-6 sm:py-4",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(wS,{to:"/",children:g.jsxs(Pt,{variant:"ghost",size:"icon",className:"rounded-full",children:[g.jsx(pA,{className:"h-5 w-5"}),g.jsx("span",{className:"sr-only",children:"Back to Dashboard"})]})}),g.jsx("h1",{className:"text-xl font-bold uppercase tracking-wider",children:"Contacts"})]})})}),g.jsx("main",{className:"max-w-[1280px] mx-auto px-4 py-6 sm:px-6",children:g.jsxs(n0,{className:"glass-card p-5 sm:p-6 md:p-8",children:[g.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[g.jsx(hA,{className:"h-8 w-8 text-primary"}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold",children:"Contact Information"}),g.jsx("p",{className:"text-muted-foreground",children:"Get in touch with our team"})]})]}),g.jsx("div",{className:"space-y-4",children:t.map((e,n)=>g.jsx(n0,{className:"glass-card transition-colors hover:border-primary/40",children:g.jsxs("div",{className:"flex flex-col gap-3 p-5 sm:p-6",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("h3",{className:"text-lg font-semibold",children:e.name}),g.jsx("p",{className:"text-sm text-muted-foreground",children:e.role})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx(mA,{className:"h-4 w-4 text-primary"}),g.jsx("a",{href:`mailto:${e.email}`,className:"hover:text-primary transition-colors",children:e.email})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx(yA,{className:"h-4 w-4 text-primary"}),g.jsx("a",{href:`tel:${e.phone}`,className:"hover:text-primary transition-colors",children:e.phone})]})]})]})},n))})]})})]})},j_=()=>{const t=Pl();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),g.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},$_=new aA,z_=()=>g.jsx(cA,{client:$_,children:g.jsxs(yC,{children:[g.jsx(YE,{}),g.jsx(RT,{}),g.jsx(yS,{children:g.jsxs(lS,{children:[g.jsx(wu,{path:"/",element:g.jsx(k_,{})}),g.jsx(wu,{path:"/contacts",element:g.jsx(U_,{})}),g.jsx(wu,{path:"*",element:g.jsx(j_,{})})]})})]})});ew(document.getElementById("root")).render(g.jsx(z_,{}));export{Gs as A,gc as B,n0 as C,bc as H,mr as I,Pe as P,yv as S,Ws as a,Pt as b,xe as c,_a as d,BA as e,we as f,$e as g,C8 as h,cw as i,nt as j,ir as k,tw as l,$8 as m,H as n,L0 as o,Qe as p,d3 as q,Ll as r,ao as s,ef as t,Sf as u,cO as v,Jd as w,sn as x,Hi as y,rr as z};
