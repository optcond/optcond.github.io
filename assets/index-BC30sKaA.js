import{c as P,a as fs,g as hs}from"./react-uYZGv8Ap.js";import{d as ms}from"./index-BuGYiLTQ.js";import{at as Fe,au as $e,av as gs,aw as ps,ax as ut,ay as H,az as U,J as dt,aA as Y,a3 as lt,x as ft,a9 as ht,aB as mt,ak as W,aC as Pe,aa as G,m as ke,z as b,a1 as gt,aD as ys,aE as bs,aF as ae,aG as Ge,ah as pt,aH as _s,aI as yt,aJ as bt,aK as Es,aL as X,aM as Ce,aN as Le,aO as ws,aP as Me,aQ as xs,P as C,aR as Q,ap as _t,aq as Et,aS as vs,q as fe,a2 as B,aT as wt,aU as K,aV as x,ae as xt,af as vt,G as St,I as It,ag as Tt,aW as Ae,aX as Pt,aY as Ct,aZ as At,a_ as Ss,a$ as D,b0 as Is,b1 as Ts,b2 as Ps,b3 as Cs,b4 as As,b5 as Rs,b6 as Bs,al as Oe,b7 as Rt,b8 as Bt,c as kt,b9 as Lt,ba as Mt,bb as Re,bc as Ot,bd as jt,an as qt,be as ks,bf as Ls,bg as Ms,bh as Os,bi as js,D as qs,bj as Ns,bk as Hs,bl as Us,bm as Ds,bn as Fs,bo as $s,bp as Gs,bq as Vs,br as zs,bs as Ws,bt as Ks,bu as Js,bv as Ys,bw as Xs,bx as Qs,by as Zs,R as ea,bz as ta,bA as sa,bB as aa,bC as na,bD as ra,bE as oa,bF as ia,bG as ca,bH as ua,bI as da,bJ as la,bK as fa,bL as ha,bM as ma,bN as ga,bO as pa,bP as ya,bQ as ba,bR as _a,E as Ea,_ as wa,bS as xa,bT as va,bU as Sa,H as Ia,bV as Ta,bW as Pa,bX as Ca,bY as Aa,bZ as Ra,b_ as Ba,b$ as ka,c0 as La,c1 as Ma,c2 as Oa,c3 as ja,c4 as qa,Y as Na,c5 as Ha,c6 as Ua,c7 as Da,c8 as Fa,c9 as $a,ca as Ga,cb as Va,cc as za,cd as Wa,ce as Ka,cf as Ja,cg as Ya,ch as Xa,a7 as Qa,ci as Za,cj as en,ck as tn,cl as sn,cm as an,cn as nn,co as rn,cp as on,cq as cn,cr as un,cs as dn,ct as ln,cu as fn,cv as hn,cw as mn,cx as gn,cy as pn,cz as yn,cA as bn,cB as _n,cC as En,cD as wn,cE as xn,$ as vn,cF as Sn,cG as In,cH as Tn,T as Pn,cI as Cn,cJ as An,cK as Rn,cL as Bn,cM as kn,cN as Ln,cO as Mn,cP as On,cQ as jn,X as qn,cR as Nn,U as Hn,cS as Un,cT as Dn,cU as Fn,cV as $n,ab as Gn,ad as Vn,cW as zn,N as Wn,cX as Kn,cY as Jn,cZ as Yn,c_ as Xn,c$ as Qn,d0 as Zn,ac as er,d1 as tr,F as sr,d2 as ar,p as nr,d3 as rr,d4 as or,d5 as ir,d6 as cr,d7 as ur,d8 as dr,d9 as lr,da as fr,db as hr,dc as mr,dd as gr,y as pr,de as yr,df as br,dg as _r,ao as Er,dh as wr,di as xr,dj as vr,dk as Sr,dl as Ir,dm as Ve,dn as ze,dp as Tr,dq as Pr,dr as Cr,ds as Ar,dt as Rr,du as Br,dv as kr,dw as Lr,ar as Mr,dx as Or,dy as jr,dz as qr,dA as Nr,dB as Hr,dC as We,dD as ne,dE as Ke,a8 as Ur,dF as Dr,dG as Fr,dH as $r,dI as Gr,dJ as Vr,dK as zr,as as Wr,dL as Kr,dM as Jr,dN as Yr,dO as Xr,dP as Qr,dQ as Zr,dR as eo,dS as to,dT as so,dU as ao,dV as no,dW as ro,dX as oo,dY as io,dZ as co,d_ as uo,d$ as lo,e0 as fo,e1 as ho,e2 as mo,e3 as go,e4 as po,e5 as yo,e6 as bo,e7 as _o,e8 as Eo,e9 as wo,ea as xo,eb as vo,ec as So,ed as Io,ee as To,ef as Po,eg as Co,eh as Ao,ei as Ro,ej as Bo,ek as ko,el as Lo,em as Mo,en as Oo,eo as jo,ep as qo,eq as No,er as Ho,es as Uo,et as Do,eu as Fo,ev as $o,ew as Go,ex as Vo,ey as zo,ez as Wo,eA as Ko,Z as Jo,eB as Yo,eC as Xo,eD as Qo,eE as Zo,eF as ei,eG as ti,eH as si,eI as ai,eJ as ni,eK as ri,eL as oi,eM as ii,eN as ci,eO as ui,eP as di,eQ as li,eR as fi,eS as hi,eT as mi,eU as gi,eV as pi,eW as yi,eX as bi,eY as _i,eZ as Ei,e_ as wi,e$ as xi,f0 as vi,f1 as Si,f2 as Ii,f3 as Ti,f4 as Pi,f5 as Ci,f6 as Ai,f7 as Ri,f8 as Bi,f9 as ki,fa as Li,fb as Mi,fc as Oi,fd as ji,fe as qi,ff as Ni,fg as Hi,fh as Ui,fi as Di,fj as Fi,fk as $i,fl as Gi,fm as Vi,fn as zi,fo as Wi,am as Ki,fp as Ji,fq as Yi,fr as Xi,fs as Je,ft as Qi,fu as Zi,fv as ec,fw as tc,fx as sc,K as ac,o as nc,fy as rc,fz as Ye,fA as oc,fB as ic,fC as cc,fD as uc,fE as dc,fF as lc,fG as fc}from"./index-Br4yXWID.js";import{e as hc,a as Nt,b as Ht,c as mc,d as gc,f as Ut,s as Dt,g as pc,h as yc,i as bc,p as Xe,n as _c,j as Ec,k as wc,z as xc}from"./parseSignature-RDEiNwta.js";import{f as vc,s as Sc}from"./fallback-C8jaedC9.js";import{_ as Ic}from"./supabase-CskpBK-R.js";import{ccipRequest as Qe,offchainLookup as Tc,offchainLookupAbiItem as Pc,offchainLookupSignature as Cc}from"./ccip-FuFiKIas.js";import{e as Ac}from"./events-DK53yLfj.js";function Rc(e,t){for(var a=0;a<t.length;a++){const s=t[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const r=Object.getOwnPropertyDescriptor(s,n);r&&Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function Bc(e){let t;if(typeof e=="string")t=Fe(e,{modifiers:$e});else{const a=gs(e),s=e.length;for(let n=0;n<s;n++){const r=e[n];if(!ps(r)){t=Fe(r,{modifiers:$e,structs:a});break}}}if(!t)throw new ut({param:e});return t}function Be(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function kc(e){return e.opcode==="CREATE2"?$t(e):Ft(e)}function Ft(e){const t=H(U(e.from));let a=H(e.nonce);return a[0]===0&&(a=new Uint8Array([])),U(`0x${Y(ht([t,a],"bytes")).slice(26)}`)}function $t(e){const t=H(U(e.from)),a=dt(Be(e.salt)?e.salt:H(e.salt),{size:32}),s="bytecodeHash"in e?Be(e.bytecodeHash)?e.bytecodeHash:H(e.bytecodeHash):Y(e.bytecode,"bytes");return U(lt(Y(ft([H("0xff"),t,a,s])),12))}function Lc({chains:e,id:t}){return e.find(a=>a.id===t)}function je(e,t="hex"){const a=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new mt(e);return W(e)}return e})(),s=Pe(a,{recursiveReadLimit:Number.POSITIVE_INFINITY});return Gt(s,t)}function Gt(e,t="hex"){if(e.bytes.length===0)return t==="hex"?G(e.bytes):e.bytes;const a=e.readByte();if(a<128&&e.decrementPosition(1),a<192){const n=Ze(e,a,128),r=e.readBytes(n);return t==="hex"?G(r):r}const s=Ze(e,a,192);return Mc(e,s,t)}function Ze(e,t,a){if(a===128&&t<128)return 1;if(t<=a+55)return t-a;if(t===a+55+1)return e.readUint8();if(t===a+55+2)return e.readUint16();if(t===a+55+3)return e.readUint24();if(t===a+55+4)return e.readUint32();throw new ke("Invalid RLP prefix")}function Mc(e,t,a){const s=e.position,n=[];for(;e.position-s<t;)n.push(Gt(e,a));return n}function Vt(e){return b(e)&&gt(e)===32}const Oc=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),zt=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),jc=zt.map(e=>(9*e+5)%16),Wt=(()=>{const a=[[zt],[jc]];for(let s=0;s<4;s++)for(let n of a)n.push(n[s].map(r=>Oc[r]));return a})(),Kt=Wt[0],Jt=Wt[1],Yt=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),qc=Kt.map((e,t)=>e.map(a=>Yt[t][a])),Nc=Jt.map((e,t)=>e.map(a=>Yt[t][a])),Hc=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Uc=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function et(e,t,a,s){return e===0?t^a^s:e===1?t&a|~t&s:e===2?(t|~a)^s:e===3?t&s|a&~s:t^(a|~s)}const re=new Uint32Array(16);class Dc extends bs{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:a,h2:s,h3:n,h4:r}=this;return[t,a,s,n,r]}set(t,a,s,n,r){this.h0=t|0,this.h1=a|0,this.h2=s|0,this.h3=n|0,this.h4=r|0}process(t,a){for(let i=0;i<16;i++,a+=4)re[i]=t.getUint32(a,!0);let s=this.h0|0,n=s,r=this.h1|0,u=r,d=this.h2|0,o=d,c=this.h3|0,m=c,h=this.h4|0,f=h;for(let i=0;i<5;i++){const l=4-i,g=Hc[i],p=Uc[i],_=Kt[i],y=Jt[i],v=qc[i],k=Nc[i];for(let S=0;S<16;S++){const I=ae(s+et(i,r,d,c)+re[_[S]]+g,v[S])+h|0;s=h,h=c,c=ae(d,10)|0,d=r,r=I}for(let S=0;S<16;S++){const I=ae(n+et(l,u,o,m)+re[y[S]]+p,k[S])+f|0;n=f,f=m,m=ae(o,10)|0,o=u,u=I}}this.set(this.h1+d+m|0,this.h2+c+f|0,this.h3+h+n|0,this.h4+s+u|0,this.h0+r+o|0)}roundClean(){Ge(re)}destroy(){this.destroyed=!0,Ge(this.buffer),this.set(0,0,0,0,0)}}const Fc=ys(()=>new Dc),$c=Fc;function Gc(e,t){const a=t||"hex",s=$c(b(e,{strict:!1})?H(e):e);return a==="bytes"?s:pt(s)}const ve=new Map;async function Vc(e){const{getSocket:t,keepAlive:a=!0,key:s="socket",reconnect:n=!0,url:r}=e,{interval:u=3e4}=typeof a=="object"?a:{},{attempts:d=5,delay:o=2e3}=typeof n=="object"?n:{},c=JSON.stringify({keepAlive:a,key:s,url:r,reconnect:n});let m=ve.get(c);if(m)return m;let h=0;const{schedule:f}=_s({id:c,fn:async()=>{const g=new Map,p=new Map;let _,y,v,k=!1;function S(){if(n&&h<d){if(k)return;k=!0,h++,y==null||y.close(),setTimeout(async()=>{await I().catch(console.error),k=!1},o)}else g.clear(),p.clear()}async function I(){const E=await t({onClose(){var w,R;for(const T of g.values())(w=T.onError)==null||w.call(T,new X({url:r}));for(const T of p.values())(R=T.onError)==null||R.call(T,new X({url:r}));S()},onError(w){var R,T;_=w;for(const A of g.values())(R=A.onError)==null||R.call(A,_);for(const A of p.values())(T=A.onError)==null||T.call(A,_);S()},onOpen(){_=void 0,h=0},onResponse(w){const R=w.method==="eth_subscription",T=R?w.params.subscription:w.id,A=R?p:g,M=A.get(T);M&&M.onResponse(w),R||A.delete(T)}});if(y=E,a&&(v&&clearInterval(v),v=setInterval(()=>{var w;return(w=y.ping)==null?void 0:w.call(y)},u)),n&&p.size>0){const w=p.entries();for(const[R,{onResponse:T,body:A,onError:M}]of w)A&&(p.delete(R),m==null||m.request({body:A,onResponse:T,onError:M}))}return E}return await I(),_=void 0,m={close(){v&&clearInterval(v),y.close(),ve.delete(c)},get socket(){return y},request({body:E,onError:w,onResponse:R}){_&&w&&w(_);const T=E.id??Es.take(),A=M=>{var De;typeof M.id=="number"&&T!==M.id||(E.method==="eth_subscribe"&&typeof M.result=="string"&&p.set(M.result,{onResponse:A,onError:w,body:E}),E.method==="eth_unsubscribe"&&p.delete((De=E.params)==null?void 0:De[0]),R(M))};g.set(T,{onResponse:A,onError:w});try{y.request({body:{jsonrpc:"2.0",id:T,...E}})}catch(M){w==null||w(M)}},requestAsync({body:E,timeout:w=1e4}){return yt(()=>new Promise((R,T)=>this.request({body:E,onError:T,onResponse:R})),{errorInstance:new bt({body:E,url:r}),timeout:w})},requests:g,subscriptions:p,url:r},ve.set(c,m),[m]}}),[i,[l]]=await f();return l}async function de(e,t={}){const{keepAlive:a,reconnect:s}=t;return Vc({async getSocket({onClose:n,onError:r,onOpen:u,onResponse:d}){const o=await Ic(()=>import("./native-CJ5et6AR.js"),[]).then(i=>i.WebSocket),c=new o(e);function m(){c.removeEventListener("close",m),c.removeEventListener("message",h),c.removeEventListener("error",r),c.removeEventListener("open",u),n()}function h({data:i}){if(!(typeof i=="string"&&i.trim().length===0))try{const l=JSON.parse(i);d(l)}catch(l){r(l)}}c.addEventListener("close",m),c.addEventListener("message",h),c.addEventListener("error",r),c.addEventListener("open",u),c.readyState===o.CONNECTING&&await new Promise((i,l)=>{c&&(c.onopen=i,c.onerror=l)});const{close:f}=c;return Object.assign(c,{close(){f.bind(c)(),m()},ping(){try{if(c.readyState===c.CLOSED||c.readyState===c.CLOSING)throw new Ce({url:c.url,cause:new X({url:c.url})});const i={jsonrpc:"2.0",id:null,method:"net_version",params:[]};c.send(JSON.stringify(i))}catch(i){r(i)}},request({body:i}){if(c.readyState===c.CLOSED||c.readyState===c.CLOSING)throw new Ce({body:i,url:c.url,cause:new X({url:c.url})});return c.send(JSON.stringify(i))}})},keepAlive:a,reconnect:s,url:e})}async function zc(e){const t=await de(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function Xt(e){return Le(e,-32)===hc}function Qt(e){return ws(e)}function Wc(e){if(!Xt(e))return{signature:e};const[t,a,s]=Me([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:a,signature:s}}function Kc(e){if(!Qt(e))return{signature:e};const{authorization:t,to:a,...s}=xs(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:C(t.r,{size:32}),s:C(t.s,{size:32}),yParity:t.yParity},...a?{address:a}:{},...s}}async function Zt({message:e,signature:t}){return Q({hash:_t(e),signature:t})}async function es(e){const{domain:t,message:a,primaryType:s,signature:n,types:r}=e;return Q({hash:Et({domain:t,message:a,primaryType:s,types:r}),signature:n})}function Jc(e){const{address:t,data:a,signature:s,to:n="hex"}=e,r=vs({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:a,signature:s,to:t});return n==="hex"?r:W(r)}async function Yc({address:e,hash:t,signature:a}){return fe(U(e),await Q({hash:t,signature:a}))}async function Xc({address:e,message:t,signature:a}){return fe(U(e),await Zt({message:t,signature:a}))}async function Qc(e){const{address:t,domain:a,message:s,primaryType:n,signature:r,types:u}=e;return fe(U(t),await es({domain:a,message:s,primaryType:n,signature:r,types:u}))}function ts(e){const t=Le(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&B(t)>=192)return"legacy";throw new wt({serializedType:t})}function ss(e){const t=ts(e);return t==="eip1559"?tu(e):t==="eip2930"?su(e):t==="eip4844"?eu(e):t==="eip7702"?Zc(e):au(e)}function Zc(e){const t=he(e),[a,s,n,r,u,d,o,c,m,h,f,i,l]=t;if(t.length!==10&&t.length!==13)throw new K({attributes:{chainId:a,nonce:s,maxPriorityFeePerGas:n,maxFeePerGas:r,gas:u,to:d,value:o,data:c,accessList:m,authorizationList:h,...t.length>9?{v:f,r:i,s:l}:{}},serializedTransaction:e,type:"eip7702"});const g={chainId:B(a),type:"eip7702"};return b(d)&&d!=="0x"&&(g.to=d),b(u)&&u!=="0x"&&(g.gas=x(u)),b(c)&&c!=="0x"&&(g.data=c),b(s)&&(g.nonce=s==="0x"?0:B(s)),b(o)&&o!=="0x"&&(g.value=x(o)),b(r)&&r!=="0x"&&(g.maxFeePerGas=x(r)),b(n)&&n!=="0x"&&(g.maxPriorityFeePerGas=x(n)),m.length!==0&&m!=="0x"&&(g.accessList=me(m)),h.length!==0&&h!=="0x"&&(g.authorizationList=nu(h)),gc(g),{...t.length===13?Z(t):void 0,...g}}function eu(e){const t=he(e),a=t.length===4,s=a?t[0]:t,n=a?t.slice(1):[],[r,u,d,o,c,m,h,f,i,l,g,p,_,y]=s,[v,k,S]=n;if(!(s.length===11||s.length===14))throw new K({attributes:{chainId:r,nonce:u,maxPriorityFeePerGas:d,maxFeePerGas:o,gas:c,to:m,value:h,data:f,accessList:i,...s.length>9?{v:p,r:_,s:y}:{}},serializedTransaction:e,type:"eip4844"});const I={blobVersionedHashes:g,chainId:B(r),to:m,type:"eip4844"};return b(c)&&c!=="0x"&&(I.gas=x(c)),b(f)&&f!=="0x"&&(I.data=f),b(u)&&(I.nonce=u==="0x"?0:B(u)),b(h)&&h!=="0x"&&(I.value=x(h)),b(l)&&l!=="0x"&&(I.maxFeePerBlobGas=x(l)),b(o)&&o!=="0x"&&(I.maxFeePerGas=x(o)),b(d)&&d!=="0x"&&(I.maxPriorityFeePerGas=x(d)),i.length!==0&&i!=="0x"&&(I.accessList=me(i)),v&&k&&S&&(I.sidecars=xt({blobs:v,commitments:k,proofs:S})),mc(I),{...s.length===14?Z(s):void 0,...I}}function tu(e){const t=he(e),[a,s,n,r,u,d,o,c,m,h,f,i]=t;if(!(t.length===9||t.length===12))throw new K({attributes:{chainId:a,nonce:s,maxPriorityFeePerGas:n,maxFeePerGas:r,gas:u,to:d,value:o,data:c,accessList:m,...t.length>9?{v:h,r:f,s:i}:{}},serializedTransaction:e,type:"eip1559"});const l={chainId:B(a),type:"eip1559"};return b(d)&&d!=="0x"&&(l.to=d),b(u)&&u!=="0x"&&(l.gas=x(u)),b(c)&&c!=="0x"&&(l.data=c),b(s)&&(l.nonce=s==="0x"?0:B(s)),b(o)&&o!=="0x"&&(l.value=x(o)),b(r)&&r!=="0x"&&(l.maxFeePerGas=x(r)),b(n)&&n!=="0x"&&(l.maxPriorityFeePerGas=x(n)),m.length!==0&&m!=="0x"&&(l.accessList=me(m)),Nt(l),{...t.length===12?Z(t):void 0,...l}}function su(e){const t=he(e),[a,s,n,r,u,d,o,c,m,h,f]=t;if(!(t.length===8||t.length===11))throw new K({attributes:{chainId:a,nonce:s,gasPrice:n,gas:r,to:u,value:d,data:o,accessList:c,...t.length>8?{v:m,r:h,s:f}:{}},serializedTransaction:e,type:"eip2930"});const i={chainId:B(a),type:"eip2930"};return b(u)&&u!=="0x"&&(i.to=u),b(r)&&r!=="0x"&&(i.gas=x(r)),b(o)&&o!=="0x"&&(i.data=o),b(s)&&(i.nonce=s==="0x"?0:B(s)),b(d)&&d!=="0x"&&(i.value=x(d)),b(n)&&n!=="0x"&&(i.gasPrice=x(n)),c.length!==0&&c!=="0x"&&(i.accessList=me(c)),Ht(i),{...t.length===11?Z(t):void 0,...i}}function au(e){const t=je(e,"hex"),[a,s,n,r,u,d,o,c,m]=t;if(!(t.length===6||t.length===9))throw new K({attributes:{nonce:a,gasPrice:s,gas:n,to:r,value:u,data:d,...t.length>6?{v:o,r:c,s:m}:{}},serializedTransaction:e,type:"legacy"});const h={type:"legacy"};if(b(r)&&r!=="0x"&&(h.to=r),b(n)&&n!=="0x"&&(h.gas=x(n)),b(d)&&d!=="0x"&&(h.data=d),b(a)&&(h.nonce=a==="0x"?0:B(a)),b(u)&&u!=="0x"&&(h.value=x(u)),b(s)&&s!=="0x"&&(h.gasPrice=x(s)),Ut(h),t.length===6)return h;const f=b(o)&&o!=="0x"?x(o):0n;if(m==="0x"&&c==="0x")return f>0&&(h.chainId=Number(f)),h;const i=f,l=Number((i-35n)/2n);if(l>0)h.chainId=l;else if(i!==27n&&i!==28n)throw new vt({v:i});return h.v=i,h.s=m,h.r=c,h.yParity=i%2n===0n?1:0,h}function he(e){return je(`0x${e.slice(4)}`,"hex")}function me(e){const t=[];for(let a=0;a<e.length;a++){const[s,n]=e[a];if(!St(s,{strict:!1}))throw new It({address:s});t.push({address:s,storageKeys:n.map(r=>Vt(r)?r:Tt(r))})}return t}function nu(e){const t=[];for(let a=0;a<e.length;a++){const[s,n,r,u,d,o]=e[a];t.push({address:n,chainId:s==="0x"?0:B(s),nonce:r==="0x"?0:B(r),...Z([u,d,o])})}return t}function Z(e){const t=e.slice(-3),a=t[0]==="0x"||x(t[0])===0n?27n:28n;return{r:Ae(t[1],{size:32}),s:Ae(t[2],{size:32}),v:a,yParity:a===27n?0:1}}class as extends ke{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function qe(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new as({value:e});let[a,s="0"]=e.split(".");const n=a.startsWith("-");if(n&&(a=a.slice(1)),s=s.replace(/(0+)$/,""),t===0)Math.round(+`.${s}`)===1&&(a=`${BigInt(a)+1n}`),s="";else if(s.length>t){const[r,u,d]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],o=Math.round(+`${u}.${d}`);o>9?s=`${BigInt(r)+BigInt(1)}0`.padStart(r.length+1,"0"):s=`${r}${o}`,s.length>t&&(s=s.slice(1),a=`${BigInt(a)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${n?"-":""}${a}${s}`)}function ru(e,t="wei"){return qe(e,Pt[t])}function ou(e,t="wei"){return qe(e,Ct[t])}async function iu(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function cu(e){return e.request({method:`${e.mode}_dumpState`})}async function uu(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function du(e){return await e.request({method:"txpool_content"})}async function lu(e){const{pending:t,queued:a}=await e.request({method:"txpool_status"});return{pending:B(t),queued:B(a)}}async function fu(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function hu(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[C(t)]})}async function mu(e){return await e.request({method:"txpool_inspect"})}async function gu(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function pu(e,{blocks:t,interval:a}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:C(t)}]}):await e.request({method:`${e.mode}_mine`,params:[C(t),C(a||0)]})}async function yu(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function bu(e,{blockNumber:t,jsonRpcUrl:a}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:a}}]})}async function _u(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function Eu(e,t){var _,y,v;const{accessList:a,data:s,from:n,gas:r,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:o,nonce:c,to:m,value:h,...f}=t,i=(v=(y=(_=e.chain)==null?void 0:_.formatters)==null?void 0:y.transactionRequest)==null?void 0:v.format,g=(i||At)({...Ss(f,{format:i}),accessList:a,data:s,from:n,gas:r,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:o,nonce:c,to:m,value:h},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[g]})}async function wu(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function xu(e,{address:t,value:a}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,C(a)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,C(a)]})}async function vu(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[C(t)]})}async function Su(e,{interval:t}){const a=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[a]})}async function Iu(e,{address:t,bytecode:a}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,a]}):await e.request({method:`${e.mode}_setCode`,params:[t,a]})}async function Tu(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function Pu(e,{interval:t}){const a=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[a]})}async function Cu(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function Au(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[C(t)]})}async function Ru(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[C(t)]})}async function Bu(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[C(t)]})}async function ku(e,{address:t,nonce:a}){await e.request({method:`${e.mode}_setNonce`,params:[t,C(a)]})}async function Lu(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function Mu(e,{address:t,index:a,value:s}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof a=="number"?C(a):a,s]})}async function Ou(e){return await e.request({method:"evm_snapshot"})}async function ju(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function qu({abi:e,address:t,client:a}){const s=a,[n,r]=s?"public"in s&&"wallet"in s?[s.public,s.wallet]:"public"in s?[s.public,void 0]:"wallet"in s?[void 0,s.wallet]:[s,s]:[void 0,void 0],u=n!=null,d=r!=null,o={};let c=!1,m=!1,h=!1;for(const f of e)if(f.type==="function"?f.stateMutability==="view"||f.stateMutability==="pure"?c=!0:m=!0:f.type==="event"&&(h=!0),c&&m&&h)break;return u&&(c&&(o.read=new Proxy({},{get(f,i){return(...l)=>{const{args:g,options:p}=oe(l);return D(n,Is,"readContract")({abi:e,address:t,functionName:i,args:g,...p})}}})),m&&(o.simulate=new Proxy({},{get(f,i){return(...l)=>{const{args:g,options:p}=oe(l);return D(n,Ts,"simulateContract")({abi:e,address:t,functionName:i,args:g,...p})}}})),h&&(o.createEventFilter=new Proxy({},{get(f,i){return(...l)=>{const g=e.find(y=>y.type==="event"&&y.name===i),{args:p,options:_}=Se(l,g);return D(n,Ps,"createContractEventFilter")({abi:e,address:t,eventName:i,args:p,..._})}}}),o.getEvents=new Proxy({},{get(f,i){return(...l)=>{const g=e.find(y=>y.type==="event"&&y.name===i),{args:p,options:_}=Se(l,g);return D(n,Cs,"getContractEvents")({abi:e,address:t,eventName:i,args:p,..._})}}}),o.watchEvent=new Proxy({},{get(f,i){return(...l)=>{const g=e.find(y=>y.type==="event"&&y.name===i),{args:p,options:_}=Se(l,g);return D(n,As,"watchContractEvent")({abi:e,address:t,eventName:i,args:p,..._})}}}))),d&&m&&(o.write=new Proxy({},{get(f,i){return(...l)=>{const{args:g,options:p}=oe(l);return D(r,Rs,"writeContract")({abi:e,address:t,functionName:i,args:g,...p})}}})),(u||d)&&m&&(o.estimateGas=new Proxy({},{get(f,i){return(...l)=>{const{args:g,options:p}=oe(l);return D(n??r,Bs,"estimateContractGas")({abi:e,address:t,functionName:i,args:g,...p,account:p.account??r.account})}}})),o.address=t,o.abi=e,o}function oe(e){const t=e.length&&Array.isArray(e[0]),a=t?e[0]:[],s=(t?e[1]:e[0])??{};return{args:a,options:s}}function Se(e,t){let a=!1;Array.isArray(e[0])?a=!0:e.length===1?a=t.inputs.some(r=>r.indexed):e.length===2&&(a=!0);const s=a?e[0]:void 0,n=(a?e[1]:e[0])??{};return{args:s,options:n}}function ns({mode:e}){return t=>{const a=t.extend(()=>({mode:e}));return{dropTransaction:s=>iu(a,s),dumpState:()=>cu(a),getAutomine:()=>uu(a),getTxpoolContent:()=>du(a),getTxpoolStatus:()=>lu(a),impersonateAccount:s=>fu(a,s),increaseTime:s=>hu(a,s),inspectTxpool:()=>mu(a),loadState:s=>gu(a,s),mine:s=>pu(a,s),removeBlockTimestampInterval:()=>yu(a),reset:s=>bu(a,s),revert:s=>_u(a,s),sendUnsignedTransaction:s=>Eu(a,s),setAutomine:s=>wu(a,s),setBalance:s=>xu(a,s),setBlockGasLimit:s=>vu(a,s),setBlockTimestampInterval:s=>Su(a,s),setCode:s=>Iu(a,s),setCoinbase:s=>Tu(a,s),setIntervalMining:s=>Pu(a,s),setLoggingEnabled:s=>Cu(a,s),setMinGasPrice:s=>Au(a,s),setNextBlockBaseFeePerGas:s=>Ru(a,s),setNextBlockTimestamp:s=>Bu(a,s),setNonce:s=>ku(a,s),setRpcUrl:s=>Lu(a,s),setStorageAt:s=>Mu(a,s),snapshot:()=>Ou(a),stopImpersonatingAccount:s=>ju(a,s)}}}function Nu(e){const{key:t="test",name:a="Test Client",mode:s}=e;return Oe({...e,key:t,name:a,type:"testClient"}).extend(r=>({mode:s,...ns({mode:s})(r)}))}function Hu(e){const{key:t="wallet",name:a="Wallet Client",transport:s}=e;return Oe({...e,key:t,name:a,transport:s,type:"walletClient"}).extend(Rt)}function Uu(e,t={}){const{keepAlive:a,key:s="webSocket",methods:n,name:r="WebSocket JSON-RPC",reconnect:u,retryDelay:d}=t;return({chain:o,retryCount:c,timeout:m})=>{var g;const h=t.retryCount??c,f=m??t.timeout??1e4,i=e||((g=o==null?void 0:o.rpcUrls.default.webSocket)==null?void 0:g[0]),l={keepAlive:a,reconnect:u};if(!i)throw new Bt;return kt({key:s,methods:n,name:r,async request({method:p,params:_}){const y={method:p,params:_},v=await de(i,l),{error:k,result:S}=await v.requestAsync({body:y,timeout:f});if(k)throw new Lt({body:y,error:k,url:i});return S},retryCount:h,retryDelay:d,timeout:f,type:"webSocket"},{getSocket(){return zc(i)},getRpcClient(){return de(i,l)},async subscribe({params:p,onData:_,onError:y}){const v=await de(i,l),{result:k}=await new Promise((S,I)=>v.request({body:{method:"eth_subscribe",params:p},onError(E){I(E),y==null||y(E)},onResponse(E){if(E.error){I(E.error),y==null||y(E.error);return}if(typeof E.id=="number"){S(E);return}E.method==="eth_subscription"&&_(E.params)}}));return{subscriptionId:k,async unsubscribe(){return new Promise(S=>v.request({body:{method:"eth_unsubscribe",params:[k]},onResponse:S}))}}}})}}class Du extends Error{constructor(t,a){super(a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=a}}const Ie="/docs/contract/decodeDeployData";function Fu(e){const{abi:t,bytecode:a,data:s}=e;if(s===a)return{bytecode:a};const n=t.find(u=>"type"in u&&u.type==="constructor");if(!n)throw new Mt({docsPath:Ie});if(!("inputs"in n))throw new Re({docsPath:Ie});if(!n.inputs||n.inputs.length===0)throw new Re({docsPath:Ie});return{args:Me(n.inputs,`0x${s.replace(a,"")}`),bytecode:a}}function $u(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),a=typeof e.blobs[0]=="string"?e.blobs.map(d=>W(d)):e.blobs,s=a.reduce((d,o)=>d+o.length,0),n=Pe(new Uint8Array(s));let r=!0;for(const d of a){const o=Pe(d);for(;r&&o.position<d.length;){o.incrementPosition(1);let c=31;d.length-o.position<31&&(c=d.length-o.position);for(const m in Array.from({length:c})){const h=o.readByte();if(h===128&&!o.inspectBytes(o.remaining).includes(128)){r=!1;break}n.pushByte(h)}}}const u=n.bytes.slice(0,n.position);return t==="hex"?G(u):u}function Gu(e){const{sidecars:t,version:a}=e,s=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),n=[];for(const{commitment:r}of t)n.push(Ot({commitment:r,to:s,version:a}));return n}const Vu=2147483648;function zu(e){if(e===1)return 60n;if(e>=Vu||e<0)throw new jt({chainId:e});return BigInt((2147483648|e)>>>0)}function rs({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function Wu(e,t){try{e.loadTrustedSetup(t)}catch(a){const s=a;if(!s.message.includes("trusted setup is already loaded"))throw s}return rs(e)}function Ku({r:e,yParityAndS:t}){const a=W(t),s=a[0]&128?1:0,n=a;return s===1&&(n[0]&=127),{r:e,s:G(n),yParity:s}}function tt(e){const{r:t,s:a}=qt.Signature.fromCompact(e.slice(2,130));return{r:C(t,{size:32}),yParityAndS:C(a,{size:32})}}async function Ju(e){const{serializedTransaction:t,signature:a}=e,s=ss(t),n=a??{r:s.r,s:s.s,v:s.v,yParity:s.yParity},r=Dt({...s,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Q({hash:Y(r),signature:n})}function st({r:e,yParityAndS:t}){return`0x${new qt.Signature(x(e),x(t)).toCompactHex()}`}function Yu(e){const{r:t,s:a,v:s,yParity:n}=e,r=Number(n??s-27n);let u=a;if(r===1){const d=W(a);d[0]|=128,u=G(d)}return{r:t,yParityAndS:u}}const Xu=Object.freeze(Object.defineProperty({__proto__:null,AbiConstructorNotFoundError:Mt,AbiConstructorParamsNotFoundError:Re,AbiDecodingDataSizeInvalidError:ks,AbiDecodingDataSizeTooSmallError:Ls,AbiDecodingZeroDataError:Ms,AbiEncodingArrayLengthMismatchError:Os,AbiEncodingBytesSizeMismatchError:js,AbiEncodingLengthMismatchError:qs,AbiErrorInputsNotFoundError:Ns,AbiErrorNotFoundError:Hs,AbiErrorSignatureNotFoundError:Us,AbiEventNotFoundError:Ds,AbiEventSignatureEmptyTopicsError:Fs,AbiEventSignatureNotFoundError:$s,AbiFunctionNotFoundError:Gs,AbiFunctionOutputsNotFoundError:Vs,AbiFunctionSignatureNotFoundError:zs,AccountStateConflictError:Ws,AtomicReadyWalletRejectedUpgradeError:Ks,AtomicityNotSupportedError:Js,BaseError:ke,BaseFeeScalarError:Ys,BlockNotFoundError:Xs,BundleFailedError:Qs,BundleTooLargeError:Zs,BytesSizeMismatchError:ea,CallExecutionError:ta,ChainDisconnectedError:sa,ChainDoesNotSupportContract:aa,ChainMismatchError:na,ChainNotFoundError:ra,CircularReferenceError:oa,ClientChainNotConfiguredError:ia,ContractFunctionExecutionError:ca,ContractFunctionRevertedError:ua,ContractFunctionZeroDataError:da,CounterfactualDeploymentFailedError:la,DecodeLogDataMismatch:fa,DecodeLogTopicsMismatch:ha,DuplicateIdError:ma,EIP1193ProviderRpcError:Du,Eip1559FeesNotSupportedError:ga,EnsAvatarInvalidNftUriError:pa,EnsAvatarUnsupportedNamespaceError:ya,EnsAvatarUriResolutionError:ba,EnsInvalidChainIdError:jt,EstimateGasExecutionError:_a,ExecutionRevertedError:Ea,FeeCapTooHighError:wa,FeeCapTooLowError:xa,FeeConflictError:va,FilterTypeNotSupportedError:Sa,HttpRequestError:Ia,InsufficientFundsError:Ta,IntegerOutOfRangeError:Pa,InternalRpcError:Ca,IntrinsicGasTooHighError:Aa,IntrinsicGasTooLowError:Ra,InvalidAbiDecodingTypeError:Ba,InvalidAbiEncodingTypeError:ka,InvalidAbiItemError:La,InvalidAbiParameterError:ut,InvalidAbiParametersError:Ma,InvalidAbiTypeParameterError:Oa,InvalidAddressError:It,InvalidArrayError:ja,InvalidBytesBooleanError:qa,InvalidChainIdError:Na,InvalidDecimalNumberError:as,InvalidDefinitionTypeError:Ha,InvalidDomainError:Ua,InvalidFunctionModifierError:Da,InvalidHexBooleanError:Fa,InvalidHexValueError:mt,InvalidInputRpcError:$a,InvalidLegacyVError:vt,InvalidModifierError:Ga,InvalidParameterError:Va,InvalidParamsRpcError:za,InvalidParenthesisError:Wa,InvalidPrimaryTypeError:Ka,InvalidRequestRpcError:Ja,InvalidSerializableTransactionError:Ya,InvalidSerializedTransactionError:K,InvalidSerializedTransactionTypeError:wt,InvalidSignatureError:Xa,InvalidStorageKeySizeError:Qa,InvalidStructSignatureError:Za,InvalidStructTypeError:en,JsonRpcVersionUnsupportedError:tn,LimitExceededRpcError:sn,MaxFeePerGasTooLowError:an,MethodNotFoundRpcError:nn,MethodNotSupportedRpcError:rn,NonceMaxValueError:on,NonceTooHighError:cn,NonceTooLowError:un,ParseRpcError:dn,ProviderDisconnectedError:ln,ProviderRpcError:fn,RawContractError:hn,ResourceNotFoundRpcError:mn,ResourceUnavailableRpcError:gn,RpcError:pn,RpcRequestError:Lt,SizeExceedsPaddingSizeError:yn,SizeOverflowError:bn,SliceOffsetOutOfBoundsError:_n,SocketClosedError:X,SolidityProtectedKeywordError:En,StateAssignmentConflictError:wn,SwitchChainError:xn,TimeoutError:bt,TipAboveFeeCapError:vn,TransactionExecutionError:Sn,TransactionNotFoundError:In,TransactionReceiptNotFoundError:Tn,TransactionRejectedRpcError:Pn,TransactionTypeNotSupportedError:Cn,UnauthorizedProviderError:An,UnknownBundleIdError:Rn,UnknownNodeError:Bn,UnknownRpcError:kn,UnknownSignatureError:Ln,UnknownTypeError:Mn,UnsupportedChainIdError:On,UnsupportedNonOptionalCapabilityError:jn,UnsupportedPackedAbiType:qn,UnsupportedProviderMethodError:Nn,UrlRequiredError:Bt,UserRejectedRequestError:Hn,WaitForCallsStatusTimeoutError:Un,WaitForTransactionReceiptTimeoutError:Dn,WebSocketRequestError:Ce,assertCurrentChain:Fn,assertRequest:$n,assertTransactionEIP1559:Nt,assertTransactionEIP2930:Ht,assertTransactionLegacy:Ut,blobsToCommitments:Gn,blobsToProofs:Vn,boolToBytes:zn,boolToHex:Wn,bytesToBigInt:Kn,bytesToBool:Jn,bytesToHex:G,bytesToNumber:Yn,bytesToRlp:Xn,bytesToString:Qn,ccipFetch:Qe,ccipRequest:Qe,checksumAddress:Zn,commitmentToVersionedHash:Ot,commitmentsToVersionedHashes:er,compactSignatureToHex:st,compactSignatureToSignature:Ku,concat:ft,concatBytes:tr,concatHex:sr,createClient:Oe,createNonceManager:pc,createPublicClient:yc,createTestClient:Nu,createTransport:kt,createWalletClient:Hu,custom:ar,decodeAbiParameters:Me,decodeDeployData:Fu,decodeErrorResult:nr,decodeEventLog:rr,decodeFunctionData:or,decodeFunctionResult:ir,defineBlock:cr,defineChain:ur,defineKzg:rs,defineTransaction:dr,defineTransactionReceipt:lr,defineTransactionRequest:fr,deploylessCallViaBytecodeBytecode:hr,deploylessCallViaFactoryBytecode:mr,domainSeparator:gr,encodeAbiParameters:pr,encodeDeployData:yr,encodeErrorResult:br,encodeEventTopics:_r,encodeFunctionData:Er,encodeFunctionResult:wr,encodePacked:bc,erc1155Abi:xr,erc20Abi:vr,erc20Abi_bytes32:Sr,erc4626Abi:Ir,erc6492SignatureValidatorAbi:Ve,erc6492SignatureValidatorByteCode:ze,erc721Abi:Tr,ethAddress:Pr,etherUnits:Pt,extractChain:Lc,fallback:vc,formatBlock:Cr,formatEther:Ar,formatGwei:Rr,formatLog:Br,formatTransaction:kr,formatTransactionReceipt:Lr,formatTransactionRequest:At,formatUnits:Mr,fromBlobs:$u,fromBytes:Or,fromHex:jr,fromRlp:je,getAbiItem:qr,getAddress:U,getChainContractAddress:Nr,getContract:qu,getContractAddress:kc,getContractError:Hr,getCreate2Address:$t,getCreateAddress:Ft,getEventSelector:We,getEventSignature:ne,getFunctionSelector:Ke,getFunctionSignature:ne,getSerializedTransactionType:ts,getTransactionType:Ur,getTypesForEIP712Domain:Dr,gweiUnits:Ct,hashDomain:Fr,hashMessage:_t,hashStruct:$r,hashTypedData:Et,hexToBigInt:x,hexToBool:Gr,hexToBytes:W,hexToCompactSignature:tt,hexToNumber:B,hexToRlp:Vr,hexToSignature:Xe,hexToString:zr,http:Wr,isAddress:St,isAddressEqual:fe,isBytes:Be,isErc6492Signature:Xt,isErc8010Signature:Qt,isHash:Vt,isHex:b,keccak256:Y,labelhash:Kr,maxInt104:Jr,maxInt112:Yr,maxInt120:Xr,maxInt128:Qr,maxInt136:Zr,maxInt144:eo,maxInt152:to,maxInt16:so,maxInt160:ao,maxInt168:no,maxInt176:ro,maxInt184:oo,maxInt192:io,maxInt200:co,maxInt208:uo,maxInt216:lo,maxInt224:fo,maxInt232:ho,maxInt24:mo,maxInt240:go,maxInt248:po,maxInt256:yo,maxInt32:bo,maxInt40:_o,maxInt48:Eo,maxInt56:wo,maxInt64:xo,maxInt72:vo,maxInt8:So,maxInt80:Io,maxInt88:To,maxInt96:Po,maxUint104:Co,maxUint112:Ao,maxUint120:Ro,maxUint128:Bo,maxUint136:ko,maxUint144:Lo,maxUint152:Mo,maxUint16:Oo,maxUint160:jo,maxUint168:qo,maxUint176:No,maxUint184:Ho,maxUint192:Uo,maxUint200:Do,maxUint208:Fo,maxUint216:$o,maxUint224:Go,maxUint232:Vo,maxUint24:zo,maxUint240:Wo,maxUint248:Ko,maxUint256:Jo,maxUint32:Yo,maxUint40:Xo,maxUint48:Qo,maxUint56:Zo,maxUint64:ei,maxUint72:ti,maxUint8:si,maxUint80:ai,maxUint88:ni,maxUint96:ri,minInt104:oi,minInt112:ii,minInt120:ci,minInt128:ui,minInt136:di,minInt144:li,minInt152:fi,minInt16:hi,minInt160:mi,minInt168:gi,minInt176:pi,minInt184:yi,minInt192:bi,minInt200:_i,minInt208:Ei,minInt216:wi,minInt224:xi,minInt232:vi,minInt24:Si,minInt240:Ii,minInt248:Ti,minInt256:Pi,minInt32:Ci,minInt40:Ai,minInt48:Ri,minInt56:Bi,minInt64:ki,minInt72:Li,minInt8:Mi,minInt80:Oi,minInt88:ji,minInt96:qi,multicall3Abi:Ni,namehash:Hi,nonceManager:_c,numberToBytes:Ui,numberToHex:C,offchainLookup:Tc,offchainLookupAbiItem:Pc,offchainLookupSignature:Cc,pad:dt,padBytes:Di,padHex:Ae,parseAbi:Fi,parseAbiItem:$i,parseAbiParameter:Bc,parseAbiParameters:Gi,parseCompactSignature:tt,parseErc6492Signature:Wc,parseErc8010Signature:Kc,parseEther:ru,parseEventLogs:Vi,parseGwei:ou,parseSignature:Xe,parseTransaction:ss,parseUnits:qe,prepareEncodeFunctionData:zi,presignMessagePrefix:Wi,publicActions:Ki,recoverAddress:Q,recoverMessageAddress:Zt,recoverPublicKey:Ji,recoverTransactionAddress:Ju,recoverTypedDataAddress:es,ripemd160:Gc,rpcSchema:Yi,rpcTransactionType:Xi,serializeAccessList:Ec,serializeCompactSignature:st,serializeErc6492Signature:wc,serializeErc8010Signature:Jc,serializeSignature:Je,serializeTransaction:Dt,serializeTypedData:Qi,setErrorConfig:Zi,setupKzg:Wu,sha256:ec,shouldThrow:Sc,sidecarsToVersionedHashes:Gu,signatureToCompactSignature:Yu,signatureToHex:Je,size:gt,slice:lt,sliceBytes:tc,sliceHex:Le,stringToBytes:sc,stringToHex:ac,stringify:nc,testActions:ns,toBlobSidecars:xt,toBlobs:rc,toBytes:H,toCoinType:zu,toEventHash:Ye,toEventSelector:We,toEventSignature:ne,toFunctionHash:Ye,toFunctionSelector:Ke,toFunctionSignature:ne,toHex:pt,toPrefixedMessage:oc,toRlp:ht,transactionType:ic,trim:Tt,universalSignatureValidatorAbi:Ve,universalSignatureValidatorByteCode:ze,validateTypedData:cc,verifyHash:Yc,verifyMessage:Xc,verifyTypedData:Qc,walletActions:Rt,webSocket:Uu,weiUnits:uc,withCache:dc,withRetry:lc,withTimeout:yt,zeroAddress:fc,zeroHash:xc},Symbol.toStringTag,{value:"Module"}));var Ne={},ge={},os={},le={},is={},ee={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.getSDKVersion=void 0;const Qu=()=>"9.1.0";te.getSDKVersion=Qu;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.generateRequestId=void 0;const Zu=e=>e.toString(16).padStart(2,"0"),ed=e=>{const t=new Uint8Array(e/2);return window.crypto.getRandomValues(t),Array.from(t,Zu).join("")},td=()=>typeof window<"u"?ed(10):new Date().getTime().toString(36);pe.generateRequestId=td;Object.defineProperty(ee,"__esModule",{value:!0});ee.MessageFormatter=void 0;const sd=te,ad=pe;class ye{}ee.MessageFormatter=ye;ye.makeRequest=(e,t)=>({id:(0,ad.generateRequestId)(),method:e,params:t,env:{sdkVersion:(0,sd.getSDKVersion)()}});ye.makeResponse=(e,t,a)=>({id:e,success:!0,version:a,data:t});ye.makeErrorResponse=(e,t,a)=>({id:e,success:!1,error:t,version:a});var j={};Object.defineProperty(j,"__esModule",{value:!0});j.RestrictedMethods=j.Methods=void 0;var at;(function(e){e.sendTransactions="sendTransactions",e.rpcCall="rpcCall",e.getChainInfo="getChainInfo",e.getSafeInfo="getSafeInfo",e.getTxBySafeTxHash="getTxBySafeTxHash",e.getSafeBalances="getSafeBalances",e.signMessage="signMessage",e.signTypedMessage="signTypedMessage",e.getEnvironmentInfo="getEnvironmentInfo",e.getOffChainSignature="getOffChainSignature",e.requestAddressBook="requestAddressBook",e.wallet_getPermissions="wallet_getPermissions",e.wallet_requestPermissions="wallet_requestPermissions"})(at||(j.Methods=at={}));var nt;(function(e){e.requestAddressBook="requestAddressBook"})(nt||(j.RestrictedMethods=nt={}));(function(e){var t=P&&P.__createBinding||(Object.create?function(r,u,d,o){o===void 0&&(o=d);var c=Object.getOwnPropertyDescriptor(u,d);(!c||("get"in c?!u.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(r,o,c)}:function(r,u,d,o){o===void 0&&(o=d),r[o]=u[d]}),a=P&&P.__exportStar||function(r,u){for(var d in r)d!=="default"&&!Object.prototype.hasOwnProperty.call(u,d)&&t(u,r,d)};Object.defineProperty(e,"__esModule",{value:!0});const s=ee;class n{constructor(u=null,d=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:o,data:c,source:m})=>{const h=!c,f=!this.isServer&&m===window.parent,i=typeof c.version<"u"&&parseInt(c.version.split(".")[0]),l=typeof i=="number"&&i>=1;let g=!0;return Array.isArray(this.allowedOrigins)&&(g=this.allowedOrigins.find(p=>p.test(o))!==void 0),!h&&f&&l&&g},this.logIncomingMessage=o=>{console.info(`Safe Apps SDK v1: A message was received from origin ${o.origin}. `,o.data)},this.onParentMessage=o=>{this.isValidMessage(o)&&(this.debugMode&&this.logIncomingMessage(o),this.handleIncomingMessage(o.data))},this.handleIncomingMessage=o=>{const{id:c}=o,m=this.callbacks.get(c);m&&(m(o),this.callbacks.delete(c))},this.send=(o,c)=>{const m=s.MessageFormatter.makeRequest(o,c);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(m,"*"),new Promise((h,f)=>{this.callbacks.set(m.id,i=>{if(!i.success){f(new Error(i.error));return}h(i)})})},this.allowedOrigins=u,this.debugMode=d,this.isServer||window.addEventListener("message",this.onParentMessage)}}e.default=n,a(j,e)})(is);var be={},_e={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.isObjectEIP712TypedData=void 0;const nd=e=>typeof e=="object"&&e!=null&&"domain"in e&&"types"in e&&"message"in e;Ee.isObjectEIP712TypedData=nd;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});var us={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TransferDirection=e.TransactionStatus=e.TokenType=e.Operation=void 0;var t=ms;Object.defineProperty(e,"Operation",{enumerable:!0,get:function(){return t.Operation}}),Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return t.TokenType}}),Object.defineProperty(e,"TransactionStatus",{enumerable:!0,get:function(){return t.TransactionStatus}}),Object.defineProperty(e,"TransferDirection",{enumerable:!0,get:function(){return t.TransferDirection}})})(us);var ds={};Object.defineProperty(ds,"__esModule",{value:!0});(function(e){var t=P&&P.__createBinding||(Object.create?function(s,n,r,u){u===void 0&&(u=r);var d=Object.getOwnPropertyDescriptor(n,r);(!d||("get"in d?!n.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(s,u,d)}:function(s,n,r,u){u===void 0&&(u=r),s[u]=n[r]}),a=P&&P.__exportStar||function(s,n){for(var r in s)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,s,r)};Object.defineProperty(e,"__esModule",{value:!0}),a(Ee,e),a(cs,e),a(us,e),a(ds,e)})(_e);Object.defineProperty(be,"__esModule",{value:!0});be.TXs=void 0;const ie=j,rd=_e;class od{constructor(t){this.communicator=t}async getBySafeTxHash(t){if(!t)throw new Error("Invalid safeTxHash");return(await this.communicator.send(ie.Methods.getTxBySafeTxHash,{safeTxHash:t})).data}async signMessage(t){const a={message:t};return(await this.communicator.send(ie.Methods.signMessage,a)).data}async signTypedMessage(t){if(!(0,rd.isObjectEIP712TypedData)(t))throw new Error("Invalid typed data");return(await this.communicator.send(ie.Methods.signTypedMessage,{typedData:t})).data}async send({txs:t,params:a}){if(!t||!t.length)throw new Error("No transactions were passed");const s={txs:t,params:a};return(await this.communicator.send(ie.Methods.sendTransactions,s)).data}}be.TXs=od;var we={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.RPC_CALLS=void 0;J.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"};Object.defineProperty(we,"__esModule",{value:!0});we.Eth=void 0;const L=J,id=j,q={defaultBlockParam:(e="latest")=>e,returnFullTxObjectParam:(e=!1)=>e,blockNumberToHex:e=>Number.isInteger(e)?`0x${e.toString(16)}`:e};class cd{constructor(t){this.communicator=t,this.call=this.buildRequest({call:L.RPC_CALLS.eth_call,formatters:[null,q.defaultBlockParam]}),this.getBalance=this.buildRequest({call:L.RPC_CALLS.eth_getBalance,formatters:[null,q.defaultBlockParam]}),this.getCode=this.buildRequest({call:L.RPC_CALLS.eth_getCode,formatters:[null,q.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:L.RPC_CALLS.eth_getStorageAt,formatters:[null,q.blockNumberToHex,q.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:L.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:L.RPC_CALLS.eth_getBlockByHash,formatters:[null,q.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:L.RPC_CALLS.eth_getBlockByNumber,formatters:[q.blockNumberToHex,q.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:L.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:L.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:L.RPC_CALLS.eth_getTransactionCount,formatters:[null,q.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:L.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=a=>this.buildRequest({call:L.RPC_CALLS.eth_estimateGas})([a]),this.setSafeSettings=this.buildRequest({call:L.RPC_CALLS.safe_setSettings})}buildRequest(t){const{call:a,formatters:s}=t;return async n=>{s&&Array.isArray(n)&&s.forEach((d,o)=>{d&&(n[o]=d(n[o]))});const r={call:a,params:n||[]};return(await this.communicator.send(id.Methods.rpcCall,r)).data}}}we.Eth=cd;var xe={};const ud=fs(Xu);var V={};Object.defineProperty(V,"__esModule",{value:!0});V.MAGIC_VALUE_BYTES=V.MAGIC_VALUE=void 0;const dd="0x1626ba7e";V.MAGIC_VALUE=dd;const ld="0x20c13b0b";V.MAGIC_VALUE_BYTES=ld;var He={},se={},F={};Object.defineProperty(F,"__esModule",{value:!0});F.PermissionsError=F.PERMISSIONS_REQUEST_REJECTED=void 0;F.PERMISSIONS_REQUEST_REJECTED=4001;class Ue extends Error{constructor(t,a,s){super(t),this.code=a,this.data=s,Object.setPrototypeOf(this,Ue.prototype)}}F.PermissionsError=Ue;Object.defineProperty(se,"__esModule",{value:!0});se.Wallet=void 0;const Te=j,ce=F;class fd{constructor(t){this.communicator=t}async getPermissions(){return(await this.communicator.send(Te.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(t){if(!this.isPermissionRequestValid(t))throw new ce.PermissionsError("Permissions request is invalid",ce.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(Te.Methods.wallet_requestPermissions,t)).data}catch{throw new ce.PermissionsError("Permissions rejected",ce.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(t){return t.every(a=>typeof a=="object"?Object.keys(a).every(s=>!!Object.values(Te.RestrictedMethods).includes(s)):!1)}}se.Wallet=fd;Object.defineProperty(He,"__esModule",{value:!0});const hd=se,rt=F,ot=(e,t)=>t.some(a=>a.parentCapability===e),md=()=>(e,t,a)=>{const s=a.value;return a.value=async function(){const n=new hd.Wallet(this.communicator);let r=await n.getPermissions();if(ot(t,r)||(r=await n.requestPermissions([{[t]:{}}])),!ot(t,r))throw new rt.PermissionsError("Permissions rejected",rt.PERMISSIONS_REQUEST_REJECTED);return s.apply(this)},a};He.default=md;var gd=P&&P.__decorate||function(e,t,a,s){var n=arguments.length,r=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,a):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,a,s);else for(var d=e.length-1;d>=0;d--)(u=e[d])&&(r=(n<3?u(r):n>3?u(t,a,r):u(t,a))||r);return n>3&&r&&Object.defineProperty(t,a,r),r},pd=P&&P.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xe,"__esModule",{value:!0});xe.Safe=void 0;const ue=ud,it=V,N=j,ct=J,yd=_e,bd=pd(He);class ls{constructor(t){this.communicator=t}async getChainInfo(){return(await this.communicator.send(N.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(N.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:t="usd"}={}){return(await this.communicator.send(N.Methods.getSafeBalances,{currency:t})).data}async check1271Signature(t,a="0x"){const s=await this.getInfo(),n=(0,ue.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,a]}),r={call:ct.RPC_CALLS.eth_call,params:[{to:s.safeAddress,data:n},"latest"]};try{return(await this.communicator.send(N.Methods.rpcCall,r)).data.slice(0,10).toLowerCase()===it.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(t,a="0x"){const s=await this.getInfo(),n=(0,ue.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[t,a]}),r={call:ct.RPC_CALLS.eth_call,params:[{to:s.safeAddress,data:n},"latest"]};try{return(await this.communicator.send(N.Methods.rpcCall,r)).data.slice(0,10).toLowerCase()===it.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(t){return(0,ue.hashMessage)(t)}calculateTypedMessageHash(t){const a=typeof t.domain.chainId=="object"?t.domain.chainId.toNumber():Number(t.domain.chainId);let s=t.primaryType;if(!s){const n=Object.values(t.types),r=Object.keys(t.types).filter(u=>n.every(d=>d.every(({type:o})=>o.replace("[","").replace("]","")!==u)));if(r.length===0||r.length>1)throw new Error("Please specify primaryType");s=r[0]}return(0,ue.hashTypedData)({message:t.message,domain:{...t.domain,chainId:a,verifyingContract:t.domain.verifyingContract,salt:t.domain.salt},types:t.types,primaryType:s})}async getOffChainSignature(t){return(await this.communicator.send(N.Methods.getOffChainSignature,t)).data}async isMessageSigned(t,a="0x"){let s;if(typeof t=="string"&&(s=async()=>{const n=this.calculateMessageHash(t);return await this.isMessageHashSigned(n,a)}),(0,yd.isObjectEIP712TypedData)(t)&&(s=async()=>{const n=this.calculateTypedMessageHash(t);return await this.isMessageHashSigned(n,a)}),s)return await s();throw new Error("Invalid message type")}async isMessageHashSigned(t,a="0x"){const s=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const n of s)if(await n(t,a))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(N.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(N.Methods.requestAddressBook,void 0)).data}}xe.Safe=ls;gd([(0,bd.default)()],ls.prototype,"requestAddressBook",null);var _d=P&&P.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(le,"__esModule",{value:!0});const Ed=_d(is),wd=be,xd=we,vd=xe,Sd=se;class Id{constructor(t={}){const{allowedDomains:a=null,debug:s=!1}=t;this.communicator=new Ed.default(a,s),this.eth=new xd.Eth(this.communicator),this.txs=new wd.TXs(this.communicator),this.safe=new vd.Safe(this.communicator),this.wallet=new Sd.Wallet(this.communicator)}}le.default=Id;(function(e){var t=P&&P.__createBinding||(Object.create?function(u,d,o,c){c===void 0&&(c=o);var m=Object.getOwnPropertyDescriptor(d,o);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[o]}}),Object.defineProperty(u,c,m)}:function(u,d,o,c){c===void 0&&(c=o),u[c]=d[o]}),a=P&&P.__exportStar||function(u,d){for(var o in u)o!=="default"&&!Object.prototype.hasOwnProperty.call(d,o)&&t(d,u,o)},s=P&&P.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSDKVersion=void 0;const n=s(le);e.default=n.default,a(le,e),a(_e,e),a(j,e),a(ee,e);var r=te;Object.defineProperty(e,"getSDKVersion",{enumerable:!0,get:function(){return r.getSDKVersion}}),a(J,e)})(os);var z={};Object.defineProperty(z,"__esModule",{value:!0});z.numberToHex=z.getLowerCase=void 0;function Td(e){return e&&e.toLowerCase()}z.getLowerCase=Td;function Pd(e){return`0x${e.toString(16)}`}z.numberToHex=Pd;Object.defineProperty(ge,"__esModule",{value:!0});ge.SafeAppProvider=void 0;const $=os,Cd=Ac,O=z;class Ad extends Cd.EventEmitter{constructor(t,a){super(),this.submittedTxs=new Map,this.safe=t,this.sdk=a}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(t){var n,r,u,d;const{method:a,params:s=[]}=t;switch(a){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,O.numberToHex)(this.chainId);case"personal_sign":{const[f,i]=s;if(this.safe.safeAddress.toLowerCase()!==i.toLowerCase())throw new Error("The address or message hash is invalid");const l=await this.sdk.txs.signMessage(f);return("signature"in l?l.signature:void 0)||"0x"}case"eth_sign":{const[f,i]=s;if(this.safe.safeAddress.toLowerCase()!==f.toLowerCase()||!i.startsWith("0x"))throw new Error("The address or message hash is invalid");const l=await this.sdk.txs.signMessage(i);return("signature"in l?l.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[f,i]=s,l=typeof i=="string"?JSON.parse(i):i;if(this.safe.safeAddress.toLowerCase()!==f.toLowerCase())throw new Error("The address is invalid");const g=await this.sdk.txs.signTypedMessage(l);return("signature"in g?g.signature:void 0)||"0x"}case"eth_sendTransaction":const o={...s[0],value:s[0].value||"0",data:s[0].data||"0x"};typeof o.gas=="string"&&o.gas.startsWith("0x")&&(o.gas=parseInt(o.gas,16));const c=await this.sdk.txs.send({txs:[o],params:{safeTxGas:o.gas}});return this.submittedTxs.set(c.safeTxHash,{from:this.safe.safeAddress,hash:c.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:o.data,value:o.value,to:o.to,blockHash:null,blockNumber:null,transactionIndex:null}),c.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,O.getLowerCase)(s[0]),s[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,O.getLowerCase)(s[0]),s[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,O.getLowerCase)(s[0]),s[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,O.getLowerCase)(s[0]),s[1],s[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([s[0],s[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([s[0],s[1]]);case"eth_getTransactionByHash":let h=s[0];try{h=(await this.sdk.txs.getBySafeTxHash(h)).txHash||h}catch{}return this.submittedTxs.has(h)?this.submittedTxs.get(h):this.sdk.eth.getTransactionByHash([h]).then(f=>(f&&(f.hash=s[0]),f));case"eth_getTransactionReceipt":{let f=s[0];try{f=(await this.sdk.txs.getBySafeTxHash(f)).txHash||f}catch{}return this.sdk.eth.getTransactionReceipt([f]).then(i=>(i&&(i.transactionHash=s[0]),i))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(s[0]);case"eth_call":return this.sdk.eth.call([s[0],s[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([s[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(s[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([s[0]]);case"wallet_sendCalls":{const{from:f,calls:i,chainId:l}=s[0];if(l!==(0,O.numberToHex)(this.chainId))throw new Error(`Safe is not on chain ${l}`);if(f!==this.safe.safeAddress)throw Error("Invalid from address");const g=i.map((y,v)=>{if(!y.to)throw new Error(`Invalid call #${v}: missing "to" field`);return{to:y.to,data:y.data??"0x",value:y.value??(0,O.numberToHex)(0)}}),{safeTxHash:p}=await this.sdk.txs.send({txs:g});return{id:p}}case"wallet_getCallsStatus":{const f=s[0],i={[$.TransactionStatus.AWAITING_CONFIRMATIONS]:100,[$.TransactionStatus.AWAITING_EXECUTION]:100,[$.TransactionStatus.SUCCESS]:200,[$.TransactionStatus.CANCELLED]:400,[$.TransactionStatus.FAILED]:500},l=await this.sdk.txs.getBySafeTxHash(f),g={version:"1.0",id:f,chainId:(0,O.numberToHex)(this.chainId),status:i[l.txStatus]};if(!l.txHash)return g;const p=await this.sdk.eth.getTransactionReceipt([l.txHash]);if(!p)return g;const _=((r=(n=l.txData)==null?void 0:n.dataDecoded)==null?void 0:r.method)!=="multiSend"?1:((d=(u=l.txData.dataDecoded.parameters)==null?void 0:u[0].valueDecoded)==null?void 0:d.length)??1,y=Number(p.blockNumber),v=Number(p.gasUsed);return g.receipts=Array(_).fill({logs:p.logs,status:(0,O.numberToHex)(l.txStatus===$.TransactionStatus.SUCCESS?1:0),blockHash:p.blockHash,blockNumber:(0,O.numberToHex)(y),gasUsed:(0,O.numberToHex)(v),transactionHash:l.txHash}),g}case"wallet_showCallsStatus":throw new Error(`"${t.method}" not supported`);case"wallet_getCapabilities":return{[(0,O.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${t.method}" not implemented`)}}send(t,a){t||a("Undefined request"),this.request(t).then(s=>a(null,{jsonrpc:"2.0",id:t.id,result:s})).catch(s=>a(s,null))}}ge.SafeAppProvider=Ad;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeAppProvider=void 0;var t=ge;Object.defineProperty(e,"SafeAppProvider",{enumerable:!0,get:function(){return t.SafeAppProvider}})})(Ne);const Rd=hs(Ne),Hd=Rc({__proto__:null,default:Rd},[Ne]);export{Hd as i};
